function $U(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const A in n)if(A!=="default"&&!(A in t)){const s=Object.getOwnPropertyDescriptor(n,A);s&&Object.defineProperty(t,A,s.get?s:{enumerable:!0,get:()=>n[A]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const A of document.querySelectorAll('link[rel="modulepreload"]'))n(A);new MutationObserver(A=>{for(const s of A)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(A){const s={};return A.integrity&&(s.integrity=A.integrity),A.referrerPolicy&&(s.referrerPolicy=A.referrerPolicy),A.crossOrigin==="use-credentials"?s.credentials="include":A.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(A){if(A.ep)return;A.ep=!0;const s=r(A);fetch(A.href,s)}})();function qU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $x={exports:{}},sd={},qx={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xa=Symbol.for("react.element"),JU=Symbol.for("react.portal"),XU=Symbol.for("react.fragment"),YU=Symbol.for("react.strict_mode"),ZU=Symbol.for("react.profiler"),eF=Symbol.for("react.provider"),tF=Symbol.for("react.context"),rF=Symbol.for("react.forward_ref"),nF=Symbol.for("react.suspense"),AF=Symbol.for("react.memo"),sF=Symbol.for("react.lazy"),ey=Symbol.iterator;function iF(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var Jx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xx=Object.assign,Yx={};function Gi(t,e,r){this.props=t,this.context=e,this.refs=Yx,this.updater=r||Jx}Gi.prototype.isReactComponent={};Gi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Zx(){}Zx.prototype=Gi.prototype;function Km(t,e,r){this.props=t,this.context=e,this.refs=Yx,this.updater=r||Jx}var Gm=Km.prototype=new Zx;Gm.constructor=Km;Xx(Gm,Gi.prototype);Gm.isPureReactComponent=!0;var ty=Array.isArray,eC=Object.prototype.hasOwnProperty,zm={current:null},tC={key:!0,ref:!0,__self:!0,__source:!0};function rC(t,e,r){var n,A={},s=null,i=null;if(e!=null)for(n in e.ref!==void 0&&(i=e.ref),e.key!==void 0&&(s=""+e.key),e)eC.call(e,n)&&!tC.hasOwnProperty(n)&&(A[n]=e[n]);var a=arguments.length-2;if(a===1)A.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];A.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)A[n]===void 0&&(A[n]=a[n]);return{$$typeof:Xa,type:t,key:s,ref:i,props:A,_owner:zm.current}}function oF(t,e){return{$$typeof:Xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Xa}function aF(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var ry=/\/+/g;function Sh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?aF(""+t.key):e.toString(36)}function Nc(t,e,r,n,A){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var i=!1;if(t===null)i=!0;else switch(s){case"string":case"number":i=!0;break;case"object":switch(t.$$typeof){case Xa:case JU:i=!0}}if(i)return i=t,A=A(i),t=n===""?"."+Sh(i,0):n,ty(A)?(r="",t!=null&&(r=t.replace(ry,"$&/")+"/"),Nc(A,e,r,"",function(u){return u})):A!=null&&(Wm(A)&&(A=oF(A,r+(!A.key||i&&i.key===A.key?"":(""+A.key).replace(ry,"$&/")+"/")+t)),e.push(A)),1;if(i=0,n=n===""?".":n+":",ty(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+Sh(s,a);i+=Nc(s,e,r,l,A)}else if(l=iF(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+Sh(s,a++),i+=Nc(s,e,r,l,A);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return i}function Pl(t,e,r){if(t==null)return t;var n=[],A=0;return Nc(t,n,"","",function(s){return e.call(r,s,A++)}),n}function lF(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rr={current:null},Sc={transition:null},cF={ReactCurrentDispatcher:rr,ReactCurrentBatchConfig:Sc,ReactCurrentOwner:zm};function nC(){throw Error("act(...) is not supported in production builds of React.")}xe.Children={map:Pl,forEach:function(t,e,r){Pl(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Pl(t,function(){e++}),e},toArray:function(t){return Pl(t,function(e){return e})||[]},only:function(t){if(!Wm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Component=Gi;xe.Fragment=XU;xe.Profiler=ZU;xe.PureComponent=Km;xe.StrictMode=YU;xe.Suspense=nF;xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cF;xe.act=nC;xe.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Xx({},t.props),A=t.key,s=t.ref,i=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,i=zm.current),e.key!==void 0&&(A=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)eC.call(e,l)&&!tC.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Xa,type:t.type,key:A,ref:s,props:n,_owner:i}};xe.createContext=function(t){return t={$$typeof:tF,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eF,_context:t},t.Consumer=t};xe.createElement=rC;xe.createFactory=function(t){var e=rC.bind(null,t);return e.type=t,e};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:rF,render:t}};xe.isValidElement=Wm;xe.lazy=function(t){return{$$typeof:sF,_payload:{_status:-1,_result:t},_init:lF}};xe.memo=function(t,e){return{$$typeof:AF,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=Sc.transition;Sc.transition={};try{t()}finally{Sc.transition=e}};xe.unstable_act=nC;xe.useCallback=function(t,e){return rr.current.useCallback(t,e)};xe.useContext=function(t){return rr.current.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t){return rr.current.useDeferredValue(t)};xe.useEffect=function(t,e){return rr.current.useEffect(t,e)};xe.useId=function(){return rr.current.useId()};xe.useImperativeHandle=function(t,e,r){return rr.current.useImperativeHandle(t,e,r)};xe.useInsertionEffect=function(t,e){return rr.current.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return rr.current.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return rr.current.useMemo(t,e)};xe.useReducer=function(t,e,r){return rr.current.useReducer(t,e,r)};xe.useRef=function(t){return rr.current.useRef(t)};xe.useState=function(t){return rr.current.useState(t)};xe.useSyncExternalStore=function(t,e,r){return rr.current.useSyncExternalStore(t,e,r)};xe.useTransition=function(){return rr.current.useTransition()};xe.version="18.3.1";qx.exports=xe;var k=qx.exports;const uF=qU(k),dF=$U({__proto__:null,default:uF},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hF=k,fF=Symbol.for("react.element"),gF=Symbol.for("react.fragment"),mF=Object.prototype.hasOwnProperty,pF=hF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wF={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,r){var n,A={},s=null,i=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(i=e.ref);for(n in e)mF.call(e,n)&&!wF.hasOwnProperty(n)&&(A[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)A[n]===void 0&&(A[n]=e[n]);return{$$typeof:fF,type:t,key:s,ref:i,props:A,_owner:pF.current}}sd.Fragment=gF;sd.jsx=AC;sd.jsxs=AC;$x.exports=sd;var o=$x.exports,sC={exports:{}},_r={},iC={exports:{}},oC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,M){var V=L.length;L.push(M);e:for(;0<V;){var q=V-1>>>1,X=L[q];if(0<A(X,M))L[q]=M,L[V]=X,V=q;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var M=L[0],V=L.pop();if(V!==M){L[0]=V;e:for(var q=0,X=L.length,K=X>>>1;q<K;){var oe=2*(q+1)-1,ae=L[oe],z=oe+1,Z=L[z];if(0>A(ae,V))z<X&&0>A(Z,ae)?(L[q]=Z,L[z]=V,q=z):(L[q]=ae,L[oe]=V,q=oe);else if(z<X&&0>A(Z,V))L[q]=Z,L[z]=V,q=z;else break e}}return M}function A(L,M){var V=L.sortIndex-M.sortIndex;return V!==0?V:L.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var i=Date,a=i.now();t.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,f=3,w=!1,v=!1,_=!1,Q=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(L){for(var M=r(u);M!==null;){if(M.callback===null)n(u);else if(M.startTime<=L)n(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=r(u)}}function C(L){if(_=!1,y(L),!v)if(r(l)!==null)v=!0,ee(F);else{var M=r(u);M!==null&&ne(C,M.startTime-L)}}function F(L,M){v=!1,_&&(_=!1,B(x),x=-1),w=!0;var V=f;try{for(y(M),h=r(l);h!==null&&(!(h.expirationTime>M)||L&&!S());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var X=q(h.expirationTime<=M);M=t.unstable_now(),typeof X=="function"?h.callback=X:h===r(l)&&n(l),y(M)}else n(l);h=r(l)}if(h!==null)var K=!0;else{var oe=r(u);oe!==null&&ne(C,oe.startTime-M),K=!1}return K}finally{h=null,f=V,w=!1}}var T=!1,E=null,x=-1,I=5,b=-1;function S(){return!(t.unstable_now()-b<I)}function R(){if(E!==null){var L=t.unstable_now();b=L;var M=!0;try{M=E(!0,L)}finally{M?N():(T=!1,E=null)}}else T=!1}var N;if(typeof m=="function")N=function(){m(R)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,te=J.port2;J.port1.onmessage=R,N=function(){te.postMessage(null)}}else N=function(){Q(R,0)};function ee(L){E=L,T||(T=!0,N())}function ne(L,M){x=Q(function(){L(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||w||(v=!0,ee(F))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var V=f;f=M;try{return L()}finally{f=V}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,M){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var V=f;f=L;try{return M()}finally{f=V}},t.unstable_scheduleCallback=function(L,M,V){var q=t.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?q+V:q):V=q,L){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=V+X,L={id:d++,callback:M,priorityLevel:L,startTime:V,expirationTime:X,sortIndex:-1},V>q?(L.sortIndex=V,e(u,L),r(l)===null&&L===r(u)&&(_?(B(x),x=-1):_=!0,ne(C,V-q))):(L.sortIndex=X,e(l,L),v||w||(v=!0,ee(F))),L},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(L){var M=f;return function(){var V=f;f=M;try{return L.apply(this,arguments)}finally{f=V}}}})(oC);iC.exports=oC;var yF=iC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BF=k,br=yF;function $(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aC=new Set,ma={};function Ns(t,e){_i(t,e),_i(t+"Capture",e)}function _i(t,e){for(ma[t]=e,t=0;t<e.length;t++)aC.add(e[t])}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,vF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ny={},Ay={};function xF(t){return Wf.call(Ay,t)?!0:Wf.call(ny,t)?!1:vF.test(t)?Ay[t]=!0:(ny[t]=!0,!1)}function CF(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function EF(t,e,r,n){if(e===null||typeof e>"u"||CF(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,r,n,A,s,i){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=A,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=i}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var $m=/[\-:]([a-z])/g;function qm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($m,qm);Nt[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($m,qm);Nt[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($m,qm);Nt[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jm(t,e,r,n){var A=Nt.hasOwnProperty(e)?Nt[e]:null;(A!==null?A.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(EF(e,r,A,n)&&(r=null),n||A===null?xF(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):A.mustUseProperty?t[A.propertyName]=r===null?A.type===3?!1:"":r:(e=A.attributeName,n=A.attributeNamespace,r===null?t.removeAttribute(e):(A=A.type,r=A===3||A===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Xn=BF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dl=Symbol.for("react.element"),ti=Symbol.for("react.portal"),ri=Symbol.for("react.fragment"),Xm=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),lC=Symbol.for("react.provider"),cC=Symbol.for("react.context"),Ym=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Jf=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),iA=Symbol.for("react.lazy"),uC=Symbol.for("react.offscreen"),sy=Symbol.iterator;function go(t){return t===null||typeof t!="object"?null:(t=sy&&t[sy]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,Rh;function To(t){if(Rh===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rh=e&&e[1]||""}return`
`+Rh+t}var kh=!1;function jh(t,e){if(!t||kh)return"";kh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var A=u.stack.split(`
`),s=n.stack.split(`
`),i=A.length-1,a=s.length-1;1<=i&&0<=a&&A[i]!==s[a];)a--;for(;1<=i&&0<=a;i--,a--)if(A[i]!==s[a]){if(i!==1||a!==1)do if(i--,a--,0>a||A[i]!==s[a]){var l=`
`+A[i].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=i&&0<=a);break}}}finally{kh=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?To(t):""}function bF(t){switch(t.tag){case 5:return To(t.type);case 16:return To("Lazy");case 13:return To("Suspense");case 19:return To("SuspenseList");case 0:case 2:case 15:return t=jh(t.type,!1),t;case 11:return t=jh(t.type.render,!1),t;case 1:return t=jh(t.type,!0),t;default:return""}}function Xf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ri:return"Fragment";case ti:return"Portal";case $f:return"Profiler";case Xm:return"StrictMode";case qf:return"Suspense";case Jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case cC:return(t.displayName||"Context")+".Consumer";case lC:return(t._context.displayName||"Context")+".Provider";case Ym:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Zm:return e=t.displayName||null,e!==null?e:Xf(t.type)||"Memo";case iA:e=t._payload,t=t._init;try{return Xf(t(e))}catch{}}return null}function _F(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xf(e);case 8:return e===Xm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jA(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function dC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function IF(t){var e=dC(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var A=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return A.call(this)},set:function(i){n=""+i,s.call(this,i)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ll(t){t._valueTracker||(t._valueTracker=IF(t))}function hC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=dC(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Au(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Yf(t,e){var r=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function iy(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=jA(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function fC(t,e){e=e.checked,e!=null&&Jm(t,"checked",e,!1)}function Zf(t,e){fC(t,e);var r=jA(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eg(t,e.type,r):e.hasOwnProperty("defaultValue")&&eg(t,e.type,jA(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function eg(t,e,r){(e!=="number"||Au(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var No=Array.isArray;function fi(t,e,r,n){if(t=t.options,e){e={};for(var A=0;A<r.length;A++)e["$"+r[A]]=!0;for(r=0;r<t.length;r++)A=e.hasOwnProperty("$"+t[r].value),t[r].selected!==A&&(t[r].selected=A),A&&n&&(t[r].defaultSelected=!0)}else{for(r=""+jA(r),e=null,A=0;A<t.length;A++){if(t[A].value===r){t[A].selected=!0,n&&(t[A].defaultSelected=!0);return}e!==null||t[A].disabled||(e=t[A])}e!==null&&(e.selected=!0)}}function tg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ay(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error($(92));if(No(r)){if(1<r.length)throw Error($(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:jA(r)}}function gC(t,e){var r=jA(e.value),n=jA(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function ly(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function mC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?mC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Hl,pC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,A){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,A)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Hl=Hl||document.createElement("div"),Hl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pa(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},UF=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(t){UF.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qo[e]=qo[t]})});function wC(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||qo.hasOwnProperty(t)&&qo[t]?(""+e).trim():e+"px"}function yC(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,A=wC(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,A):t[r]=A}}var FF=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ng(t,e){if(e){if(FF[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($(61))}if(e.style!=null&&typeof e.style!="object")throw Error($(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sg=null;function ep(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ig=null,gi=null,mi=null;function cy(t){if(t=el(t)){if(typeof ig!="function")throw Error($(280));var e=t.stateNode;e&&(e=cd(e),ig(t.stateNode,t.type,e))}}function BC(t){gi?mi?mi.push(t):mi=[t]:gi=t}function vC(){if(gi){var t=gi,e=mi;if(mi=gi=null,cy(t),e)for(t=0;t<e.length;t++)cy(e[t])}}function xC(t,e){return t(e)}function CC(){}var Ph=!1;function EC(t,e,r){if(Ph)return t(e,r);Ph=!0;try{return xC(t,e,r)}finally{Ph=!1,(gi!==null||mi!==null)&&(CC(),vC())}}function wa(t,e){var r=t.stateNode;if(r===null)return null;var n=cd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error($(231,e,typeof r));return r}var og=!1;if(Hn)try{var mo={};Object.defineProperty(mo,"passive",{get:function(){og=!0}}),window.addEventListener("test",mo,mo),window.removeEventListener("test",mo,mo)}catch{og=!1}function QF(t,e,r,n,A,s,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Jo=!1,su=null,iu=!1,ag=null,TF={onError:function(t){Jo=!0,su=t}};function NF(t,e,r,n,A,s,i,a,l){Jo=!1,su=null,QF.apply(TF,arguments)}function SF(t,e,r,n,A,s,i,a,l){if(NF.apply(this,arguments),Jo){if(Jo){var u=su;Jo=!1,su=null}else throw Error($(198));iu||(iu=!0,ag=u)}}function Ss(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function bC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uy(t){if(Ss(t)!==t)throw Error($(188))}function RF(t){var e=t.alternate;if(!e){if(e=Ss(t),e===null)throw Error($(188));return e!==t?null:t}for(var r=t,n=e;;){var A=r.return;if(A===null)break;var s=A.alternate;if(s===null){if(n=A.return,n!==null){r=n;continue}break}if(A.child===s.child){for(s=A.child;s;){if(s===r)return uy(A),t;if(s===n)return uy(A),e;s=s.sibling}throw Error($(188))}if(r.return!==n.return)r=A,n=s;else{for(var i=!1,a=A.child;a;){if(a===r){i=!0,r=A,n=s;break}if(a===n){i=!0,n=A,r=s;break}a=a.sibling}if(!i){for(a=s.child;a;){if(a===r){i=!0,r=s,n=A;break}if(a===n){i=!0,n=s,r=A;break}a=a.sibling}if(!i)throw Error($(189))}}if(r.alternate!==n)throw Error($(190))}if(r.tag!==3)throw Error($(188));return r.stateNode.current===r?t:e}function _C(t){return t=RF(t),t!==null?IC(t):null}function IC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=IC(t);if(e!==null)return e;t=t.sibling}return null}var UC=br.unstable_scheduleCallback,dy=br.unstable_cancelCallback,kF=br.unstable_shouldYield,jF=br.unstable_requestPaint,ot=br.unstable_now,PF=br.unstable_getCurrentPriorityLevel,tp=br.unstable_ImmediatePriority,FC=br.unstable_UserBlockingPriority,ou=br.unstable_NormalPriority,DF=br.unstable_LowPriority,QC=br.unstable_IdlePriority,id=null,dn=null;function LF(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(id,t,void 0,(t.current.flags&128)===128)}catch{}}var Jr=Math.clz32?Math.clz32:OF,HF=Math.log,MF=Math.LN2;function OF(t){return t>>>=0,t===0?32:31-(HF(t)/MF|0)|0}var Ml=64,Ol=4194304;function So(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function au(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,A=t.suspendedLanes,s=t.pingedLanes,i=r&268435455;if(i!==0){var a=i&~A;a!==0?n=So(a):(s&=i,s!==0&&(n=So(s)))}else i=r&~A,i!==0?n=So(i):s!==0&&(n=So(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&A)&&(A=n&-n,s=e&-e,A>=s||A===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Jr(e),A=1<<r,n|=t[r],e&=~A;return n}function VF(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KF(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,A=t.expirationTimes,s=t.pendingLanes;0<s;){var i=31-Jr(s),a=1<<i,l=A[i];l===-1?(!(a&r)||a&n)&&(A[i]=VF(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function lg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TC(){var t=Ml;return Ml<<=1,!(Ml&4194240)&&(Ml=64),t}function Dh(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ya(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Jr(e),t[e]=r}function GF(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var A=31-Jr(r),s=1<<A;e[A]=0,n[A]=-1,t[A]=-1,r&=~s}}function rp(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Jr(r),A=1<<n;A&e|t[n]&e&&(t[n]|=e),r&=~A}}var Se=0;function NC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SC,np,RC,kC,jC,cg=!1,Vl=[],CA=null,EA=null,bA=null,ya=new Map,Ba=new Map,lA=[],zF="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hy(t,e){switch(t){case"focusin":case"focusout":CA=null;break;case"dragenter":case"dragleave":EA=null;break;case"mouseover":case"mouseout":bA=null;break;case"pointerover":case"pointerout":ya.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ba.delete(e.pointerId)}}function po(t,e,r,n,A,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[A]},e!==null&&(e=el(e),e!==null&&np(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,A!==null&&e.indexOf(A)===-1&&e.push(A),t)}function WF(t,e,r,n,A){switch(e){case"focusin":return CA=po(CA,t,e,r,n,A),!0;case"dragenter":return EA=po(EA,t,e,r,n,A),!0;case"mouseover":return bA=po(bA,t,e,r,n,A),!0;case"pointerover":var s=A.pointerId;return ya.set(s,po(ya.get(s)||null,t,e,r,n,A)),!0;case"gotpointercapture":return s=A.pointerId,Ba.set(s,po(Ba.get(s)||null,t,e,r,n,A)),!0}return!1}function PC(t){var e=os(t.target);if(e!==null){var r=Ss(e);if(r!==null){if(e=r.tag,e===13){if(e=bC(r),e!==null){t.blockedOn=e,jC(t.priority,function(){RC(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ug(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);sg=n,r.target.dispatchEvent(n),sg=null}else return e=el(r),e!==null&&np(e),t.blockedOn=r,!1;e.shift()}return!0}function fy(t,e,r){Rc(t)&&r.delete(e)}function $F(){cg=!1,CA!==null&&Rc(CA)&&(CA=null),EA!==null&&Rc(EA)&&(EA=null),bA!==null&&Rc(bA)&&(bA=null),ya.forEach(fy),Ba.forEach(fy)}function wo(t,e){t.blockedOn===e&&(t.blockedOn=null,cg||(cg=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,$F)))}function va(t){function e(A){return wo(A,t)}if(0<Vl.length){wo(Vl[0],t);for(var r=1;r<Vl.length;r++){var n=Vl[r];n.blockedOn===t&&(n.blockedOn=null)}}for(CA!==null&&wo(CA,t),EA!==null&&wo(EA,t),bA!==null&&wo(bA,t),ya.forEach(e),Ba.forEach(e),r=0;r<lA.length;r++)n=lA[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<lA.length&&(r=lA[0],r.blockedOn===null);)PC(r),r.blockedOn===null&&lA.shift()}var pi=Xn.ReactCurrentBatchConfig,lu=!0;function qF(t,e,r,n){var A=Se,s=pi.transition;pi.transition=null;try{Se=1,Ap(t,e,r,n)}finally{Se=A,pi.transition=s}}function JF(t,e,r,n){var A=Se,s=pi.transition;pi.transition=null;try{Se=4,Ap(t,e,r,n)}finally{Se=A,pi.transition=s}}function Ap(t,e,r,n){if(lu){var A=ug(t,e,r,n);if(A===null)$h(t,e,n,cu,r),hy(t,n);else if(WF(A,t,e,r,n))n.stopPropagation();else if(hy(t,n),e&4&&-1<zF.indexOf(t)){for(;A!==null;){var s=el(A);if(s!==null&&SC(s),s=ug(t,e,r,n),s===null&&$h(t,e,n,cu,r),s===A)break;A=s}A!==null&&n.stopPropagation()}else $h(t,e,n,null,r)}}var cu=null;function ug(t,e,r,n){if(cu=null,t=ep(n),t=os(t),t!==null)if(e=Ss(t),e===null)t=null;else if(r=e.tag,r===13){if(t=bC(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return cu=t,null}function DC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PF()){case tp:return 1;case FC:return 4;case ou:case DF:return 16;case QC:return 536870912;default:return 16}default:return 16}}var gA=null,sp=null,kc=null;function LC(){if(kc)return kc;var t,e=sp,r=e.length,n,A="value"in gA?gA.value:gA.textContent,s=A.length;for(t=0;t<r&&e[t]===A[t];t++);var i=r-t;for(n=1;n<=i&&e[r-n]===A[s-n];n++);return kc=A.slice(t,1<n?1-n:void 0)}function jc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kl(){return!0}function gy(){return!1}function Ir(t){function e(r,n,A,s,i){this._reactName=r,this._targetInst=A,this.type=n,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kl:gy,this.isPropagationStopped=gy,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kl)},persist:function(){},isPersistent:Kl}),e}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ip=Ir(zi),Za=qe({},zi,{view:0,detail:0}),XF=Ir(Za),Lh,Hh,yo,od=qe({},Za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:op,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yo&&(yo&&t.type==="mousemove"?(Lh=t.screenX-yo.screenX,Hh=t.screenY-yo.screenY):Hh=Lh=0,yo=t),Lh)},movementY:function(t){return"movementY"in t?t.movementY:Hh}}),my=Ir(od),YF=qe({},od,{dataTransfer:0}),ZF=Ir(YF),eQ=qe({},Za,{relatedTarget:0}),Mh=Ir(eQ),tQ=qe({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),rQ=Ir(tQ),nQ=qe({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),AQ=Ir(nQ),sQ=qe({},zi,{data:0}),py=Ir(sQ),iQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=aQ[t])?!!e[t]:!1}function op(){return lQ}var cQ=qe({},Za,{key:function(t){if(t.key){var e=iQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:op,charCode:function(t){return t.type==="keypress"?jc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uQ=Ir(cQ),dQ=qe({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=Ir(dQ),hQ=qe({},Za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:op}),fQ=Ir(hQ),gQ=qe({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),mQ=Ir(gQ),pQ=qe({},od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wQ=Ir(pQ),yQ=[9,13,27,32],ap=Hn&&"CompositionEvent"in window,Xo=null;Hn&&"documentMode"in document&&(Xo=document.documentMode);var BQ=Hn&&"TextEvent"in window&&!Xo,HC=Hn&&(!ap||Xo&&8<Xo&&11>=Xo),yy=" ",By=!1;function MC(t,e){switch(t){case"keyup":return yQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ni=!1;function vQ(t,e){switch(t){case"compositionend":return OC(e);case"keypress":return e.which!==32?null:(By=!0,yy);case"textInput":return t=e.data,t===yy&&By?null:t;default:return null}}function xQ(t,e){if(ni)return t==="compositionend"||!ap&&MC(t,e)?(t=LC(),kc=sp=gA=null,ni=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return HC&&e.locale!=="ko"?null:e.data;default:return null}}var CQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CQ[t.type]:e==="textarea"}function VC(t,e,r,n){BC(n),e=uu(e,"onChange"),0<e.length&&(r=new ip("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yo=null,xa=null;function EQ(t){eE(t,0)}function ad(t){var e=ii(t);if(hC(e))return t}function bQ(t,e){if(t==="change")return e}var KC=!1;if(Hn){var Oh;if(Hn){var Vh="oninput"in document;if(!Vh){var xy=document.createElement("div");xy.setAttribute("oninput","return;"),Vh=typeof xy.oninput=="function"}Oh=Vh}else Oh=!1;KC=Oh&&(!document.documentMode||9<document.documentMode)}function Cy(){Yo&&(Yo.detachEvent("onpropertychange",GC),xa=Yo=null)}function GC(t){if(t.propertyName==="value"&&ad(xa)){var e=[];VC(e,xa,t,ep(t)),EC(EQ,e)}}function _Q(t,e,r){t==="focusin"?(Cy(),Yo=e,xa=r,Yo.attachEvent("onpropertychange",GC)):t==="focusout"&&Cy()}function IQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ad(xa)}function UQ(t,e){if(t==="click")return ad(e)}function FQ(t,e){if(t==="input"||t==="change")return ad(e)}function QQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var en=typeof Object.is=="function"?Object.is:QQ;function Ca(t,e){if(en(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var A=r[n];if(!Wf.call(e,A)||!en(t[A],e[A]))return!1}return!0}function Ey(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function by(t,e){var r=Ey(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ey(r)}}function zC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?zC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function WC(){for(var t=window,e=Au();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Au(t.document)}return e}function lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TQ(t){var e=WC(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&zC(r.ownerDocument.documentElement,r)){if(n!==null&&lp(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var A=r.textContent.length,s=Math.min(n.start,A);n=n.end===void 0?s:Math.min(n.end,A),!t.extend&&s>n&&(A=n,n=s,s=A),A=by(r,s);var i=by(r,n);A&&i&&(t.rangeCount!==1||t.anchorNode!==A.node||t.anchorOffset!==A.offset||t.focusNode!==i.node||t.focusOffset!==i.offset)&&(e=e.createRange(),e.setStart(A.node,A.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(i.node,i.offset)):(e.setEnd(i.node,i.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NQ=Hn&&"documentMode"in document&&11>=document.documentMode,Ai=null,dg=null,Zo=null,hg=!1;function _y(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;hg||Ai==null||Ai!==Au(n)||(n=Ai,"selectionStart"in n&&lp(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zo&&Ca(Zo,n)||(Zo=n,n=uu(dg,"onSelect"),0<n.length&&(e=new ip("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ai)))}function Gl(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var si={animationend:Gl("Animation","AnimationEnd"),animationiteration:Gl("Animation","AnimationIteration"),animationstart:Gl("Animation","AnimationStart"),transitionend:Gl("Transition","TransitionEnd")},Kh={},$C={};Hn&&($C=document.createElement("div").style,"AnimationEvent"in window||(delete si.animationend.animation,delete si.animationiteration.animation,delete si.animationstart.animation),"TransitionEvent"in window||delete si.transitionend.transition);function ld(t){if(Kh[t])return Kh[t];if(!si[t])return t;var e=si[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in $C)return Kh[t]=e[r];return t}var qC=ld("animationend"),JC=ld("animationiteration"),XC=ld("animationstart"),YC=ld("transitionend"),ZC=new Map,Iy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function KA(t,e){ZC.set(t,e),Ns(e,[t])}for(var Gh=0;Gh<Iy.length;Gh++){var zh=Iy[Gh],SQ=zh.toLowerCase(),RQ=zh[0].toUpperCase()+zh.slice(1);KA(SQ,"on"+RQ)}KA(qC,"onAnimationEnd");KA(JC,"onAnimationIteration");KA(XC,"onAnimationStart");KA("dblclick","onDoubleClick");KA("focusin","onFocus");KA("focusout","onBlur");KA(YC,"onTransitionEnd");_i("onMouseEnter",["mouseout","mouseover"]);_i("onMouseLeave",["mouseout","mouseover"]);_i("onPointerEnter",["pointerout","pointerover"]);_i("onPointerLeave",["pointerout","pointerover"]);Ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function Uy(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,SF(n,e,void 0,t),t.currentTarget=null}function eE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],A=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var i=n.length-1;0<=i;i--){var a=n[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&A.isPropagationStopped())break e;Uy(A,a,u),s=l}else for(i=0;i<n.length;i++){if(a=n[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&A.isPropagationStopped())break e;Uy(A,a,u),s=l}}}if(iu)throw t=ag,iu=!1,ag=null,t}function Me(t,e){var r=e[wg];r===void 0&&(r=e[wg]=new Set);var n=t+"__bubble";r.has(n)||(tE(e,t,2,!1),r.add(n))}function Wh(t,e,r){var n=0;e&&(n|=4),tE(r,t,n,e)}var zl="_reactListening"+Math.random().toString(36).slice(2);function Ea(t){if(!t[zl]){t[zl]=!0,aC.forEach(function(r){r!=="selectionchange"&&(kQ.has(r)||Wh(r,!1,t),Wh(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zl]||(e[zl]=!0,Wh("selectionchange",!1,e))}}function tE(t,e,r,n){switch(DC(e)){case 1:var A=qF;break;case 4:A=JF;break;default:A=Ap}r=A.bind(null,e,r,t),A=void 0,!og||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(A=!0),n?A!==void 0?t.addEventListener(e,r,{capture:!0,passive:A}):t.addEventListener(e,r,!0):A!==void 0?t.addEventListener(e,r,{passive:A}):t.addEventListener(e,r,!1)}function $h(t,e,r,n,A){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var a=n.stateNode.containerInfo;if(a===A||a.nodeType===8&&a.parentNode===A)break;if(i===4)for(i=n.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===A||l.nodeType===8&&l.parentNode===A))return;i=i.return}for(;a!==null;){if(i=os(a),i===null)return;if(l=i.tag,l===5||l===6){n=s=i;continue e}a=a.parentNode}}n=n.return}EC(function(){var u=s,d=ep(r),h=[];e:{var f=ZC.get(t);if(f!==void 0){var w=ip,v=t;switch(t){case"keypress":if(jc(r)===0)break e;case"keydown":case"keyup":w=uQ;break;case"focusin":v="focus",w=Mh;break;case"focusout":v="blur",w=Mh;break;case"beforeblur":case"afterblur":w=Mh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=my;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=ZF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=fQ;break;case qC:case JC:case XC:w=rQ;break;case YC:w=mQ;break;case"scroll":w=XF;break;case"wheel":w=wQ;break;case"copy":case"cut":case"paste":w=AQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=wy}var _=(e&4)!==0,Q=!_&&t==="scroll",B=_?f!==null?f+"Capture":null:f;_=[];for(var m=u,y;m!==null;){y=m;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,B!==null&&(C=wa(m,B),C!=null&&_.push(ba(m,C,y)))),Q)break;m=m.return}0<_.length&&(f=new w(f,v,null,r,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",f&&r!==sg&&(v=r.relatedTarget||r.fromElement)&&(os(v)||v[Mn]))break e;if((w||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,w?(v=r.relatedTarget||r.toElement,w=u,v=v?os(v):null,v!==null&&(Q=Ss(v),v!==Q||v.tag!==5&&v.tag!==6)&&(v=null)):(w=null,v=u),w!==v)){if(_=my,C="onMouseLeave",B="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=wy,C="onPointerLeave",B="onPointerEnter",m="pointer"),Q=w==null?f:ii(w),y=v==null?f:ii(v),f=new _(C,m+"leave",w,r,d),f.target=Q,f.relatedTarget=y,C=null,os(d)===u&&(_=new _(B,m+"enter",v,r,d),_.target=y,_.relatedTarget=Q,C=_),Q=C,w&&v)t:{for(_=w,B=v,m=0,y=_;y;y=Vs(y))m++;for(y=0,C=B;C;C=Vs(C))y++;for(;0<m-y;)_=Vs(_),m--;for(;0<y-m;)B=Vs(B),y--;for(;m--;){if(_===B||B!==null&&_===B.alternate)break t;_=Vs(_),B=Vs(B)}_=null}else _=null;w!==null&&Fy(h,f,w,_,!1),v!==null&&Q!==null&&Fy(h,Q,v,_,!0)}}e:{if(f=u?ii(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var F=bQ;else if(vy(f))if(KC)F=FQ;else{F=IQ;var T=_Q}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(F=UQ);if(F&&(F=F(t,u))){VC(h,F,r,d);break e}T&&T(t,f,u),t==="focusout"&&(T=f._wrapperState)&&T.controlled&&f.type==="number"&&eg(f,"number",f.value)}switch(T=u?ii(u):window,t){case"focusin":(vy(T)||T.contentEditable==="true")&&(Ai=T,dg=u,Zo=null);break;case"focusout":Zo=dg=Ai=null;break;case"mousedown":hg=!0;break;case"contextmenu":case"mouseup":case"dragend":hg=!1,_y(h,r,d);break;case"selectionchange":if(NQ)break;case"keydown":case"keyup":_y(h,r,d)}var E;if(ap)e:{switch(t){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else ni?MC(t,r)&&(x="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(x="onCompositionStart");x&&(HC&&r.locale!=="ko"&&(ni||x!=="onCompositionStart"?x==="onCompositionEnd"&&ni&&(E=LC()):(gA=d,sp="value"in gA?gA.value:gA.textContent,ni=!0)),T=uu(u,x),0<T.length&&(x=new py(x,t,null,r,d),h.push({event:x,listeners:T}),E?x.data=E:(E=OC(r),E!==null&&(x.data=E)))),(E=BQ?vQ(t,r):xQ(t,r))&&(u=uu(u,"onBeforeInput"),0<u.length&&(d=new py("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=E))}eE(h,e)})}function ba(t,e,r){return{instance:t,listener:e,currentTarget:r}}function uu(t,e){for(var r=e+"Capture",n=[];t!==null;){var A=t,s=A.stateNode;A.tag===5&&s!==null&&(A=s,s=wa(t,r),s!=null&&n.unshift(ba(t,s,A)),s=wa(t,e),s!=null&&n.push(ba(t,s,A))),t=t.return}return n}function Vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fy(t,e,r,n,A){for(var s=e._reactName,i=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,A?(l=wa(r,s),l!=null&&i.unshift(ba(r,l,a))):A||(l=wa(r,s),l!=null&&i.push(ba(r,l,a)))),r=r.return}i.length!==0&&t.push({event:e,listeners:i})}var jQ=/\r\n?/g,PQ=/\u0000|\uFFFD/g;function Qy(t){return(typeof t=="string"?t:""+t).replace(jQ,`
`).replace(PQ,"")}function Wl(t,e,r){if(e=Qy(e),Qy(t)!==e&&r)throw Error($(425))}function du(){}var fg=null,gg=null;function mg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pg=typeof setTimeout=="function"?setTimeout:void 0,DQ=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,LQ=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(HQ)}:pg;function HQ(t){setTimeout(function(){throw t})}function qh(t,e){var r=e,n=0;do{var A=r.nextSibling;if(t.removeChild(r),A&&A.nodeType===8)if(r=A.data,r==="/$"){if(n===0){t.removeChild(A),va(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=A}while(r);va(e)}function _A(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ny(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Wi=Math.random().toString(36).slice(2),ln="__reactFiber$"+Wi,_a="__reactProps$"+Wi,Mn="__reactContainer$"+Wi,wg="__reactEvents$"+Wi,MQ="__reactListeners$"+Wi,OQ="__reactHandles$"+Wi;function os(t){var e=t[ln];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Mn]||r[ln]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ny(t);t!==null;){if(r=t[ln])return r;t=Ny(t)}return e}t=r,r=t.parentNode}return null}function el(t){return t=t[ln]||t[Mn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ii(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($(33))}function cd(t){return t[_a]||null}var yg=[],oi=-1;function GA(t){return{current:t}}function Ve(t){0>oi||(t.current=yg[oi],yg[oi]=null,oi--)}function Le(t,e){oi++,yg[oi]=t.current,t.current=e}var PA={},$t=GA(PA),cr=GA(!1),Bs=PA;function Ii(t,e){var r=t.type.contextTypes;if(!r)return PA;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var A={},s;for(s in r)A[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=A),A}function ur(t){return t=t.childContextTypes,t!=null}function hu(){Ve(cr),Ve($t)}function Sy(t,e,r){if($t.current!==PA)throw Error($(168));Le($t,e),Le(cr,r)}function rE(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var A in n)if(!(A in e))throw Error($(108,_F(t)||"Unknown",A));return qe({},r,n)}function fu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||PA,Bs=$t.current,Le($t,t),Le(cr,cr.current),!0}function Ry(t,e,r){var n=t.stateNode;if(!n)throw Error($(169));r?(t=rE(t,e,Bs),n.__reactInternalMemoizedMergedChildContext=t,Ve(cr),Ve($t),Le($t,t)):Ve(cr),Le(cr,r)}var Fn=null,ud=!1,Jh=!1;function nE(t){Fn===null?Fn=[t]:Fn.push(t)}function VQ(t){ud=!0,nE(t)}function zA(){if(!Jh&&Fn!==null){Jh=!0;var t=0,e=Se;try{var r=Fn;for(Se=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Fn=null,ud=!1}catch(A){throw Fn!==null&&(Fn=Fn.slice(t+1)),UC(tp,zA),A}finally{Se=e,Jh=!1}}return null}var ai=[],li=0,gu=null,mu=0,Qr=[],Tr=0,vs=null,Tn=1,Nn="";function ns(t,e){ai[li++]=mu,ai[li++]=gu,gu=t,mu=e}function AE(t,e,r){Qr[Tr++]=Tn,Qr[Tr++]=Nn,Qr[Tr++]=vs,vs=t;var n=Tn;t=Nn;var A=32-Jr(n)-1;n&=~(1<<A),r+=1;var s=32-Jr(e)+A;if(30<s){var i=A-A%5;s=(n&(1<<i)-1).toString(32),n>>=i,A-=i,Tn=1<<32-Jr(e)+A|r<<A|n,Nn=s+t}else Tn=1<<s|r<<A|n,Nn=t}function cp(t){t.return!==null&&(ns(t,1),AE(t,1,0))}function up(t){for(;t===gu;)gu=ai[--li],ai[li]=null,mu=ai[--li],ai[li]=null;for(;t===vs;)vs=Qr[--Tr],Qr[Tr]=null,Nn=Qr[--Tr],Qr[Tr]=null,Tn=Qr[--Tr],Qr[Tr]=null}var Er=null,Br=null,ze=!1,Wr=null;function sE(t,e){var r=Sr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ky(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Er=t,Br=_A(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Er=t,Br=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=vs!==null?{id:Tn,overflow:Nn}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Sr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Er=t,Br=null,!0):!1;default:return!1}}function Bg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vg(t){if(ze){var e=Br;if(e){var r=e;if(!ky(t,e)){if(Bg(t))throw Error($(418));e=_A(r.nextSibling);var n=Er;e&&ky(t,e)?sE(n,r):(t.flags=t.flags&-4097|2,ze=!1,Er=t)}}else{if(Bg(t))throw Error($(418));t.flags=t.flags&-4097|2,ze=!1,Er=t}}}function jy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Er=t}function $l(t){if(t!==Er)return!1;if(!ze)return jy(t),ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!mg(t.type,t.memoizedProps)),e&&(e=Br)){if(Bg(t))throw iE(),Error($(418));for(;e;)sE(t,e),e=_A(e.nextSibling)}if(jy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Br=_A(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Br=null}}else Br=Er?_A(t.stateNode.nextSibling):null;return!0}function iE(){for(var t=Br;t;)t=_A(t.nextSibling)}function Ui(){Br=Er=null,ze=!1}function dp(t){Wr===null?Wr=[t]:Wr.push(t)}var KQ=Xn.ReactCurrentBatchConfig;function Bo(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error($(309));var n=r.stateNode}if(!n)throw Error($(147,t));var A=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(i){var a=A.refs;i===null?delete a[s]:a[s]=i},e._stringRef=s,e)}if(typeof t!="string")throw Error($(284));if(!r._owner)throw Error($(290,t))}return t}function ql(t,e){throw t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Py(t){var e=t._init;return e(t._payload)}function oE(t){function e(B,m){if(t){var y=B.deletions;y===null?(B.deletions=[m],B.flags|=16):y.push(m)}}function r(B,m){if(!t)return null;for(;m!==null;)e(B,m),m=m.sibling;return null}function n(B,m){for(B=new Map;m!==null;)m.key!==null?B.set(m.key,m):B.set(m.index,m),m=m.sibling;return B}function A(B,m){return B=QA(B,m),B.index=0,B.sibling=null,B}function s(B,m,y){return B.index=y,t?(y=B.alternate,y!==null?(y=y.index,y<m?(B.flags|=2,m):y):(B.flags|=2,m)):(B.flags|=1048576,m)}function i(B){return t&&B.alternate===null&&(B.flags|=2),B}function a(B,m,y,C){return m===null||m.tag!==6?(m=nf(y,B.mode,C),m.return=B,m):(m=A(m,y),m.return=B,m)}function l(B,m,y,C){var F=y.type;return F===ri?d(B,m,y.props.children,C,y.key):m!==null&&(m.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===iA&&Py(F)===m.type)?(C=A(m,y.props),C.ref=Bo(B,m,y),C.return=B,C):(C=Vc(y.type,y.key,y.props,null,B.mode,C),C.ref=Bo(B,m,y),C.return=B,C)}function u(B,m,y,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Af(y,B.mode,C),m.return=B,m):(m=A(m,y.children||[]),m.return=B,m)}function d(B,m,y,C,F){return m===null||m.tag!==7?(m=fs(y,B.mode,C,F),m.return=B,m):(m=A(m,y),m.return=B,m)}function h(B,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=nf(""+m,B.mode,y),m.return=B,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Dl:return y=Vc(m.type,m.key,m.props,null,B.mode,y),y.ref=Bo(B,null,m),y.return=B,y;case ti:return m=Af(m,B.mode,y),m.return=B,m;case iA:var C=m._init;return h(B,C(m._payload),y)}if(No(m)||go(m))return m=fs(m,B.mode,y,null),m.return=B,m;ql(B,m)}return null}function f(B,m,y,C){var F=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return F!==null?null:a(B,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dl:return y.key===F?l(B,m,y,C):null;case ti:return y.key===F?u(B,m,y,C):null;case iA:return F=y._init,f(B,m,F(y._payload),C)}if(No(y)||go(y))return F!==null?null:d(B,m,y,C,null);ql(B,y)}return null}function w(B,m,y,C,F){if(typeof C=="string"&&C!==""||typeof C=="number")return B=B.get(y)||null,a(m,B,""+C,F);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Dl:return B=B.get(C.key===null?y:C.key)||null,l(m,B,C,F);case ti:return B=B.get(C.key===null?y:C.key)||null,u(m,B,C,F);case iA:var T=C._init;return w(B,m,y,T(C._payload),F)}if(No(C)||go(C))return B=B.get(y)||null,d(m,B,C,F,null);ql(m,C)}return null}function v(B,m,y,C){for(var F=null,T=null,E=m,x=m=0,I=null;E!==null&&x<y.length;x++){E.index>x?(I=E,E=null):I=E.sibling;var b=f(B,E,y[x],C);if(b===null){E===null&&(E=I);break}t&&E&&b.alternate===null&&e(B,E),m=s(b,m,x),T===null?F=b:T.sibling=b,T=b,E=I}if(x===y.length)return r(B,E),ze&&ns(B,x),F;if(E===null){for(;x<y.length;x++)E=h(B,y[x],C),E!==null&&(m=s(E,m,x),T===null?F=E:T.sibling=E,T=E);return ze&&ns(B,x),F}for(E=n(B,E);x<y.length;x++)I=w(E,B,x,y[x],C),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?x:I.key),m=s(I,m,x),T===null?F=I:T.sibling=I,T=I);return t&&E.forEach(function(S){return e(B,S)}),ze&&ns(B,x),F}function _(B,m,y,C){var F=go(y);if(typeof F!="function")throw Error($(150));if(y=F.call(y),y==null)throw Error($(151));for(var T=F=null,E=m,x=m=0,I=null,b=y.next();E!==null&&!b.done;x++,b=y.next()){E.index>x?(I=E,E=null):I=E.sibling;var S=f(B,E,b.value,C);if(S===null){E===null&&(E=I);break}t&&E&&S.alternate===null&&e(B,E),m=s(S,m,x),T===null?F=S:T.sibling=S,T=S,E=I}if(b.done)return r(B,E),ze&&ns(B,x),F;if(E===null){for(;!b.done;x++,b=y.next())b=h(B,b.value,C),b!==null&&(m=s(b,m,x),T===null?F=b:T.sibling=b,T=b);return ze&&ns(B,x),F}for(E=n(B,E);!b.done;x++,b=y.next())b=w(E,B,x,b.value,C),b!==null&&(t&&b.alternate!==null&&E.delete(b.key===null?x:b.key),m=s(b,m,x),T===null?F=b:T.sibling=b,T=b);return t&&E.forEach(function(R){return e(B,R)}),ze&&ns(B,x),F}function Q(B,m,y,C){if(typeof y=="object"&&y!==null&&y.type===ri&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Dl:e:{for(var F=y.key,T=m;T!==null;){if(T.key===F){if(F=y.type,F===ri){if(T.tag===7){r(B,T.sibling),m=A(T,y.props.children),m.return=B,B=m;break e}}else if(T.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===iA&&Py(F)===T.type){r(B,T.sibling),m=A(T,y.props),m.ref=Bo(B,T,y),m.return=B,B=m;break e}r(B,T);break}else e(B,T);T=T.sibling}y.type===ri?(m=fs(y.props.children,B.mode,C,y.key),m.return=B,B=m):(C=Vc(y.type,y.key,y.props,null,B.mode,C),C.ref=Bo(B,m,y),C.return=B,B=C)}return i(B);case ti:e:{for(T=y.key;m!==null;){if(m.key===T)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(B,m.sibling),m=A(m,y.children||[]),m.return=B,B=m;break e}else{r(B,m);break}else e(B,m);m=m.sibling}m=Af(y,B.mode,C),m.return=B,B=m}return i(B);case iA:return T=y._init,Q(B,m,T(y._payload),C)}if(No(y))return v(B,m,y,C);if(go(y))return _(B,m,y,C);ql(B,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(B,m.sibling),m=A(m,y),m.return=B,B=m):(r(B,m),m=nf(y,B.mode,C),m.return=B,B=m),i(B)):r(B,m)}return Q}var Fi=oE(!0),aE=oE(!1),pu=GA(null),wu=null,ci=null,hp=null;function fp(){hp=ci=wu=null}function gp(t){var e=pu.current;Ve(pu),t._currentValue=e}function xg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function wi(t,e){wu=t,hp=ci=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(or=!0),t.firstContext=null)}function Lr(t){var e=t._currentValue;if(hp!==t)if(t={context:t,memoizedValue:e,next:null},ci===null){if(wu===null)throw Error($(308));ci=t,wu.dependencies={lanes:0,firstContext:t}}else ci=ci.next=t;return e}var as=null;function mp(t){as===null?as=[t]:as.push(t)}function lE(t,e,r,n){var A=e.interleaved;return A===null?(r.next=r,mp(e)):(r.next=A.next,A.next=r),e.interleaved=r,On(t,n)}function On(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var oA=!1;function pp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function jn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function IA(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ue&2){var A=n.pending;return A===null?e.next=e:(e.next=A.next,A.next=e),n.pending=e,On(t,r)}return A=n.interleaved,A===null?(e.next=e,mp(n)):(e.next=A.next,A.next=e),n.interleaved=e,On(t,r)}function Pc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rp(t,r)}}function Dy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var A=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?A=s=i:s=s.next=i,r=r.next}while(r!==null);s===null?A=s=e:s=s.next=e}else A=s=e;r={baseState:n.baseState,firstBaseUpdate:A,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yu(t,e,r,n){var A=t.updateQueue;oA=!1;var s=A.firstBaseUpdate,i=A.lastBaseUpdate,a=A.shared.pending;if(a!==null){A.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?s=u:i.next=u,i=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=A.baseState;i=0,d=u=l=null,a=s;do{var f=a.lane,w=a.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,_=a;switch(f=e,w=r,_.tag){case 1:if(v=_.payload,typeof v=="function"){h=v.call(w,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,f=typeof v=="function"?v.call(w,h,f):v,f==null)break e;h=qe({},h,f);break e;case 2:oA=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=A.effects,f===null?A.effects=[a]:f.push(a))}else w={eventTime:w,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=w,l=h):d=d.next=w,i|=f;if(a=a.next,a===null){if(a=A.shared.pending,a===null)break;f=a,a=f.next,f.next=null,A.lastBaseUpdate=f,A.shared.pending=null}}while(!0);if(d===null&&(l=h),A.baseState=l,A.firstBaseUpdate=u,A.lastBaseUpdate=d,e=A.shared.interleaved,e!==null){A=e;do i|=A.lane,A=A.next;while(A!==e)}else s===null&&(A.shared.lanes=0);Cs|=i,t.lanes=i,t.memoizedState=h}}function Ly(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],A=n.callback;if(A!==null){if(n.callback=null,n=r,typeof A!="function")throw Error($(191,A));A.call(n)}}}var tl={},hn=GA(tl),Ia=GA(tl),Ua=GA(tl);function ls(t){if(t===tl)throw Error($(174));return t}function wp(t,e){switch(Le(Ua,e),Le(Ia,t),Le(hn,tl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rg(e,t)}Ve(hn),Le(hn,e)}function Qi(){Ve(hn),Ve(Ia),Ve(Ua)}function uE(t){ls(Ua.current);var e=ls(hn.current),r=rg(e,t.type);e!==r&&(Le(Ia,t),Le(hn,r))}function yp(t){Ia.current===t&&(Ve(hn),Ve(Ia))}var We=GA(0);function Bu(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function Bp(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var Dc=Xn.ReactCurrentDispatcher,Yh=Xn.ReactCurrentBatchConfig,xs=0,$e=null,ht=null,Bt=null,vu=!1,ea=!1,Fa=0,GQ=0;function Pt(){throw Error($(321))}function vp(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!en(t[r],e[r]))return!1;return!0}function xp(t,e,r,n,A,s){if(xs=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Dc.current=t===null||t.memoizedState===null?qQ:JQ,t=r(n,A),ea){s=0;do{if(ea=!1,Fa=0,25<=s)throw Error($(301));s+=1,Bt=ht=null,e.updateQueue=null,Dc.current=XQ,t=r(n,A)}while(ea)}if(Dc.current=xu,e=ht!==null&&ht.next!==null,xs=0,Bt=ht=$e=null,vu=!1,e)throw Error($(300));return t}function Cp(){var t=Fa!==0;return Fa=0,t}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?$e.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Hr(){if(ht===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var e=Bt===null?$e.memoizedState:Bt.next;if(e!==null)Bt=e,ht=t;else{if(t===null)throw Error($(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},Bt===null?$e.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Qa(t,e){return typeof e=="function"?e(t):e}function Zh(t){var e=Hr(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=ht,A=n.baseQueue,s=r.pending;if(s!==null){if(A!==null){var i=A.next;A.next=s.next,s.next=i}n.baseQueue=A=s,r.pending=null}if(A!==null){s=A.next,n=n.baseState;var a=i=null,l=null,u=s;do{var d=u.lane;if((xs&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=n):l=l.next=h,$e.lanes|=d,Cs|=d}u=u.next}while(u!==null&&u!==s);l===null?i=n:l.next=a,en(n,e.memoizedState)||(or=!0),e.memoizedState=n,e.baseState=i,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){A=t;do s=A.lane,$e.lanes|=s,Cs|=s,A=A.next;while(A!==t)}else A===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function ef(t){var e=Hr(),r=e.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=t;var n=r.dispatch,A=r.pending,s=e.memoizedState;if(A!==null){r.pending=null;var i=A=A.next;do s=t(s,i.action),i=i.next;while(i!==A);en(s,e.memoizedState)||(or=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function dE(){}function hE(t,e){var r=$e,n=Hr(),A=e(),s=!en(n.memoizedState,A);if(s&&(n.memoizedState=A,or=!0),n=n.queue,Ep(mE.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Bt!==null&&Bt.memoizedState.tag&1){if(r.flags|=2048,Ta(9,gE.bind(null,r,n,A,e),void 0,null),vt===null)throw Error($(349));xs&30||fE(r,e,A)}return A}function fE(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function gE(t,e,r,n){e.value=r,e.getSnapshot=n,pE(e)&&wE(t)}function mE(t,e,r){return r(function(){pE(e)&&wE(t)})}function pE(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!en(t,r)}catch{return!0}}function wE(t){var e=On(t,1);e!==null&&Xr(e,t,1,-1)}function Hy(t){var e=an();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:t},e.queue=t,t=t.dispatch=$Q.bind(null,$e,t),[e.memoizedState,t]}function Ta(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function yE(){return Hr().memoizedState}function Lc(t,e,r,n){var A=an();$e.flags|=t,A.memoizedState=Ta(1|e,r,void 0,n===void 0?null:n)}function dd(t,e,r,n){var A=Hr();n=n===void 0?null:n;var s=void 0;if(ht!==null){var i=ht.memoizedState;if(s=i.destroy,n!==null&&vp(n,i.deps)){A.memoizedState=Ta(e,r,s,n);return}}$e.flags|=t,A.memoizedState=Ta(1|e,r,s,n)}function My(t,e){return Lc(8390656,8,t,e)}function Ep(t,e){return dd(2048,8,t,e)}function BE(t,e){return dd(4,2,t,e)}function vE(t,e){return dd(4,4,t,e)}function xE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CE(t,e,r){return r=r!=null?r.concat([t]):null,dd(4,4,xE.bind(null,e,t),r)}function bp(){}function EE(t,e){var r=Hr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vp(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bE(t,e){var r=Hr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vp(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _E(t,e,r){return xs&21?(en(r,e)||(r=TC(),$e.lanes|=r,Cs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=r)}function zQ(t,e){var r=Se;Se=r!==0&&4>r?r:4,t(!0);var n=Yh.transition;Yh.transition={};try{t(!1),e()}finally{Se=r,Yh.transition=n}}function IE(){return Hr().memoizedState}function WQ(t,e,r){var n=FA(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},UE(t))FE(e,r);else if(r=lE(t,e,r,n),r!==null){var A=tr();Xr(r,t,n,A),QE(r,e,n)}}function $Q(t,e,r){var n=FA(t),A={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(UE(t))FE(e,A);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var i=e.lastRenderedState,a=s(i,r);if(A.hasEagerState=!0,A.eagerState=a,en(a,i)){var l=e.interleaved;l===null?(A.next=A,mp(e)):(A.next=l.next,l.next=A),e.interleaved=A;return}}catch{}finally{}r=lE(t,e,A,n),r!==null&&(A=tr(),Xr(r,t,n,A),QE(r,e,n))}}function UE(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function FE(t,e){ea=vu=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function QE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rp(t,r)}}var xu={readContext:Lr,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useInsertionEffect:Pt,useLayoutEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useMutableSource:Pt,useSyncExternalStore:Pt,useId:Pt,unstable_isNewReconciler:!1},qQ={readContext:Lr,useCallback:function(t,e){return an().memoizedState=[t,e===void 0?null:e],t},useContext:Lr,useEffect:My,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Lc(4194308,4,xE.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Lc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Lc(4,2,t,e)},useMemo:function(t,e){var r=an();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=an();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=WQ.bind(null,$e,t),[n.memoizedState,t]},useRef:function(t){var e=an();return t={current:t},e.memoizedState=t},useState:Hy,useDebugValue:bp,useDeferredValue:function(t){return an().memoizedState=t},useTransition:function(){var t=Hy(!1),e=t[0];return t=zQ.bind(null,t[1]),an().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=$e,A=an();if(ze){if(r===void 0)throw Error($(407));r=r()}else{if(r=e(),vt===null)throw Error($(349));xs&30||fE(n,e,r)}A.memoizedState=r;var s={value:r,getSnapshot:e};return A.queue=s,My(mE.bind(null,n,s,t),[t]),n.flags|=2048,Ta(9,gE.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=an(),e=vt.identifierPrefix;if(ze){var r=Nn,n=Tn;r=(n&~(1<<32-Jr(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fa++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=GQ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JQ={readContext:Lr,useCallback:EE,useContext:Lr,useEffect:Ep,useImperativeHandle:CE,useInsertionEffect:BE,useLayoutEffect:vE,useMemo:bE,useReducer:Zh,useRef:yE,useState:function(){return Zh(Qa)},useDebugValue:bp,useDeferredValue:function(t){var e=Hr();return _E(e,ht.memoizedState,t)},useTransition:function(){var t=Zh(Qa)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:hE,useId:IE,unstable_isNewReconciler:!1},XQ={readContext:Lr,useCallback:EE,useContext:Lr,useEffect:Ep,useImperativeHandle:CE,useInsertionEffect:BE,useLayoutEffect:vE,useMemo:bE,useReducer:ef,useRef:yE,useState:function(){return ef(Qa)},useDebugValue:bp,useDeferredValue:function(t){var e=Hr();return ht===null?e.memoizedState=t:_E(e,ht.memoizedState,t)},useTransition:function(){var t=ef(Qa)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:dE,useSyncExternalStore:hE,useId:IE,unstable_isNewReconciler:!1};function Gr(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Cg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:qe({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hd={isMounted:function(t){return(t=t._reactInternals)?Ss(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=tr(),A=FA(t),s=jn(n,A);s.payload=e,r!=null&&(s.callback=r),e=IA(t,s,A),e!==null&&(Xr(e,t,A,n),Pc(e,t,A))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=tr(),A=FA(t),s=jn(n,A);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=IA(t,s,A),e!==null&&(Xr(e,t,A,n),Pc(e,t,A))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=tr(),n=FA(t),A=jn(r,n);A.tag=2,e!=null&&(A.callback=e),e=IA(t,A,n),e!==null&&(Xr(e,t,n,r),Pc(e,t,n))}};function Oy(t,e,r,n,A,s,i){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,i):e.prototype&&e.prototype.isPureReactComponent?!Ca(r,n)||!Ca(A,s):!0}function TE(t,e,r){var n=!1,A=PA,s=e.contextType;return typeof s=="object"&&s!==null?s=Lr(s):(A=ur(e)?Bs:$t.current,n=e.contextTypes,s=(n=n!=null)?Ii(t,A):PA),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=A,t.__reactInternalMemoizedMaskedChildContext=s),e}function Vy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hd.enqueueReplaceState(e,e.state,null)}function Eg(t,e,r,n){var A=t.stateNode;A.props=r,A.state=t.memoizedState,A.refs={},pp(t);var s=e.contextType;typeof s=="object"&&s!==null?A.context=Lr(s):(s=ur(e)?Bs:$t.current,A.context=Ii(t,s)),A.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cg(t,e,s,r),A.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(e=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),e!==A.state&&hd.enqueueReplaceState(A,A.state,null),yu(t,r,A,n),A.state=t.memoizedState),typeof A.componentDidMount=="function"&&(t.flags|=4194308)}function Ti(t,e){try{var r="",n=e;do r+=bF(n),n=n.return;while(n);var A=r}catch(s){A=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:A,digest:null}}function tf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function bg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var YQ=typeof WeakMap=="function"?WeakMap:Map;function NE(t,e,r){r=jn(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Eu||(Eu=!0,kg=n),bg(t,e)},r}function SE(t,e,r){r=jn(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var A=e.value;r.payload=function(){return n(A)},r.callback=function(){bg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){bg(t,e),typeof n!="function"&&(UA===null?UA=new Set([this]):UA.add(this));var i=e.stack;this.componentDidCatch(e.value,{componentStack:i!==null?i:""})}),r}function Ky(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new YQ;var A=new Set;n.set(e,A)}else A=n.get(e),A===void 0&&(A=new Set,n.set(e,A));A.has(r)||(A.add(r),t=dT.bind(null,t,e,r),e.then(t,t))}function Gy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zy(t,e,r,n,A){return t.mode&1?(t.flags|=65536,t.lanes=A,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=jn(-1,1),e.tag=2,IA(r,e,1))),r.lanes|=1),t)}var ZQ=Xn.ReactCurrentOwner,or=!1;function er(t,e,r,n){e.child=t===null?aE(e,null,r,n):Fi(e,t.child,r,n)}function Wy(t,e,r,n,A){r=r.render;var s=e.ref;return wi(e,A),n=xp(t,e,r,n,s,A),r=Cp(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~A,Vn(t,e,A)):(ze&&r&&cp(e),e.flags|=1,er(t,e,n,A),e.child)}function $y(t,e,r,n,A){if(t===null){var s=r.type;return typeof s=="function"&&!Sp(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,RE(t,e,s,n,A)):(t=Vc(r.type,null,n,e,e.mode,A),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&A)){var i=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ca,r(i,n)&&t.ref===e.ref)return Vn(t,e,A)}return e.flags|=1,t=QA(s,n),t.ref=e.ref,t.return=e,e.child=t}function RE(t,e,r,n,A){if(t!==null){var s=t.memoizedProps;if(Ca(s,n)&&t.ref===e.ref)if(or=!1,e.pendingProps=n=s,(t.lanes&A)!==0)t.flags&131072&&(or=!0);else return e.lanes=t.lanes,Vn(t,e,A)}return _g(t,e,r,n,A)}function kE(t,e,r){var n=e.pendingProps,A=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Le(di,wr),wr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Le(di,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Le(di,wr),wr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Le(di,wr),wr|=n;return er(t,e,A,r),e.child}function jE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _g(t,e,r,n,A){var s=ur(r)?Bs:$t.current;return s=Ii(e,s),wi(e,A),r=xp(t,e,r,n,s,A),n=Cp(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~A,Vn(t,e,A)):(ze&&n&&cp(e),e.flags|=1,er(t,e,r,A),e.child)}function qy(t,e,r,n,A){if(ur(r)){var s=!0;fu(e)}else s=!1;if(wi(e,A),e.stateNode===null)Hc(t,e),TE(e,r,n),Eg(e,r,n,A),n=!0;else if(t===null){var i=e.stateNode,a=e.memoizedProps;i.props=a;var l=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Lr(u):(u=ur(r)?Bs:$t.current,u=Ii(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==n||l!==u)&&Vy(e,i,n,u),oA=!1;var f=e.memoizedState;i.state=f,yu(e,n,i,A),l=e.memoizedState,a!==n||f!==l||cr.current||oA?(typeof d=="function"&&(Cg(e,r,d,n),l=e.memoizedState),(a=oA||Oy(e,r,a,n,f,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(e.flags|=4194308)):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),i.props=n,i.state=l,i.context=u,n=a):(typeof i.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{i=e.stateNode,cE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Gr(e.type,a),i.props=u,h=e.pendingProps,f=i.context,l=r.contextType,typeof l=="object"&&l!==null?l=Lr(l):(l=ur(r)?Bs:$t.current,l=Ii(e,l));var w=r.getDerivedStateFromProps;(d=typeof w=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Vy(e,i,n,l),oA=!1,f=e.memoizedState,i.state=f,yu(e,n,i,A);var v=e.memoizedState;a!==h||f!==v||cr.current||oA?(typeof w=="function"&&(Cg(e,r,w,n),v=e.memoizedState),(u=oA||Oy(e,r,u,n,f,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,l)),typeof i.componentDidUpdate=="function"&&(e.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),i.props=n,i.state=v,i.context=l,n=u):(typeof i.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Ig(t,e,r,n,s,A)}function Ig(t,e,r,n,A,s){jE(t,e);var i=(e.flags&128)!==0;if(!n&&!i)return A&&Ry(e,r,!1),Vn(t,e,s);n=e.stateNode,ZQ.current=e;var a=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&i?(e.child=Fi(e,t.child,null,s),e.child=Fi(e,null,a,s)):er(t,e,a,s),e.memoizedState=n.state,A&&Ry(e,r,!0),e.child}function PE(t){var e=t.stateNode;e.pendingContext?Sy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sy(t,e.context,!1),wp(t,e.containerInfo)}function Jy(t,e,r,n,A){return Ui(),dp(A),e.flags|=256,er(t,e,r,n),e.child}var Ug={dehydrated:null,treeContext:null,retryLane:0};function Fg(t){return{baseLanes:t,cachePool:null,transitions:null}}function DE(t,e,r){var n=e.pendingProps,A=We.current,s=!1,i=(e.flags&128)!==0,a;if((a=i)||(a=t!==null&&t.memoizedState===null?!1:(A&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(A|=1),Le(We,A&1),t===null)return vg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(i=n.children,t=n.fallback,s?(n=e.mode,s=e.child,i={mode:"hidden",children:i},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=i):s=md(i,n,0,null),t=fs(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Fg(r),e.memoizedState=Ug,t):_p(e,i));if(A=t.memoizedState,A!==null&&(a=A.dehydrated,a!==null))return eT(t,e,i,n,a,A,r);if(s){s=n.fallback,i=e.mode,A=t.child,a=A.sibling;var l={mode:"hidden",children:n.children};return!(i&1)&&e.child!==A?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=QA(A,l),n.subtreeFlags=A.subtreeFlags&14680064),a!==null?s=QA(a,s):(s=fs(s,i,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,i=t.child.memoizedState,i=i===null?Fg(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},s.memoizedState=i,s.childLanes=t.childLanes&~r,e.memoizedState=Ug,n}return s=t.child,t=s.sibling,n=QA(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function _p(t,e){return e=md({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Jl(t,e,r,n){return n!==null&&dp(n),Fi(e,t.child,null,r),t=_p(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eT(t,e,r,n,A,s,i){if(r)return e.flags&256?(e.flags&=-257,n=tf(Error($(422))),Jl(t,e,i,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,A=e.mode,n=md({mode:"visible",children:n.children},A,0,null),s=fs(s,A,i,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Fi(e,t.child,null,i),e.child.memoizedState=Fg(i),e.memoizedState=Ug,s);if(!(e.mode&1))return Jl(t,e,i,null);if(A.data==="$!"){if(n=A.nextSibling&&A.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error($(419)),n=tf(s,n,void 0),Jl(t,e,i,n)}if(a=(i&t.childLanes)!==0,or||a){if(n=vt,n!==null){switch(i&-i){case 4:A=2;break;case 16:A=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:A=32;break;case 536870912:A=268435456;break;default:A=0}A=A&(n.suspendedLanes|i)?0:A,A!==0&&A!==s.retryLane&&(s.retryLane=A,On(t,A),Xr(n,t,A,-1))}return Np(),n=tf(Error($(421))),Jl(t,e,i,n)}return A.data==="$?"?(e.flags|=128,e.child=t.child,e=hT.bind(null,t),A._reactRetry=e,null):(t=s.treeContext,Br=_A(A.nextSibling),Er=e,ze=!0,Wr=null,t!==null&&(Qr[Tr++]=Tn,Qr[Tr++]=Nn,Qr[Tr++]=vs,Tn=t.id,Nn=t.overflow,vs=e),e=_p(e,n.children),e.flags|=4096,e)}function Xy(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),xg(t.return,e,r)}function rf(t,e,r,n,A){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:A}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=A)}function LE(t,e,r){var n=e.pendingProps,A=n.revealOrder,s=n.tail;if(er(t,e,n.children,r),n=We.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Xy(t,r,e);else if(t.tag===19)Xy(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Le(We,n),!(e.mode&1))e.memoizedState=null;else switch(A){case"forwards":for(r=e.child,A=null;r!==null;)t=r.alternate,t!==null&&Bu(t)===null&&(A=r),r=r.sibling;r=A,r===null?(A=e.child,e.child=null):(A=r.sibling,r.sibling=null),rf(e,!1,A,r,s);break;case"backwards":for(r=null,A=e.child,e.child=null;A!==null;){if(t=A.alternate,t!==null&&Bu(t)===null){e.child=A;break}t=A.sibling,A.sibling=r,r=A,A=t}rf(e,!0,r,null,s);break;case"together":rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,r=QA(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=QA(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function tT(t,e,r){switch(e.tag){case 3:PE(e),Ui();break;case 5:uE(e);break;case 1:ur(e.type)&&fu(e);break;case 4:wp(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,A=e.memoizedProps.value;Le(pu,n._currentValue),n._currentValue=A;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Le(We,We.current&1),e.flags|=128,null):r&e.child.childLanes?DE(t,e,r):(Le(We,We.current&1),t=Vn(t,e,r),t!==null?t.sibling:null);Le(We,We.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return LE(t,e,r);e.flags|=128}if(A=e.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),Le(We,We.current),n)break;return null;case 22:case 23:return e.lanes=0,kE(t,e,r)}return Vn(t,e,r)}var HE,Qg,ME,OE;HE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qg=function(){};ME=function(t,e,r,n){var A=t.memoizedProps;if(A!==n){t=e.stateNode,ls(hn.current);var s=null;switch(r){case"input":A=Yf(t,A),n=Yf(t,n),s=[];break;case"select":A=qe({},A,{value:void 0}),n=qe({},n,{value:void 0}),s=[];break;case"textarea":A=tg(t,A),n=tg(t,n),s=[];break;default:typeof A.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=du)}ng(r,n);var i;r=null;for(u in A)if(!n.hasOwnProperty(u)&&A.hasOwnProperty(u)&&A[u]!=null)if(u==="style"){var a=A[u];for(i in a)a.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ma.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=A!=null?A[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(r||(r={}),r[i]=l[i])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ma.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Me("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};OE=function(t,e,r,n){r!==n&&(e.flags|=4)};function vo(t,e){if(!ze)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Dt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var A=t.child;A!==null;)r|=A.lanes|A.childLanes,n|=A.subtreeFlags&14680064,n|=A.flags&14680064,A.return=t,A=A.sibling;else for(A=t.child;A!==null;)r|=A.lanes|A.childLanes,n|=A.subtreeFlags,n|=A.flags,A.return=t,A=A.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function rT(t,e,r){var n=e.pendingProps;switch(up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(e),null;case 1:return ur(e.type)&&hu(),Dt(e),null;case 3:return n=e.stateNode,Qi(),Ve(cr),Ve($t),Bp(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&($l(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Wr!==null&&(Dg(Wr),Wr=null))),Qg(t,e),Dt(e),null;case 5:yp(e);var A=ls(Ua.current);if(r=e.type,t!==null&&e.stateNode!=null)ME(t,e,r,n,A),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error($(166));return Dt(e),null}if(t=ls(hn.current),$l(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ln]=e,n[_a]=s,t=(e.mode&1)!==0,r){case"dialog":Me("cancel",n),Me("close",n);break;case"iframe":case"object":case"embed":Me("load",n);break;case"video":case"audio":for(A=0;A<Ro.length;A++)Me(Ro[A],n);break;case"source":Me("error",n);break;case"img":case"image":case"link":Me("error",n),Me("load",n);break;case"details":Me("toggle",n);break;case"input":iy(n,s),Me("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Me("invalid",n);break;case"textarea":ay(n,s),Me("invalid",n)}ng(r,s),A=null;for(var i in s)if(s.hasOwnProperty(i)){var a=s[i];i==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wl(n.textContent,a,t),A=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wl(n.textContent,a,t),A=["children",""+a]):ma.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Me("scroll",n)}switch(r){case"input":Ll(n),oy(n,s,!0);break;case"textarea":Ll(n),ly(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=du)}n=A,e.updateQueue=n,n!==null&&(e.flags|=4)}else{i=A.nodeType===9?A:A.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=mC(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=i.createElement(r,{is:n.is}):(t=i.createElement(r),r==="select"&&(i=t,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):t=i.createElementNS(t,r),t[ln]=e,t[_a]=n,HE(t,e,!1,!1),e.stateNode=t;e:{switch(i=Ag(r,n),r){case"dialog":Me("cancel",t),Me("close",t),A=n;break;case"iframe":case"object":case"embed":Me("load",t),A=n;break;case"video":case"audio":for(A=0;A<Ro.length;A++)Me(Ro[A],t);A=n;break;case"source":Me("error",t),A=n;break;case"img":case"image":case"link":Me("error",t),Me("load",t),A=n;break;case"details":Me("toggle",t),A=n;break;case"input":iy(t,n),A=Yf(t,n),Me("invalid",t);break;case"option":A=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},A=qe({},n,{value:void 0}),Me("invalid",t);break;case"textarea":ay(t,n),A=tg(t,n),Me("invalid",t);break;default:A=n}ng(r,A),a=A;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?yC(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pC(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&pa(t,l):typeof l=="number"&&pa(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ma.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Me("scroll",t):l!=null&&Jm(t,s,l,i))}switch(r){case"input":Ll(t),oy(t,n,!1);break;case"textarea":Ll(t),ly(t);break;case"option":n.value!=null&&t.setAttribute("value",""+jA(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?fi(t,!!n.multiple,s,!1):n.defaultValue!=null&&fi(t,!!n.multiple,n.defaultValue,!0);break;default:typeof A.onClick=="function"&&(t.onclick=du)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dt(e),null;case 6:if(t&&e.stateNode!=null)OE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error($(166));if(r=ls(Ua.current),ls(hn.current),$l(e)){if(n=e.stateNode,r=e.memoizedProps,n[ln]=e,(s=n.nodeValue!==r)&&(t=Er,t!==null))switch(t.tag){case 3:Wl(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wl(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ln]=e,e.stateNode=n}return Dt(e),null;case 13:if(Ve(We),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ze&&Br!==null&&e.mode&1&&!(e.flags&128))iE(),Ui(),e.flags|=98560,s=!1;else if(s=$l(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error($(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($(317));s[ln]=e}else Ui(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dt(e),s=!1}else Wr!==null&&(Dg(Wr),Wr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?gt===0&&(gt=3):Np())),e.updateQueue!==null&&(e.flags|=4),Dt(e),null);case 4:return Qi(),Qg(t,e),t===null&&Ea(e.stateNode.containerInfo),Dt(e),null;case 10:return gp(e.type._context),Dt(e),null;case 17:return ur(e.type)&&hu(),Dt(e),null;case 19:if(Ve(We),s=e.memoizedState,s===null)return Dt(e),null;if(n=(e.flags&128)!==0,i=s.rendering,i===null)if(n)vo(s,!1);else{if(gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(i=Bu(t),i!==null){for(e.flags|=128,vo(s,!1),n=i.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,i=s.alternate,i===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=i.childLanes,s.lanes=i.lanes,s.child=i.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=i.memoizedProps,s.memoizedState=i.memoizedState,s.updateQueue=i.updateQueue,s.type=i.type,t=i.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Le(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&ot()>Ni&&(e.flags|=128,n=!0,vo(s,!1),e.lanes=4194304)}else{if(!n)if(t=Bu(i),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),vo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!ze)return Dt(e),null}else 2*ot()-s.renderingStartTime>Ni&&r!==1073741824&&(e.flags|=128,n=!0,vo(s,!1),e.lanes=4194304);s.isBackwards?(i.sibling=e.child,e.child=i):(r=s.last,r!==null?r.sibling=i:e.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ot(),e.sibling=null,r=We.current,Le(We,n?r&1|2:r&1),e):(Dt(e),null);case 22:case 23:return Tp(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?wr&1073741824&&(Dt(e),e.subtreeFlags&6&&(e.flags|=8192)):Dt(e),null;case 24:return null;case 25:return null}throw Error($(156,e.tag))}function nT(t,e){switch(up(e),e.tag){case 1:return ur(e.type)&&hu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qi(),Ve(cr),Ve($t),Bp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yp(e),null;case 13:if(Ve(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Ui()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ve(We),null;case 4:return Qi(),null;case 10:return gp(e.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var Xl=!1,Vt=!1,AT=typeof WeakSet=="function"?WeakSet:Set,le=null;function ui(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ze(t,e,n)}else r.current=null}function Tg(t,e,r){try{r()}catch(n){Ze(t,e,n)}}var Yy=!1;function sT(t,e){if(fg=lu,t=WC(),lp(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var A=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var w;h!==r||A!==0&&h.nodeType!==3||(a=i+A),h!==s||n!==0&&h.nodeType!==3||(l=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(w=h.firstChild)!==null;)f=h,h=w;for(;;){if(h===t)break t;if(f===r&&++u===A&&(a=i),f===s&&++d===n&&(l=i),(w=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=w}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(gg={focusedElem:t,selectionRange:r},lu=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,Q=v.memoizedState,B=e.stateNode,m=B.getSnapshotBeforeUpdate(e.elementType===e.type?_:Gr(e.type,_),Q);B.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(C){Ze(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return v=Yy,Yy=!1,v}function ta(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var A=n=n.next;do{if((A.tag&t)===t){var s=A.destroy;A.destroy=void 0,s!==void 0&&Tg(e,r,s)}A=A.next}while(A!==n)}}function fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ng(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function VE(t){var e=t.alternate;e!==null&&(t.alternate=null,VE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ln],delete e[_a],delete e[wg],delete e[MQ],delete e[OQ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function KE(t){return t.tag===5||t.tag===3||t.tag===4}function Zy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||KE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=du));else if(n!==4&&(t=t.child,t!==null))for(Sg(t,e,r),t=t.sibling;t!==null;)Sg(t,e,r),t=t.sibling}function Rg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Rg(t,e,r),t=t.sibling;t!==null;)Rg(t,e,r),t=t.sibling}var Et=null,zr=!1;function rA(t,e,r){for(r=r.child;r!==null;)GE(t,e,r),r=r.sibling}function GE(t,e,r){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(id,r)}catch{}switch(r.tag){case 5:Vt||ui(r,e);case 6:var n=Et,A=zr;Et=null,rA(t,e,r),Et=n,zr=A,Et!==null&&(zr?(t=Et,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Et.removeChild(r.stateNode));break;case 18:Et!==null&&(zr?(t=Et,r=r.stateNode,t.nodeType===8?qh(t.parentNode,r):t.nodeType===1&&qh(t,r),va(t)):qh(Et,r.stateNode));break;case 4:n=Et,A=zr,Et=r.stateNode.containerInfo,zr=!0,rA(t,e,r),Et=n,zr=A;break;case 0:case 11:case 14:case 15:if(!Vt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){A=n=n.next;do{var s=A,i=s.destroy;s=s.tag,i!==void 0&&(s&2||s&4)&&Tg(r,e,i),A=A.next}while(A!==n)}rA(t,e,r);break;case 1:if(!Vt&&(ui(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Ze(r,e,a)}rA(t,e,r);break;case 21:rA(t,e,r);break;case 22:r.mode&1?(Vt=(n=Vt)||r.memoizedState!==null,rA(t,e,r),Vt=n):rA(t,e,r);break;default:rA(t,e,r)}}function eB(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new AT),e.forEach(function(n){var A=fT.bind(null,t,n);r.has(n)||(r.add(n),n.then(A,A))})}}function Vr(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var A=r[n];try{var s=t,i=e,a=i;e:for(;a!==null;){switch(a.tag){case 5:Et=a.stateNode,zr=!1;break e;case 3:Et=a.stateNode.containerInfo,zr=!0;break e;case 4:Et=a.stateNode.containerInfo,zr=!0;break e}a=a.return}if(Et===null)throw Error($(160));GE(s,i,A),Et=null,zr=!1;var l=A.alternate;l!==null&&(l.return=null),A.return=null}catch(u){Ze(A,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)zE(e,t),e=e.sibling}function zE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Vr(e,t),An(t),n&4){try{ta(3,t,t.return),fd(3,t)}catch(_){Ze(t,t.return,_)}try{ta(5,t,t.return)}catch(_){Ze(t,t.return,_)}}break;case 1:Vr(e,t),An(t),n&512&&r!==null&&ui(r,r.return);break;case 5:if(Vr(e,t),An(t),n&512&&r!==null&&ui(r,r.return),t.flags&32){var A=t.stateNode;try{pa(A,"")}catch(_){Ze(t,t.return,_)}}if(n&4&&(A=t.stateNode,A!=null)){var s=t.memoizedProps,i=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&fC(A,s),Ag(a,i);var u=Ag(a,s);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?yC(A,h):d==="dangerouslySetInnerHTML"?pC(A,h):d==="children"?pa(A,h):Jm(A,d,h,u)}switch(a){case"input":Zf(A,s);break;case"textarea":gC(A,s);break;case"select":var f=A._wrapperState.wasMultiple;A._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?fi(A,!!s.multiple,w,!1):f!==!!s.multiple&&(s.defaultValue!=null?fi(A,!!s.multiple,s.defaultValue,!0):fi(A,!!s.multiple,s.multiple?[]:"",!1))}A[_a]=s}catch(_){Ze(t,t.return,_)}}break;case 6:if(Vr(e,t),An(t),n&4){if(t.stateNode===null)throw Error($(162));A=t.stateNode,s=t.memoizedProps;try{A.nodeValue=s}catch(_){Ze(t,t.return,_)}}break;case 3:if(Vr(e,t),An(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{va(e.containerInfo)}catch(_){Ze(t,t.return,_)}break;case 4:Vr(e,t),An(t);break;case 13:Vr(e,t),An(t),A=t.child,A.flags&8192&&(s=A.memoizedState!==null,A.stateNode.isHidden=s,!s||A.alternate!==null&&A.alternate.memoizedState!==null||(Fp=ot())),n&4&&eB(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Vt=(u=Vt)||d,Vr(e,t),Vt=u):Vr(e,t),An(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(h=le=d;le!==null;){switch(f=le,w=f.child,f.tag){case 0:case 11:case 14:case 15:ta(4,f,f.return);break;case 1:ui(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(_){Ze(n,r,_)}}break;case 5:ui(f,f.return);break;case 22:if(f.memoizedState!==null){rB(h);continue}}w!==null?(w.return=f,le=w):rB(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{A=h.stateNode,u?(s=A.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=wC("display",i))}catch(_){Ze(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(_){Ze(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Vr(e,t),An(t),n&4&&eB(t);break;case 21:break;default:Vr(e,t),An(t)}}function An(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(KE(r)){var n=r;break e}r=r.return}throw Error($(160))}switch(n.tag){case 5:var A=n.stateNode;n.flags&32&&(pa(A,""),n.flags&=-33);var s=Zy(t);Rg(t,s,A);break;case 3:case 4:var i=n.stateNode.containerInfo,a=Zy(t);Sg(t,a,i);break;default:throw Error($(161))}}catch(l){Ze(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iT(t,e,r){le=t,WE(t)}function WE(t,e,r){for(var n=(t.mode&1)!==0;le!==null;){var A=le,s=A.child;if(A.tag===22&&n){var i=A.memoizedState!==null||Xl;if(!i){var a=A.alternate,l=a!==null&&a.memoizedState!==null||Vt;a=Xl;var u=Vt;if(Xl=i,(Vt=l)&&!u)for(le=A;le!==null;)i=le,l=i.child,i.tag===22&&i.memoizedState!==null?nB(A):l!==null?(l.return=i,le=l):nB(A);for(;s!==null;)le=s,WE(s),s=s.sibling;le=A,Xl=a,Vt=u}tB(t)}else A.subtreeFlags&8772&&s!==null?(s.return=A,le=s):tB(t)}}function tB(t){for(;le!==null;){var e=le;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vt||fd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Vt)if(r===null)n.componentDidMount();else{var A=e.elementType===e.type?r.memoizedProps:Gr(e.type,r.memoizedProps);n.componentDidUpdate(A,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ly(e,s,n);break;case 3:var i=e.updateQueue;if(i!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ly(e,i,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&va(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Vt||e.flags&512&&Ng(e)}catch(f){Ze(e,e.return,f)}}if(e===t){le=null;break}if(r=e.sibling,r!==null){r.return=e.return,le=r;break}le=e.return}}function rB(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var r=e.sibling;if(r!==null){r.return=e.return,le=r;break}le=e.return}}function nB(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{fd(4,e)}catch(l){Ze(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var A=e.return;try{n.componentDidMount()}catch(l){Ze(e,A,l)}}var s=e.return;try{Ng(e)}catch(l){Ze(e,s,l)}break;case 5:var i=e.return;try{Ng(e)}catch(l){Ze(e,i,l)}}}catch(l){Ze(e,e.return,l)}if(e===t){le=null;break}var a=e.sibling;if(a!==null){a.return=e.return,le=a;break}le=e.return}}var oT=Math.ceil,Cu=Xn.ReactCurrentDispatcher,Ip=Xn.ReactCurrentOwner,jr=Xn.ReactCurrentBatchConfig,Ue=0,vt=null,ct=null,Ft=0,wr=0,di=GA(0),gt=0,Na=null,Cs=0,gd=0,Up=0,ra=null,sr=null,Fp=0,Ni=1/0,Un=null,Eu=!1,kg=null,UA=null,Yl=!1,mA=null,bu=0,na=0,jg=null,Mc=-1,Oc=0;function tr(){return Ue&6?ot():Mc!==-1?Mc:Mc=ot()}function FA(t){return t.mode&1?Ue&2&&Ft!==0?Ft&-Ft:KQ.transition!==null?(Oc===0&&(Oc=TC()),Oc):(t=Se,t!==0||(t=window.event,t=t===void 0?16:DC(t.type)),t):1}function Xr(t,e,r,n){if(50<na)throw na=0,jg=null,Error($(185));Ya(t,r,n),(!(Ue&2)||t!==vt)&&(t===vt&&(!(Ue&2)&&(gd|=r),gt===4&&cA(t,Ft)),dr(t,n),r===1&&Ue===0&&!(e.mode&1)&&(Ni=ot()+500,ud&&zA()))}function dr(t,e){var r=t.callbackNode;KF(t,e);var n=au(t,t===vt?Ft:0);if(n===0)r!==null&&dy(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&dy(r),e===1)t.tag===0?VQ(AB.bind(null,t)):nE(AB.bind(null,t)),LQ(function(){!(Ue&6)&&zA()}),r=null;else{switch(NC(n)){case 1:r=tp;break;case 4:r=FC;break;case 16:r=ou;break;case 536870912:r=QC;break;default:r=ou}r=tb(r,$E.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function $E(t,e){if(Mc=-1,Oc=0,Ue&6)throw Error($(327));var r=t.callbackNode;if(yi()&&t.callbackNode!==r)return null;var n=au(t,t===vt?Ft:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=_u(t,n);else{e=n;var A=Ue;Ue|=2;var s=JE();(vt!==t||Ft!==e)&&(Un=null,Ni=ot()+500,hs(t,e));do try{cT();break}catch(a){qE(t,a)}while(!0);fp(),Cu.current=s,Ue=A,ct!==null?e=0:(vt=null,Ft=0,e=gt)}if(e!==0){if(e===2&&(A=lg(t),A!==0&&(n=A,e=Pg(t,A))),e===1)throw r=Na,hs(t,0),cA(t,n),dr(t,ot()),r;if(e===6)cA(t,n);else{if(A=t.current.alternate,!(n&30)&&!aT(A)&&(e=_u(t,n),e===2&&(s=lg(t),s!==0&&(n=s,e=Pg(t,s))),e===1))throw r=Na,hs(t,0),cA(t,n),dr(t,ot()),r;switch(t.finishedWork=A,t.finishedLanes=n,e){case 0:case 1:throw Error($(345));case 2:As(t,sr,Un);break;case 3:if(cA(t,n),(n&130023424)===n&&(e=Fp+500-ot(),10<e)){if(au(t,0)!==0)break;if(A=t.suspendedLanes,(A&n)!==n){tr(),t.pingedLanes|=t.suspendedLanes&A;break}t.timeoutHandle=pg(As.bind(null,t,sr,Un),e);break}As(t,sr,Un);break;case 4:if(cA(t,n),(n&4194240)===n)break;for(e=t.eventTimes,A=-1;0<n;){var i=31-Jr(n);s=1<<i,i=e[i],i>A&&(A=i),n&=~s}if(n=A,n=ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*oT(n/1960))-n,10<n){t.timeoutHandle=pg(As.bind(null,t,sr,Un),n);break}As(t,sr,Un);break;case 5:As(t,sr,Un);break;default:throw Error($(329))}}}return dr(t,ot()),t.callbackNode===r?$E.bind(null,t):null}function Pg(t,e){var r=ra;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=_u(t,e),t!==2&&(e=sr,sr=r,e!==null&&Dg(e)),t}function Dg(t){sr===null?sr=t:sr.push.apply(sr,t)}function aT(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var A=r[n],s=A.getSnapshot;A=A.value;try{if(!en(s(),A))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cA(t,e){for(e&=~Up,e&=~gd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Jr(e),n=1<<r;t[r]=-1,e&=~n}}function AB(t){if(Ue&6)throw Error($(327));yi();var e=au(t,0);if(!(e&1))return dr(t,ot()),null;var r=_u(t,e);if(t.tag!==0&&r===2){var n=lg(t);n!==0&&(e=n,r=Pg(t,n))}if(r===1)throw r=Na,hs(t,0),cA(t,e),dr(t,ot()),r;if(r===6)throw Error($(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,sr,Un),dr(t,ot()),null}function Qp(t,e){var r=Ue;Ue|=1;try{return t(e)}finally{Ue=r,Ue===0&&(Ni=ot()+500,ud&&zA())}}function Es(t){mA!==null&&mA.tag===0&&!(Ue&6)&&yi();var e=Ue;Ue|=1;var r=jr.transition,n=Se;try{if(jr.transition=null,Se=1,t)return t()}finally{Se=n,jr.transition=r,Ue=e,!(Ue&6)&&zA()}}function Tp(){wr=di.current,Ve(di)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,DQ(r)),ct!==null)for(r=ct.return;r!==null;){var n=r;switch(up(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&hu();break;case 3:Qi(),Ve(cr),Ve($t),Bp();break;case 5:yp(n);break;case 4:Qi();break;case 13:Ve(We);break;case 19:Ve(We);break;case 10:gp(n.type._context);break;case 22:case 23:Tp()}r=r.return}if(vt=t,ct=t=QA(t.current,null),Ft=wr=e,gt=0,Na=null,Up=gd=Cs=0,sr=ra=null,as!==null){for(e=0;e<as.length;e++)if(r=as[e],n=r.interleaved,n!==null){r.interleaved=null;var A=n.next,s=r.pending;if(s!==null){var i=s.next;s.next=A,n.next=i}r.pending=n}as=null}return t}function qE(t,e){do{var r=ct;try{if(fp(),Dc.current=xu,vu){for(var n=$e.memoizedState;n!==null;){var A=n.queue;A!==null&&(A.pending=null),n=n.next}vu=!1}if(xs=0,Bt=ht=$e=null,ea=!1,Fa=0,Ip.current=null,r===null||r.return===null){gt=1,Na=e,ct=null;break}e:{var s=t,i=r.return,a=r,l=e;if(e=Ft,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var w=Gy(i);if(w!==null){w.flags&=-257,zy(w,i,a,s,e),w.mode&1&&Ky(s,u,e),e=w,l=u;var v=e.updateQueue;if(v===null){var _=new Set;_.add(l),e.updateQueue=_}else v.add(l);break e}else{if(!(e&1)){Ky(s,u,e),Np();break e}l=Error($(426))}}else if(ze&&a.mode&1){var Q=Gy(i);if(Q!==null){!(Q.flags&65536)&&(Q.flags|=256),zy(Q,i,a,s,e),dp(Ti(l,a));break e}}s=l=Ti(l,a),gt!==4&&(gt=2),ra===null?ra=[s]:ra.push(s),s=i;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var B=NE(s,l,e);Dy(s,B);break e;case 1:a=l;var m=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(UA===null||!UA.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=SE(s,a,e);Dy(s,C);break e}}s=s.return}while(s!==null)}YE(r)}catch(F){e=F,ct===r&&r!==null&&(ct=r=r.return);continue}break}while(!0)}function JE(){var t=Cu.current;return Cu.current=xu,t===null?xu:t}function Np(){(gt===0||gt===3||gt===2)&&(gt=4),vt===null||!(Cs&268435455)&&!(gd&268435455)||cA(vt,Ft)}function _u(t,e){var r=Ue;Ue|=2;var n=JE();(vt!==t||Ft!==e)&&(Un=null,hs(t,e));do try{lT();break}catch(A){qE(t,A)}while(!0);if(fp(),Ue=r,Cu.current=n,ct!==null)throw Error($(261));return vt=null,Ft=0,gt}function lT(){for(;ct!==null;)XE(ct)}function cT(){for(;ct!==null&&!kF();)XE(ct)}function XE(t){var e=eb(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?YE(t):ct=e,Ip.current=null}function YE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=nT(r,e),r!==null){r.flags&=32767,ct=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gt=6,ct=null;return}}else if(r=rT(r,e,wr),r!==null){ct=r;return}if(e=e.sibling,e!==null){ct=e;return}ct=e=t}while(e!==null);gt===0&&(gt=5)}function As(t,e,r){var n=Se,A=jr.transition;try{jr.transition=null,Se=1,uT(t,e,r,n)}finally{jr.transition=A,Se=n}return null}function uT(t,e,r,n){do yi();while(mA!==null);if(Ue&6)throw Error($(327));r=t.finishedWork;var A=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error($(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(GF(t,s),t===vt&&(ct=vt=null,Ft=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yl||(Yl=!0,tb(ou,function(){return yi(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var i=Se;Se=1;var a=Ue;Ue|=4,Ip.current=null,sT(t,r),zE(r,t),TQ(gg),lu=!!fg,gg=fg=null,t.current=r,iT(r),jF(),Ue=a,Se=i,jr.transition=s}else t.current=r;if(Yl&&(Yl=!1,mA=t,bu=A),s=t.pendingLanes,s===0&&(UA=null),LF(r.stateNode),dr(t,ot()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)A=e[r],n(A.value,{componentStack:A.stack,digest:A.digest});if(Eu)throw Eu=!1,t=kg,kg=null,t;return bu&1&&t.tag!==0&&yi(),s=t.pendingLanes,s&1?t===jg?na++:(na=0,jg=t):na=0,zA(),null}function yi(){if(mA!==null){var t=NC(bu),e=jr.transition,r=Se;try{if(jr.transition=null,Se=16>t?16:t,mA===null)var n=!1;else{if(t=mA,mA=null,bu=0,Ue&6)throw Error($(331));var A=Ue;for(Ue|=4,le=t.current;le!==null;){var s=le,i=s.child;if(le.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:ta(8,d,s)}var h=d.child;if(h!==null)h.return=d,le=h;else for(;le!==null;){d=le;var f=d.sibling,w=d.return;if(VE(d),d===u){le=null;break}if(f!==null){f.return=w,le=f;break}le=w}}}var v=s.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var Q=_.sibling;_.sibling=null,_=Q}while(_!==null)}}le=s}}if(s.subtreeFlags&2064&&i!==null)i.return=s,le=i;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ta(9,s,s.return)}var B=s.sibling;if(B!==null){B.return=s.return,le=B;break e}le=s.return}}var m=t.current;for(le=m;le!==null;){i=le;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,le=y;else e:for(i=m;le!==null;){if(a=le,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fd(9,a)}}catch(F){Ze(a,a.return,F)}if(a===i){le=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,le=C;break e}le=a.return}}if(Ue=A,zA(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(id,t)}catch{}n=!0}return n}finally{Se=r,jr.transition=e}}return!1}function sB(t,e,r){e=Ti(r,e),e=NE(t,e,1),t=IA(t,e,1),e=tr(),t!==null&&(Ya(t,1,e),dr(t,e))}function Ze(t,e,r){if(t.tag===3)sB(t,t,r);else for(;e!==null;){if(e.tag===3){sB(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(UA===null||!UA.has(n))){t=Ti(r,t),t=SE(e,t,1),e=IA(e,t,1),t=tr(),e!==null&&(Ya(e,1,t),dr(e,t));break}}e=e.return}}function dT(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=tr(),t.pingedLanes|=t.suspendedLanes&r,vt===t&&(Ft&r)===r&&(gt===4||gt===3&&(Ft&130023424)===Ft&&500>ot()-Fp?hs(t,0):Up|=r),dr(t,e)}function ZE(t,e){e===0&&(t.mode&1?(e=Ol,Ol<<=1,!(Ol&130023424)&&(Ol=4194304)):e=1);var r=tr();t=On(t,e),t!==null&&(Ya(t,e,r),dr(t,r))}function hT(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ZE(t,r)}function fT(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,A=t.memoizedState;A!==null&&(r=A.retryLane);break;case 19:n=t.stateNode;break;default:throw Error($(314))}n!==null&&n.delete(e),ZE(t,r)}var eb;eb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cr.current)or=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return or=!1,tT(t,e,r);or=!!(t.flags&131072)}else or=!1,ze&&e.flags&1048576&&AE(e,mu,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Hc(t,e),t=e.pendingProps;var A=Ii(e,$t.current);wi(e,r),A=xp(null,e,n,t,A,r);var s=Cp();return e.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ur(n)?(s=!0,fu(e)):s=!1,e.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,pp(e),A.updater=hd,e.stateNode=A,A._reactInternals=e,Eg(e,n,t,r),e=Ig(null,e,n,!0,s,r)):(e.tag=0,ze&&s&&cp(e),er(null,e,A,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Hc(t,e),t=e.pendingProps,A=n._init,n=A(n._payload),e.type=n,A=e.tag=mT(n),t=Gr(n,t),A){case 0:e=_g(null,e,n,t,r);break e;case 1:e=qy(null,e,n,t,r);break e;case 11:e=Wy(null,e,n,t,r);break e;case 14:e=$y(null,e,n,Gr(n.type,t),r);break e}throw Error($(306,n,""))}return e;case 0:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:Gr(n,A),_g(t,e,n,A,r);case 1:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:Gr(n,A),qy(t,e,n,A,r);case 3:e:{if(PE(e),t===null)throw Error($(387));n=e.pendingProps,s=e.memoizedState,A=s.element,cE(t,e),yu(e,n,null,r);var i=e.memoizedState;if(n=i.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){A=Ti(Error($(423)),e),e=Jy(t,e,n,r,A);break e}else if(n!==A){A=Ti(Error($(424)),e),e=Jy(t,e,n,r,A);break e}else for(Br=_A(e.stateNode.containerInfo.firstChild),Er=e,ze=!0,Wr=null,r=aE(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ui(),n===A){e=Vn(t,e,r);break e}er(t,e,n,r)}e=e.child}return e;case 5:return uE(e),t===null&&vg(e),n=e.type,A=e.pendingProps,s=t!==null?t.memoizedProps:null,i=A.children,mg(n,A)?i=null:s!==null&&mg(n,s)&&(e.flags|=32),jE(t,e),er(t,e,i,r),e.child;case 6:return t===null&&vg(e),null;case 13:return DE(t,e,r);case 4:return wp(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Fi(e,null,n,r):er(t,e,n,r),e.child;case 11:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:Gr(n,A),Wy(t,e,n,A,r);case 7:return er(t,e,e.pendingProps,r),e.child;case 8:return er(t,e,e.pendingProps.children,r),e.child;case 12:return er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,A=e.pendingProps,s=e.memoizedProps,i=A.value,Le(pu,n._currentValue),n._currentValue=i,s!==null)if(en(s.value,i)){if(s.children===A.children&&!cr.current){e=Vn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){i=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=jn(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),xg(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)i=s.type===e.type?null:s.child;else if(s.tag===18){if(i=s.return,i===null)throw Error($(341));i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),xg(i,r,e),i=s.sibling}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}er(t,e,A.children,r),e=e.child}return e;case 9:return A=e.type,n=e.pendingProps.children,wi(e,r),A=Lr(A),n=n(A),e.flags|=1,er(t,e,n,r),e.child;case 14:return n=e.type,A=Gr(n,e.pendingProps),A=Gr(n.type,A),$y(t,e,n,A,r);case 15:return RE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,A=e.pendingProps,A=e.elementType===n?A:Gr(n,A),Hc(t,e),e.tag=1,ur(n)?(t=!0,fu(e)):t=!1,wi(e,r),TE(e,n,A),Eg(e,n,A,r),Ig(null,e,n,!0,t,r);case 19:return LE(t,e,r);case 22:return kE(t,e,r)}throw Error($(156,e.tag))};function tb(t,e){return UC(t,e)}function gT(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,r,n){return new gT(t,e,r,n)}function Sp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mT(t){if(typeof t=="function")return Sp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ym)return 11;if(t===Zm)return 14}return 2}function QA(t,e){var r=t.alternate;return r===null?(r=Sr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Vc(t,e,r,n,A,s){var i=2;if(n=t,typeof t=="function")Sp(t)&&(i=1);else if(typeof t=="string")i=5;else e:switch(t){case ri:return fs(r.children,A,s,e);case Xm:i=8,A|=8;break;case $f:return t=Sr(12,r,e,A|2),t.elementType=$f,t.lanes=s,t;case qf:return t=Sr(13,r,e,A),t.elementType=qf,t.lanes=s,t;case Jf:return t=Sr(19,r,e,A),t.elementType=Jf,t.lanes=s,t;case uC:return md(r,A,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case lC:i=10;break e;case cC:i=9;break e;case Ym:i=11;break e;case Zm:i=14;break e;case iA:i=16,n=null;break e}throw Error($(130,t==null?t:typeof t,""))}return e=Sr(i,r,e,A),e.elementType=t,e.type=n,e.lanes=s,e}function fs(t,e,r,n){return t=Sr(7,t,n,e),t.lanes=r,t}function md(t,e,r,n){return t=Sr(22,t,n,e),t.elementType=uC,t.lanes=r,t.stateNode={isHidden:!1},t}function nf(t,e,r){return t=Sr(6,t,null,e),t.lanes=r,t}function Af(t,e,r){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function pT(t,e,r,n,A){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dh(0),this.expirationTimes=Dh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dh(0),this.identifierPrefix=n,this.onRecoverableError=A,this.mutableSourceEagerHydrationData=null}function Rp(t,e,r,n,A,s,i,a,l){return t=new pT(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pp(s),t}function wT(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ti,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function rb(t){if(!t)return PA;t=t._reactInternals;e:{if(Ss(t)!==t||t.tag!==1)throw Error($(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ur(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($(171))}if(t.tag===1){var r=t.type;if(ur(r))return rE(t,r,e)}return e}function nb(t,e,r,n,A,s,i,a,l){return t=Rp(r,n,!0,t,A,s,i,a,l),t.context=rb(null),r=t.current,n=tr(),A=FA(r),s=jn(n,A),s.callback=e??null,IA(r,s,A),t.current.lanes=A,Ya(t,A,n),dr(t,n),t}function pd(t,e,r,n){var A=e.current,s=tr(),i=FA(A);return r=rb(r),e.context===null?e.context=r:e.pendingContext=r,e=jn(s,i),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=IA(A,e,i),t!==null&&(Xr(t,A,i,s),Pc(t,A,i)),i}function Iu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iB(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kp(t,e){iB(t,e),(t=t.alternate)&&iB(t,e)}function yT(){return null}var Ab=typeof reportError=="function"?reportError:function(t){console.error(t)};function jp(t){this._internalRoot=t}wd.prototype.render=jp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));pd(t,e,null,null)};wd.prototype.unmount=jp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Es(function(){pd(null,t,null,null)}),e[Mn]=null}};function wd(t){this._internalRoot=t}wd.prototype.unstable_scheduleHydration=function(t){if(t){var e=kC();t={blockedOn:null,target:t,priority:e};for(var r=0;r<lA.length&&e!==0&&e<lA[r].priority;r++);lA.splice(r,0,t),r===0&&PC(t)}};function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oB(){}function BT(t,e,r,n,A){if(A){if(typeof n=="function"){var s=n;n=function(){var u=Iu(i);s.call(u)}}var i=nb(e,n,t,0,null,!1,!1,"",oB);return t._reactRootContainer=i,t[Mn]=i.current,Ea(t.nodeType===8?t.parentNode:t),Es(),i}for(;A=t.lastChild;)t.removeChild(A);if(typeof n=="function"){var a=n;n=function(){var u=Iu(l);a.call(u)}}var l=Rp(t,0,!1,null,null,!1,!1,"",oB);return t._reactRootContainer=l,t[Mn]=l.current,Ea(t.nodeType===8?t.parentNode:t),Es(function(){pd(e,l,r,n)}),l}function Bd(t,e,r,n,A){var s=r._reactRootContainer;if(s){var i=s;if(typeof A=="function"){var a=A;A=function(){var l=Iu(i);a.call(l)}}pd(e,i,t,A)}else i=BT(r,e,t,A,n);return Iu(i)}SC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=So(e.pendingLanes);r!==0&&(rp(e,r|1),dr(e,ot()),!(Ue&6)&&(Ni=ot()+500,zA()))}break;case 13:Es(function(){var n=On(t,1);if(n!==null){var A=tr();Xr(n,t,1,A)}}),kp(t,1)}};np=function(t){if(t.tag===13){var e=On(t,134217728);if(e!==null){var r=tr();Xr(e,t,134217728,r)}kp(t,134217728)}};RC=function(t){if(t.tag===13){var e=FA(t),r=On(t,e);if(r!==null){var n=tr();Xr(r,t,e,n)}kp(t,e)}};kC=function(){return Se};jC=function(t,e){var r=Se;try{return Se=t,e()}finally{Se=r}};ig=function(t,e,r){switch(e){case"input":if(Zf(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var A=cd(n);if(!A)throw Error($(90));hC(n),Zf(n,A)}}}break;case"textarea":gC(t,r);break;case"select":e=r.value,e!=null&&fi(t,!!r.multiple,e,!1)}};xC=Qp;CC=Es;var vT={usingClientEntryPoint:!1,Events:[el,ii,cd,BC,vC,Qp]},xo={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xT={bundleType:xo.bundleType,version:xo.version,rendererPackageName:xo.rendererPackageName,rendererConfig:xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_C(t),t===null?null:t.stateNode},findFiberByHostInstance:xo.findFiberByHostInstance||yT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zl.isDisabled&&Zl.supportsFiber)try{id=Zl.inject(xT),dn=Zl}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vT;_r.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(e))throw Error($(200));return wT(t,e,null,r)};_r.createRoot=function(t,e){if(!Pp(t))throw Error($(299));var r=!1,n="",A=Ab;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(A=e.onRecoverableError)),e=Rp(t,1,!1,null,null,r,!1,n,A),t[Mn]=e.current,Ea(t.nodeType===8?t.parentNode:t),new jp(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=_C(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return Es(t)};_r.hydrate=function(t,e,r){if(!yd(e))throw Error($(200));return Bd(null,t,e,!0,r)};_r.hydrateRoot=function(t,e,r){if(!Pp(t))throw Error($(405));var n=r!=null&&r.hydratedSources||null,A=!1,s="",i=Ab;if(r!=null&&(r.unstable_strictMode===!0&&(A=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),e=nb(e,null,t,1,r??null,A,!1,s,i),t[Mn]=e.current,Ea(t),n)for(t=0;t<n.length;t++)r=n[t],A=r._getVersion,A=A(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,A]:e.mutableSourceEagerHydrationData.push(r,A);return new wd(e)};_r.render=function(t,e,r){if(!yd(e))throw Error($(200));return Bd(null,t,e,!1,r)};_r.unmountComponentAtNode=function(t){if(!yd(t))throw Error($(40));return t._reactRootContainer?(Es(function(){Bd(null,null,t,!1,function(){t._reactRootContainer=null,t[Mn]=null})}),!0):!1};_r.unstable_batchedUpdates=Qp;_r.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yd(r))throw Error($(200));if(t==null||t._reactInternals===void 0)throw Error($(38));return Bd(t,e,r,!1,n)};_r.version="18.3.1-next-f1338f8080-20240426";function sb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sb)}catch(t){console.error(t)}}sb(),sC.exports=_r;var CT=sC.exports,ib,aB=CT;ib=aB.createRoot,aB.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sa.apply(this,arguments)}var pA;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pA||(pA={}));const lB="popstate";function ET(t){t===void 0&&(t={});function e(n,A){let{pathname:s,search:i,hash:a}=n.location;return Lg("",{pathname:s,search:i,hash:a},A.state&&A.state.usr||null,A.state&&A.state.key||"default")}function r(n,A){return typeof A=="string"?A:ab(A)}return _T(e,r,null,t)}function mt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ob(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bT(){return Math.random().toString(36).substr(2,8)}function cB(t,e){return{usr:t.state,key:t.key,idx:e}}function Lg(t,e,r,n){return r===void 0&&(r=null),Sa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$i(e):e,{state:r,key:e&&e.key||n||bT()})}function ab(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function $i(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function _T(t,e,r,n){n===void 0&&(n={});let{window:A=document.defaultView,v5Compat:s=!1}=n,i=A.history,a=pA.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(Sa({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=pA.Pop;let Q=d(),B=Q==null?null:Q-u;u=Q,l&&l({action:a,location:_.location,delta:B})}function f(Q,B){a=pA.Push;let m=Lg(_.location,Q,B);u=d()+1;let y=cB(m,u),C=_.createHref(m);try{i.pushState(y,"",C)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;A.location.assign(C)}s&&l&&l({action:a,location:_.location,delta:1})}function w(Q,B){a=pA.Replace;let m=Lg(_.location,Q,B);u=d();let y=cB(m,u),C=_.createHref(m);i.replaceState(y,"",C),s&&l&&l({action:a,location:_.location,delta:0})}function v(Q){let B=A.location.origin!=="null"?A.location.origin:A.location.href,m=typeof Q=="string"?Q:ab(Q);return m=m.replace(/ $/,"%20"),mt(B,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,B)}let _={get action(){return a},get location(){return t(A,i)},listen(Q){if(l)throw new Error("A history only accepts one active listener");return A.addEventListener(lB,h),l=Q,()=>{A.removeEventListener(lB,h),l=null}},createHref(Q){return e(A,Q)},createURL:v,encodeLocation(Q){let B=v(Q);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:f,replace:w,go(Q){return i.go(Q)}};return _}var uB;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uB||(uB={}));function IT(t,e,r){return r===void 0&&(r="/"),UT(t,e,r)}function UT(t,e,r,n){let A=typeof e=="string"?$i(e):e,s=ub(A.pathname||"/",r);if(s==null)return null;let i=lb(t);FT(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=MT(s);a=DT(i[l],u)}return a}function lb(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let A=(s,i,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:i,route:s};l.relativePath.startsWith("/")&&(mt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=gs([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(mt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),lb(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:jT(u,s.index),routesMeta:d})};return t.forEach((s,i)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))A(s,i);else for(let l of cb(s.path))A(s,i,l)}),e}function cb(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,A=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return A?[s,""]:[s];let i=cb(n.join("/")),a=[];return a.push(...i.map(l=>l===""?s:[s,l].join("/"))),A&&a.push(...i),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function FT(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:PT(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const QT=/^:[\w-]+$/,TT=3,NT=2,ST=1,RT=10,kT=-2,dB=t=>t==="*";function jT(t,e){let r=t.split("/"),n=r.length;return r.some(dB)&&(n+=kT),e&&(n+=NT),r.filter(A=>!dB(A)).reduce((A,s)=>A+(QT.test(s)?TT:s===""?ST:RT),n)}function PT(t,e){return t.length===e.length&&t.slice(0,-1).every((n,A)=>n===e[A])?t[t.length-1]-e[e.length-1]:0}function DT(t,e,r){let{routesMeta:n}=t,A={},s="/",i=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=LT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(A,h.params),i.push({params:A,pathname:gs([s,h.pathname]),pathnameBase:WT(gs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=gs([s,h.pathnameBase]))}return i}function LT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=HT(t.path,t.caseSensitive,t.end),A=e.match(r);if(!A)return null;let s=A[0],i=s.replace(/(.)\/+$/,"$1"),a=A.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:w}=d;if(f==="*"){let _=a[h]||"";i=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const v=a[h];return w&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:i,pattern:t}}function HT(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ob(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],A="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),A+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?A+="\\/*$":t!==""&&t!=="/"&&(A+="(?:(?=\\/|$))"),[new RegExp(A,e?void 0:"i"),n]}function MT(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ob(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ub(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function OT(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:A=""}=typeof t=="string"?$i(t):t;return{pathname:r?r.startsWith("/")?r:VT(r,e):e,search:$T(n),hash:qT(A)}}function VT(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(A=>{A===".."?r.length>1&&r.pop():A!=="."&&r.push(A)}),r.length>1?r.join("/"):"/"}function sf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function KT(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function GT(t,e){let r=KT(t);return e?r.map((n,A)=>A===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zT(t,e,r,n){n===void 0&&(n=!1);let A;typeof t=="string"?A=$i(t):(A=Sa({},t),mt(!A.pathname||!A.pathname.includes("?"),sf("?","pathname","search",A)),mt(!A.pathname||!A.pathname.includes("#"),sf("#","pathname","hash",A)),mt(!A.search||!A.search.includes("#"),sf("#","search","hash",A)));let s=t===""||A.pathname==="",i=s?"/":A.pathname,a;if(i==null)a=r;else{let h=e.length-1;if(!n&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;A.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=OT(A,a),u=i&&i!=="/"&&i.endsWith("/"),d=(s||i===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const gs=t=>t.join("/").replace(/\/\/+/g,"/"),WT=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$T=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qT=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function JT(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const db=["post","put","patch","delete"];new Set(db);const XT=["get",...db];new Set(XT);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ra(){return Ra=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ra.apply(this,arguments)}const Dp=k.createContext(null),YT=k.createContext(null),vd=k.createContext(null),xd=k.createContext(null),Rs=k.createContext({outlet:null,matches:[],isDataRoute:!1}),hb=k.createContext(null);function Cd(){return k.useContext(xd)!=null}function Lp(){return Cd()||mt(!1),k.useContext(xd).location}function fb(t){k.useContext(vd).static||k.useLayoutEffect(t)}function rn(){let{isDataRoute:t}=k.useContext(Rs);return t?u2():ZT()}function ZT(){Cd()||mt(!1);let t=k.useContext(Dp),{basename:e,future:r,navigator:n}=k.useContext(vd),{matches:A}=k.useContext(Rs),{pathname:s}=Lp(),i=JSON.stringify(GT(A,r.v7_relativeSplatPath)),a=k.useRef(!1);return fb(()=>{a.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=zT(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:gs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,i,s,t])}function Ed(){let{matches:t}=k.useContext(Rs),e=t[t.length-1];return e?e.params:{}}function e2(t,e){return t2(t,e)}function t2(t,e,r,n){Cd()||mt(!1);let{navigator:A}=k.useContext(vd),{matches:s}=k.useContext(Rs),i=s[s.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=Lp(),d;if(e){var h;let Q=typeof e=="string"?$i(e):e;l==="/"||(h=Q.pathname)!=null&&h.startsWith(l)||mt(!1),d=Q}else d=u;let f=d.pathname||"/",w=f;if(l!=="/"){let Q=l.replace(/^\//,"").split("/");w="/"+f.replace(/^\//,"").split("/").slice(Q.length).join("/")}let v=IT(t,{pathname:w}),_=i2(v&&v.map(Q=>Object.assign({},Q,{params:Object.assign({},a,Q.params),pathname:gs([l,A.encodeLocation?A.encodeLocation(Q.pathname).pathname:Q.pathname]),pathnameBase:Q.pathnameBase==="/"?l:gs([l,A.encodeLocation?A.encodeLocation(Q.pathnameBase).pathname:Q.pathnameBase])})),s,r,n);return e&&_?k.createElement(xd.Provider,{value:{location:Ra({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:pA.Pop}},_):_}function r2(){let t=c2(),e=JT(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,A={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:A},r):null,null)}const n2=k.createElement(r2,null);class A2 extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(Rs.Provider,{value:this.props.routeContext},k.createElement(hb.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function s2(t){let{routeContext:e,match:r,children:n}=t,A=k.useContext(Dp);return A&&A.static&&A.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(A.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Rs.Provider,{value:e},n)}function i2(t,e,r,n){var A;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,a=(A=r)==null?void 0:A.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||mt(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:w}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!w||w[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,f)=>{let w,v=!1,_=null,Q=null;r&&(w=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||n2,l&&(u<0&&f===0?(d2("route-fallback"),v=!0,Q=null):u===f&&(v=!0,Q=h.route.hydrateFallbackElement||null)));let B=e.concat(i.slice(0,f+1)),m=()=>{let y;return w?y=_:v?y=Q:h.route.Component?y=k.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=d,k.createElement(s2,{match:h,routeContext:{outlet:d,matches:B,isDataRoute:r!=null},children:y})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(A2,{location:r.location,revalidation:r.revalidation,component:_,error:w,children:m(),routeContext:{outlet:null,matches:B,isDataRoute:!0}}):m()},null)}var gb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gb||{}),mb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mb||{});function o2(t){let e=k.useContext(Dp);return e||mt(!1),e}function a2(t){let e=k.useContext(YT);return e||mt(!1),e}function l2(t){let e=k.useContext(Rs);return e||mt(!1),e}function pb(t){let e=l2(),r=e.matches[e.matches.length-1];return r.route.id||mt(!1),r.route.id}function c2(){var t;let e=k.useContext(hb),r=a2(),n=pb();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function u2(){let{router:t}=o2(gb.UseNavigateStable),e=pb(mb.UseNavigateStable),r=k.useRef(!1);return fb(()=>{r.current=!0}),k.useCallback(function(A,s){s===void 0&&(s={}),r.current&&(typeof A=="number"?t.navigate(A):t.navigate(A,Ra({fromRouteId:e},s)))},[t,e])}const hB={};function d2(t,e,r){hB[t]||(hB[t]=!0)}function h2(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function on(t){mt(!1)}function f2(t){let{basename:e="/",children:r=null,location:n,navigationType:A=pA.Pop,navigator:s,static:i=!1,future:a}=t;Cd()&&mt(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:i,future:Ra({v7_relativeSplatPath:!1},a)}),[l,a,s,i]);typeof n=="string"&&(n=$i(n));let{pathname:d="/",search:h="",hash:f="",state:w=null,key:v="default"}=n,_=k.useMemo(()=>{let Q=ub(d,l);return Q==null?null:{location:{pathname:Q,search:h,hash:f,state:w,key:v},navigationType:A}},[l,d,h,f,w,v,A]);return _==null?null:k.createElement(vd.Provider,{value:u},k.createElement(xd.Provider,{children:r,value:_}))}function g2(t){let{children:e,location:r}=t;return e2(Hg(e),r)}new Promise(()=>{});function Hg(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,A)=>{if(!k.isValidElement(n))return;let s=[...e,A];if(n.type===k.Fragment){r.push.apply(r,Hg(n.props.children,s));return}n.type!==on&&mt(!1),!n.props.index||!n.props.children||mt(!1);let i={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Hg(n.props.children,s)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const m2="6";try{window.__reactRouterVersion=m2}catch{}const p2="startTransition",fB=dF[p2];function w2(t){let{basename:e,children:r,future:n,window:A}=t,s=k.useRef();s.current==null&&(s.current=ET({window:A,v5Compat:!0}));let i=s.current,[a,l]=k.useState({action:i.action,location:i.location}),{v7_startTransition:u}=n||{},d=k.useCallback(h=>{u&&fB?fB(()=>l(h)):l(h)},[l,u]);return k.useLayoutEffect(()=>i.listen(d),[i,d]),k.useEffect(()=>h2(n),[n]),k.createElement(f2,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:i,future:n})}var gB;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gB||(gB={}));var mB;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mB||(mB={}));var pB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let A=t.charCodeAt(n);A<128?e[r++]=A:A<2048?(e[r++]=A>>6|192,e[r++]=A&63|128):(A&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(A=65536+((A&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=A>>18|240,e[r++]=A>>12&63|128,e[r++]=A>>6&63|128,e[r++]=A&63|128):(e[r++]=A>>12|224,e[r++]=A>>6&63|128,e[r++]=A&63|128)}return e},y2=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const A=t[r++];if(A<128)e[n++]=String.fromCharCode(A);else if(A>191&&A<224){const s=t[r++];e[n++]=String.fromCharCode((A&31)<<6|s&63)}else if(A>239&&A<365){const s=t[r++],i=t[r++],a=t[r++],l=((A&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],i=t[r++];e[n++]=String.fromCharCode((A&15)<<12|(s&63)<<6|i&63)}}return e.join("")},yb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let A=0;A<t.length;A+=3){const s=t[A],i=A+1<t.length,a=i?t[A+1]:0,l=A+2<t.length,u=l?t[A+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,w=u&63;l||(w=64,i||(f=64)),n.push(r[d],r[h],r[f],r[w])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):y2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let A=0;A<t.length;){const s=r[t.charAt(A++)],a=A<t.length?r[t.charAt(A)]:0;++A;const u=A<t.length?r[t.charAt(A)]:64;++A;const h=A<t.length?r[t.charAt(A)]:64;if(++A,s==null||a==null||u==null||h==null)throw new B2;const f=s<<2|a>>4;if(n.push(f),u!==64){const w=a<<4&240|u>>2;if(n.push(w),h!==64){const v=u<<6&192|h;n.push(v)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v2=function(t){const e=wb(t);return yb.encodeByteArray(e,!0)},Uu=function(t){return v2(t).replace(/\./g,"")},Bb=function(t){try{return yb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=()=>x2().__FIREBASE_DEFAULTS__,E2=()=>{if(typeof process>"u"||typeof pB>"u")return;const t=pB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},b2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Bb(t[1]);return e&&JSON.parse(e)},bd=()=>{try{return C2()||E2()||b2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vb=t=>{var e,r;return(r=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},xb=t=>{const e=vb(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Cb=()=>{var t;return(t=bd())===null||t===void 0?void 0:t.config},Eb=t=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",A=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const i=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:A,exp:A+3600,auth_time:A,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uu(JSON.stringify(r)),Uu(JSON.stringify(i)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function I2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function U2(){var t;const e=(t=bd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Q2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N2(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function S2(){return!U2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function R2(){try{return typeof indexedDB=="object"}catch{return!1}}function k2(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",A=self.indexedDB.open(n);A.onsuccess=()=>{A.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},A.onupgradeneeded=()=>{r=!1},A.onerror=()=>{var s;e(((s=A.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2="FirebaseError";class Bn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=j2,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,rl.prototype.create)}}class rl{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},A=`${this.service}/${e}`,s=this.errors[e],i=s?P2(s,n):"Error",a=`${this.serviceName}: ${i} (${A}).`;return new Bn(A,a,n)}}function P2(t,e){return t.replace(D2,(r,n)=>{const A=e[n];return A!=null?String(A):`<${n}?>`})}const D2=/\{\$([^}]+)}/g;function L2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const A of r){if(!n.includes(A))return!1;const s=t[A],i=e[A];if(wB(s)&&wB(i)){if(!Fu(s,i))return!1}else if(s!==i)return!1}for(const A of n)if(!r.includes(A))return!1;return!0}function wB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(A=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(A))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function ko(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[A,s]=n.split("=");e[decodeURIComponent(A)]=decodeURIComponent(s)}}),e}function jo(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function H2(t,e){const r=new M2(t,e);return r.subscribe.bind(r)}class M2{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let A;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?A=e:A={next:e,error:r,complete:n},A.next===void 0&&(A.next=of),A.error===void 0&&(A.error=of),A.complete===void 0&&(A.complete=of);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?A.error(this.finalError):A.complete()}catch{}}),this.observers.push(A),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O2(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class DA{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new _2;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const A=this.getOrInitializeService({instanceIdentifier:r});A&&n.resolve(A)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),A=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(A)return null;throw s}else{if(A)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G2(e))try{this.getOrInitializeService({instanceIdentifier:ss})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const A=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:A});n.resolve(s)}catch{}}}}clearInstance(e=ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ss){return this.instances.has(e)}getOptions(e=ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const A=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);n===a&&i.resolve(A)}return A}onInit(e,r){var n;const A=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(A))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(A,s);const i=this.instances.get(A);return i&&e(i,A),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const A of n)try{A(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:K2(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ss){return this.component?this.component.multipleInstances?e:ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function K2(t){return t===ss?void 0:t}function G2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new V2(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const W2={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},$2=_e.INFO,q2={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},J2=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),A=q2[e];if(A)console[A](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Hp=class{constructor(e){this.name=e,this._logLevel=$2,this._logHandler=J2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}};const X2=(t,e)=>e.some(r=>t instanceof r);let yB,BB;function Y2(){return yB||(yB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z2(){return BB||(BB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _b=new WeakMap,Mg=new WeakMap,Ib=new WeakMap,af=new WeakMap,Mp=new WeakMap;function eN(t){const e=new Promise((r,n)=>{const A=()=>{t.removeEventListener("success",s),t.removeEventListener("error",i)},s=()=>{r(TA(t.result)),A()},i=()=>{n(t.error),A()};t.addEventListener("success",s),t.addEventListener("error",i)});return e.then(r=>{r instanceof IDBCursor&&_b.set(r,t)}).catch(()=>{}),Mp.set(e,t),e}function tN(t){if(Mg.has(t))return;const e=new Promise((r,n)=>{const A=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",i),t.removeEventListener("abort",i)},s=()=>{r(),A()},i=()=>{n(t.error||new DOMException("AbortError","AbortError")),A()};t.addEventListener("complete",s),t.addEventListener("error",i),t.addEventListener("abort",i)});Mg.set(t,e)}let Og={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Mg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Ib.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return TA(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rN(t){Og=t(Og)}function nN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(lf(this),e,...r);return Ib.set(n,e.sort?e.sort():[e]),TA(n)}:Z2().includes(t)?function(...e){return t.apply(lf(this),e),TA(_b.get(this))}:function(...e){return TA(t.apply(lf(this),e))}}function AN(t){return typeof t=="function"?nN(t):(t instanceof IDBTransaction&&tN(t),X2(t,Y2())?new Proxy(t,Og):t)}function TA(t){if(t instanceof IDBRequest)return eN(t);if(af.has(t))return af.get(t);const e=AN(t);return e!==t&&(af.set(t,e),Mp.set(e,t)),e}const lf=t=>Mp.get(t);function sN(t,e,{blocked:r,upgrade:n,blocking:A,terminated:s}={}){const i=indexedDB.open(t,e),a=TA(i);return n&&i.addEventListener("upgradeneeded",l=>{n(TA(i.result),l.oldVersion,l.newVersion,TA(i.transaction),l)}),r&&i.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),A&&l.addEventListener("versionchange",u=>A(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const iN=["get","getKey","getAll","getAllKeys","count"],oN=["put","add","delete","clear"],cf=new Map;function vB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cf.get(e))return cf.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,A=oN.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(A||iN.includes(r)))return;const s=async function(i,...a){const l=this.transaction(i,A?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[r](...a),A&&l.done]))[0]};return cf.set(e,s),s}rN(t=>({...t,get:(e,r,n)=>vB(e,r)||t.get(e,r,n),has:(e,r)=>!!vB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(lN(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function lN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vg="@firebase/app",xB="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Hp("@firebase/app"),cN="@firebase/app-compat",uN="@firebase/analytics-compat",dN="@firebase/analytics",hN="@firebase/app-check-compat",fN="@firebase/app-check",gN="@firebase/auth",mN="@firebase/auth-compat",pN="@firebase/database",wN="@firebase/data-connect",yN="@firebase/database-compat",BN="@firebase/functions",vN="@firebase/functions-compat",xN="@firebase/installations",CN="@firebase/installations-compat",EN="@firebase/messaging",bN="@firebase/messaging-compat",_N="@firebase/performance",IN="@firebase/performance-compat",UN="@firebase/remote-config",FN="@firebase/remote-config-compat",QN="@firebase/storage",TN="@firebase/storage-compat",NN="@firebase/firestore",SN="@firebase/vertexai-preview",RN="@firebase/firestore-compat",kN="firebase",jN="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kg="[DEFAULT]",PN={[Vg]:"fire-core",[cN]:"fire-core-compat",[dN]:"fire-analytics",[uN]:"fire-analytics-compat",[fN]:"fire-app-check",[hN]:"fire-app-check-compat",[gN]:"fire-auth",[mN]:"fire-auth-compat",[pN]:"fire-rtdb",[wN]:"fire-data-connect",[yN]:"fire-rtdb-compat",[BN]:"fire-fn",[vN]:"fire-fn-compat",[xN]:"fire-iid",[CN]:"fire-iid-compat",[EN]:"fire-fcm",[bN]:"fire-fcm-compat",[_N]:"fire-perf",[IN]:"fire-perf-compat",[UN]:"fire-rc",[FN]:"fire-rc-compat",[QN]:"fire-gcs",[TN]:"fire-gcs-compat",[NN]:"fire-fst",[RN]:"fire-fst-compat",[SN]:"fire-vertex","fire-js":"fire-js",[kN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka=new Map,DN=new Map,Gg=new Map;function CB(t,e){try{t.container.addComponent(e)}catch(r){Kn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function bs(t){const e=t.name;if(Gg.has(e))return Kn.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const r of ka.values())CB(r,t);for(const r of DN.values())CB(r,t);return!0}function _d(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function $r(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},NA=new rl("app","Firebase",LN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new DA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw NA.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=jN;function Ub(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Kg,automaticDataCollectionEnabled:!1},e),A=n.name;if(typeof A!="string"||!A)throw NA.create("bad-app-name",{appName:String(A)});if(r||(r=Cb()),!r)throw NA.create("no-options");const s=ka.get(A);if(s){if(Fu(r,s.options)&&Fu(n,s.config))return s;throw NA.create("duplicate-app",{appName:A})}const i=new z2(A);for(const l of Gg.values())i.addComponent(l);const a=new HN(r,n,i);return ka.set(A,a),a}function Id(t=Kg){const e=ka.get(t);if(!e&&t===Kg&&Cb())return Ub();if(!e)throw NA.create("no-app",{appName:t});return e}function MN(){return Array.from(ka.values())}function fn(t,e,r){var n;let A=(n=PN[t])!==null&&n!==void 0?n:t;r&&(A+=`-${r}`);const s=A.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const a=[`Unable to register library "${A}" with version "${e}":`];s&&a.push(`library name "${A}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Kn.warn(a.join(" "));return}bs(new DA(`${A}-version`,()=>({library:A,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-heartbeat-database",VN=1,ja="firebase-heartbeat-store";let uf=null;function Fb(){return uf||(uf=sN(ON,VN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(r){console.warn(r)}}}}).catch(t=>{throw NA.create("idb-open",{originalErrorMessage:t.message})})),uf}async function KN(t){try{const r=(await Fb()).transaction(ja),n=await r.objectStore(ja).get(Qb(t));return await r.done,n}catch(e){if(e instanceof Bn)Kn.warn(e.message);else{const r=NA.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(r.message)}}}async function EB(t,e){try{const n=(await Fb()).transaction(ja,"readwrite");await n.objectStore(ja).put(e,Qb(t)),await n.done}catch(r){if(r instanceof Bn)Kn.warn(r.message);else{const n=NA.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Kn.warn(n.message)}}}function Qb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,zN=30*24*60*60*1e3;class WN{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new qN(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const A=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=bB();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:A}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=zN}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Kn.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=bB(),{heartbeatsToSend:n,unsentEntries:A}=$N(this._heartbeatsCache.heartbeats),s=Uu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,A.length>0?(this._heartbeatsCache.heartbeats=A,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Kn.warn(r),""}}}function bB(){return new Date().toISOString().substring(0,10)}function $N(t,e=GN){const r=[];let n=t.slice();for(const A of t){const s=r.find(i=>i.agent===A.agent);if(s){if(s.dates.push(A.date),_B(r)>e){s.dates.pop();break}}else if(r.push({agent:A.agent,dates:[A.date]}),_B(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class qN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R2()?k2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await KN(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const A=await this.read();return EB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:A.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const A=await this.read();return EB(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:A.lastSentHeartbeatDate,heartbeats:[...A.heartbeats,...e.heartbeats]})}else return}}function _B(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JN(t){bs(new DA("platform-logger",e=>new aN(e),"PRIVATE")),bs(new DA("heartbeat",e=>new WN(e),"PRIVATE")),fn(Vg,xB,t),fn(Vg,xB,"esm2017"),fn("fire-js","")}JN("");function Op(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var A=0,n=Object.getOwnPropertySymbols(t);A<n.length;A++)e.indexOf(n[A])<0&&Object.prototype.propertyIsEnumerable.call(t,n[A])&&(r[n[A]]=t[n[A]]);return r}function Tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XN=Tb,Nb=new rl("auth","Firebase",Tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new Hp("@firebase/auth");function YN(t,...e){Qu.logLevel<=_e.WARN&&Qu.warn(`Auth (${ks}): ${t}`,...e)}function Kc(t,...e){Qu.logLevel<=_e.ERROR&&Qu.error(`Auth (${ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(t,...e){throw Kp(t,...e)}function Yr(t,...e){return Kp(t,...e)}function Vp(t,e,r){const n=Object.assign(Object.assign({},XN()),{[e]:r});return new rl("auth","Firebase",n).create(e,{appName:t.name})}function Pn(t){return Vp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ZN(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&Mr(t,"argument-error"),Vp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kp(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Nb.create(t,...e)}function ge(t,e,...r){if(!t)throw Kp(e,...r)}function Sn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Kc(e),new Error(e)}function Gn(t,e){t||Sn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eS(){return IB()==="http:"||IB()==="https:"}function IB(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eS()||Q2()||"connection"in navigator)?navigator.onLine:!0}function rS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,r){this.shortDelay=e,this.longDelay=r,Gn(r>e,"Short delay should be less than long delay!"),this.isMobile=I2()||T2()}get(){return tS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(t,e){Gn(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Al(3e4,6e4);function WA(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function $A(t,e,r,n,A={}){return Rb(t,A,async()=>{let s={},i={};n&&(e==="GET"?i=n:s={body:JSON.stringify(n)});const a=nl(Object.assign({key:t.config.apiKey},i)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return F2()||(u.referrerPolicy="no-referrer"),Sb.fetch()(kb(t,t.config.apiHost,r,a),u)})}async function Rb(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},nS),e);try{const A=new iS(t),s=await Promise.race([r(),A.promise]);A.clearNetworkTimeout();const i=await s.json();if("needConfirmation"in i)throw ec(t,"account-exists-with-different-credential",i);if(s.ok&&!("errorMessage"in i))return i;{const a=s.ok?i.errorMessage:i.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ec(t,"credential-already-in-use",i);if(l==="EMAIL_EXISTS")throw ec(t,"email-already-in-use",i);if(l==="USER_DISABLED")throw ec(t,"user-disabled",i);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Vp(t,d,u);Mr(t,d)}}catch(A){if(A instanceof Bn)throw A;Mr(t,"network-request-failed",{message:String(A)})}}async function sl(t,e,r,n,A={}){const s=await $A(t,e,r,n,A);return"mfaPendingCredential"in s&&Mr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function kb(t,e,r,n){const A=`${e}${r}?${n}`;return t.config.emulator?Gp(t.config,A):`${t.config.apiScheme}://${A}`}function sS(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Yr(this.auth,"network-request-failed")),AS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ec(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const A=Yr(t,e,n);return A.customData._tokenResponse=r,A}function UB(t){return t!==void 0&&t.enterprise!==void 0}class oS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return sS(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function aS(t,e){return $A(t,"GET","/v2/recaptchaConfig",WA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lS(t,e){return $A(t,"POST","/v1/accounts:delete",e)}async function jb(t,e){return $A(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function cS(t,e=!1){const r=Je(t),n=await r.getIdToken(e),A=zp(n);ge(A&&A.exp&&A.auth_time&&A.iat,r.auth,"internal-error");const s=typeof A.firebase=="object"?A.firebase:void 0,i=s==null?void 0:s.sign_in_provider;return{claims:A,token:n,authTime:Aa(df(A.auth_time)),issuedAtTime:Aa(df(A.iat)),expirationTime:Aa(df(A.exp)),signInProvider:i||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function df(t){return Number(t)*1e3}function zp(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Kc("JWT malformed, contained fewer than 3 sections"),null;try{const A=Bb(r);return A?JSON.parse(A):(Kc("Failed to decode base64 JWT payload"),null)}catch(A){return Kc("Caught error parsing JWT payload as JSON",A==null?void 0:A.toString()),null}}function FB(t){const e=zp(t);return ge(e,"internal-error"),ge(typeof e.exp<"u","internal-error"),ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Bn&&uS(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function uS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const A=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Aa(this.lastLoginAt),this.creationTime=Aa(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t){var e;const r=t.auth,n=await t.getIdToken(),A=await Pa(t,jb(r,{idToken:n}));ge(A==null?void 0:A.users.length,r,"internal-error");const s=A.users[0];t._notifyReloadListener(s);const i=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Pb(s.providerUserInfo):[],a=fS(t.providerData,i),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Wg(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function hS(t){const e=Je(t);await Tu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function fS(t,e){return[...t.filter(n=>!e.some(A=>A.providerId===n.providerId)),...e]}function Pb(t){return t.map(e=>{var{providerId:r}=e,n=Op(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(t,e){const r=await Rb(t,{},async()=>{const n=nl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:A,apiKey:s}=t.config,i=kb(t,A,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Sb.fetch()(i,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function mS(t,e){return $A(t,"POST","/v2/accounts:revokeToken",WA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ge(e.idToken,"internal-error"),ge(typeof e.idToken<"u","internal-error"),ge(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):FB(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ge(e.length!==0,"internal-error");const r=FB(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ge(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:A,expiresIn:s}=await gS(e,r);this.updateTokensAndExpiration(n,A,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:A,expirationTime:s}=r,i=new Bi;return n&&(ge(typeof n=="string","internal-error",{appName:e}),i.refreshToken=n),A&&(ge(typeof A=="string","internal-error",{appName:e}),i.accessToken=A),s&&(ge(typeof s=="number","internal-error",{appName:e}),i.expirationTime=s),i}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Bi,this.toJSON())}_performRefresh(){return Sn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(t,e){ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor(e){var{uid:r,auth:n,stsTokenManager:A}=e,s=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Wg(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const r=await Pa(this,this.stsTokenManager.getToken(this.auth,e));return ge(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return cS(this,e)}reload(){return hS(this)}_assign(e){this!==e&&(ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new Rn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Tu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($r(this.auth.app))return Promise.reject(Pn(this.auth));const e=await this.getIdToken();return await Pa(this,lS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,A,s,i,a,l,u,d;const h=(n=r.displayName)!==null&&n!==void 0?n:void 0,f=(A=r.email)!==null&&A!==void 0?A:void 0,w=(s=r.phoneNumber)!==null&&s!==void 0?s:void 0,v=(i=r.photoURL)!==null&&i!==void 0?i:void 0,_=(a=r.tenantId)!==null&&a!==void 0?a:void 0,Q=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,B=(u=r.createdAt)!==null&&u!==void 0?u:void 0,m=(d=r.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:C,isAnonymous:F,providerData:T,stsTokenManager:E}=r;ge(y&&E,e,"internal-error");const x=Bi.fromJSON(this.name,E);ge(typeof y=="string",e,"internal-error"),nA(h,e.name),nA(f,e.name),ge(typeof C=="boolean",e,"internal-error"),ge(typeof F=="boolean",e,"internal-error"),nA(w,e.name),nA(v,e.name),nA(_,e.name),nA(Q,e.name),nA(B,e.name),nA(m,e.name);const I=new Rn({uid:y,auth:e,email:f,emailVerified:C,displayName:h,isAnonymous:F,photoURL:v,phoneNumber:w,tenantId:_,stsTokenManager:x,createdAt:B,lastLoginAt:m});return T&&Array.isArray(T)&&(I.providerData=T.map(b=>Object.assign({},b))),Q&&(I._redirectEventId=Q),I}static async _fromIdTokenResponse(e,r,n=!1){const A=new Bi;A.updateFromServerResponse(r);const s=new Rn({uid:r.localId,auth:e,stsTokenManager:A,isAnonymous:n});return await Tu(s),s}static async _fromGetAccountInfoResponse(e,r,n){const A=r.users[0];ge(A.localId!==void 0,"internal-error");const s=A.providerUserInfo!==void 0?Pb(A.providerUserInfo):[],i=!(A.email&&A.passwordHash)&&!(s!=null&&s.length),a=new Bi;a.updateFromIdToken(n);const l=new Rn({uid:A.localId,auth:e,stsTokenManager:a,isAnonymous:i}),u={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:s,metadata:new Wg(A.createdAt,A.lastLoginAt),isAnonymous:!(A.email&&A.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=new Map;function kn(t){Gn(t instanceof Function,"Expected a class definition");let e=QB.get(t);return e?(Gn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QB.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Db.type="NONE";const TB=Db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t,e,r){return`firebase:${t}:${e}:${r}`}class vi{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:A,name:s}=this.auth;this.fullUserKey=Gc(this.userKey,A.apiKey,s),this.fullPersistenceKey=Gc("persistence",A.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new vi(kn(TB),e,n);const A=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=A[0]||kn(TB);const i=Gc(n,e.config.apiKey,e.name);let a=null;for(const u of r)try{const d=await u._get(i);if(d){const h=Rn._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}const l=A.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new vi(s,e,n):(s=l[0],a&&await s._set(i,a.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(i)}catch{}})),new vi(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NB(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ob(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Lb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kb(e))return"Blackberry";if(Gb(e))return"Webos";if(Hb(e))return"Safari";if((e.includes("chrome/")||Mb(e))&&!e.includes("edge/"))return"Chrome";if(Vb(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Lb(t=qt()){return/firefox\//i.test(t)}function Hb(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Mb(t=qt()){return/crios\//i.test(t)}function Ob(t=qt()){return/iemobile/i.test(t)}function Vb(t=qt()){return/android/i.test(t)}function Kb(t=qt()){return/blackberry/i.test(t)}function Gb(t=qt()){return/webos/i.test(t)}function Wp(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pS(t=qt()){var e;return Wp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wS(){return N2()&&document.documentMode===10}function zb(t=qt()){return Wp(t)||Vb(t)||Gb(t)||Kb(t)||/windows phone/i.test(t)||Ob(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e=[]){let r;switch(t){case"Browser":r=NB(qt());break;case"Worker":r=`${NB(qt())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${ks}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((i,a)=>{try{const l=e(s);i(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const A=this.queue.length-1;return()=>{this.queue[A]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const A of r)try{A()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BS(t,e={}){return $A(t,"GET","/v2/passwordPolicy",WA(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=6;class xS{constructor(e){var r,n,A,s;const i=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=i.minPasswordLength)!==null&&r!==void 0?r:vS,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(A=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&A!==void 0?A:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,A,s,i,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(A=l.containsLowercaseLetter)!==null&&A!==void 0?A:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsNumericCharacter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,A=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),A&&(r.meetsMaxPasswordLength=e.length<=A)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let A=0;A<e.length;A++)n=e.charAt(A),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,A,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=A)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,r,n,A){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SB(this),this.idTokenSubscription=new SB(this),this.beforeStateQueue=new yS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=kn(r)),this._initializationPromise=this.queue(async()=>{var n,A;if(!this._deleted&&(this.persistenceManager=await vi.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((A=this.currentUser)===null||A===void 0?void 0:A.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await jb(this,{idToken:e}),n=await Rn._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if($r(this.app)){const i=this.app.settings.authIdToken;return i?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(i).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let A=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const i=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=A==null?void 0:A._redirectEventId,l=await this.tryRedirectSignIn(e);(!i||i===a)&&(l!=null&&l.user)&&(A=l.user,s=!0)}if(!A)return this.directlySetCurrentUser(null);if(!A._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(A)}catch(i){A=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(i))}return A?this.reloadAndSetCurrentUserOrClear(A):this.directlySetCurrentUser(null)}return ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===A._redirectEventId?this.directlySetCurrentUser(A):this.reloadAndSetCurrentUserOrClear(A)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Tu(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($r(this.app))return Promise.reject(Pn(this));const r=e?Je(e):null;return r&&ge(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return $r(this.app)?Promise.reject(Pn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $r(this.app)?Promise.reject(Pn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BS(this),r=new xS(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new rl("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await mS(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&kn(e)||this._popupRedirectResolver;ge(r,this,"argument-error"),this.redirectPersistenceManager=await vi.create(this,[kn(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,A){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let i=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ge(a,this,"internal-error"),a.then(()=>{i||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,A);return()=>{i=!0,l()}}else{const l=e.addObserver(r);return()=>{i=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const A=await this._getAppCheckToken();return A&&(r["X-Firebase-AppCheck"]=A),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&YN(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function qA(t){return Je(t)}class SB{constructor(e){this.auth=e,this.observer=null,this.addObserver=H2(r=>this.observer=r)}get next(){return ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ud={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ES(t){Ud=t}function $b(t){return Ud.loadJS(t)}function bS(){return Ud.recaptchaEnterpriseScript}function _S(){return Ud.gapiScript}function IS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const US="recaptcha-enterprise",FS="NO_RECAPTCHA";class QS{constructor(e){this.type=US,this.auth=qA(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(i,a)=>{aS(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new oS(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,i(u.siteKey)}}).catch(l=>{a(l)})})}function A(s,i,a){const l=window.grecaptcha;UB(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{i(u)}).catch(()=>{i(FS)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,i)=>{n(this.auth).then(a=>{if(!r&&UB(window.grecaptcha))A(a,s,i);else{if(typeof window>"u"){i(new Error("RecaptchaVerifier is only supported in browser"));return}let l=bS();l.length!==0&&(l+=a),$b(l).then(()=>{A(a,s,i)}).catch(u=>{i(u)})}}).catch(a=>{i(a)})})}}async function RB(t,e,r,n=!1){const A=new QS(t);let s;try{s=await A.verify(r)}catch{s=await A.verify(r,!0)}const i=Object.assign({},e);return n?Object.assign(i,{captchaResp:s}):Object.assign(i,{captchaResponse:s}),Object.assign(i,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(i,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),i}async function $g(t,e,r,n){var A;if(!((A=t._getRecaptchaConfig())===null||A===void 0)&&A.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await RB(t,e,r,r==="getOobCode");return n(t,s)}else return n(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await RB(t,e,r,r==="getOobCode");return n(t,i)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(t,e){const r=_d(t,"auth");if(r.isInitialized()){const A=r.getImmediate(),s=r.getOptions();if(Fu(s,e??{}))return A;Mr(A,"already-initialized")}return r.initialize({options:e})}function NS(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(kn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function SS(t,e,r){const n=qA(t);ge(n._canInitEmulator,n,"emulator-config-failed"),ge(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const A=!1,s=qb(e),{host:i,port:a}=RS(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${s}//${i}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:i,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:A})}),kS()}function qb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RS(t){const e=qb(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(n);if(A){const s=A[1];return{host:s,port:kB(n.substr(s.length+1))}}else{const[s,i]=n.split(":");return{host:s,port:kB(i)}}}function kB(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function kS(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Sn("not implemented")}_getIdTokenResponse(e){return Sn("not implemented")}_linkToIdToken(e,r){return Sn("not implemented")}_getReauthenticationResolver(e){return Sn("not implemented")}}async function jS(t,e){return $A(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PS(t,e){return sl(t,"POST","/v1/accounts:signInWithPassword",WA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(t,e){return sl(t,"POST","/v1/accounts:signInWithEmailLink",WA(t,e))}async function LS(t,e){return sl(t,"POST","/v1/accounts:signInWithEmailLink",WA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends $p{constructor(e,r,n,A=null){super("password",n),this._email=e,this._password=r,this._tenantId=A}static _fromEmailAndPassword(e,r){return new Da(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Da(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,r,"signInWithPassword",PS);case"emailLink":return DS(e,{email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $g(e,n,"signUpPassword",jS);case"emailLink":return LS(e,{idToken:r,email:this._email,oobCode:this._password});default:Mr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xi(t,e){return sl(t,"POST","/v1/accounts:signInWithIdp",WA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS="http://localhost";class _s extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Mr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:A}=r,s=Op(r,["providerId","signInMethod"]);if(!n||!A)return null;const i=new _s(n,A);return i.idToken=s.idToken||void 0,i.accessToken=s.accessToken||void 0,i.secret=s.secret,i.nonce=s.nonce,i.pendingToken=s.pendingToken||null,i}_getIdTokenResponse(e){const r=this.buildRequest();return xi(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,xi(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,xi(e,r)}buildRequest(){const e={requestUri:HS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=nl(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OS(t){const e=ko(jo(t)).link,r=e?ko(jo(e)).deep_link_id:null,n=ko(jo(t)).deep_link_id;return(n?ko(jo(n)).link:null)||n||r||e||t}class qp{constructor(e){var r,n,A,s,i,a;const l=ko(jo(e)),u=(r=l.apiKey)!==null&&r!==void 0?r:null,d=(n=l.oobCode)!==null&&n!==void 0?n:null,h=MS((A=l.mode)!==null&&A!==void 0?A:null);ge(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(i=l.languageCode)!==null&&i!==void 0?i:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=OS(e);try{return new qp(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(){this.providerId=qi.PROVIDER_ID}static credential(e,r){return Da._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=qp.parseLink(r);return ge(n,"argument-error"),Da._fromEmailAndCode(e,n.code,n.tenantId)}}qi.PROVIDER_ID="password";qi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il extends Jp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends il{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:uA.PROVIDER_ID,signInMethod:uA.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return uA.credentialFromTaggedObject(e)}static credentialFromError(e){return uA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return uA.credential(e.oauthAccessToken)}catch{return null}}}uA.FACEBOOK_SIGN_IN_METHOD="facebook.com";uA.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends il{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return _s._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Qn.credential(r,n)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends il{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:dA.PROVIDER_ID,signInMethod:dA.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dA.credentialFromTaggedObject(e)}static credentialFromError(e){return dA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dA.credential(e.oauthAccessToken)}catch{return null}}}dA.GITHUB_SIGN_IN_METHOD="github.com";dA.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA extends il{constructor(){super("twitter.com")}static credential(e,r){return _s._fromParams({providerId:hA.PROVIDER_ID,signInMethod:hA.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return hA.credentialFromTaggedObject(e)}static credentialFromError(e){return hA.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return hA.credential(r,n)}catch{return null}}}hA.TWITTER_SIGN_IN_METHOD="twitter.com";hA.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VS(t,e){return sl(t,"POST","/v1/accounts:signUp",WA(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,A=!1){const s=await Rn._fromIdTokenResponse(e,n,A),i=jB(n);return new Is({user:s,providerId:i,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const A=jB(n);return new Is({user:e,providerId:A,_tokenResponse:n,operationType:r})}}function jB(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends Bn{constructor(e,r,n,A){var s;super(r.code,r.message),this.operationType=n,this.user=A,Object.setPrototypeOf(this,Nu.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,A){return new Nu(e,r,n,A)}}function Jb(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Nu._fromErrorAndOperation(t,s,e,n):s})}async function KS(t,e,r=!1){const n=await Pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Is._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(t,e,r=!1){const{auth:n}=t;if($r(n.app))return Promise.reject(Pn(n));const A="reauthenticate";try{const s=await Pa(t,Jb(n,A,e,t),r);ge(s.idToken,n,"internal-error");const i=zp(s.idToken);ge(i,n,"internal-error");const{sub:a}=i;return ge(t.uid===a,n,"user-mismatch"),Is._forOperation(t,A,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Mr(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xb(t,e,r=!1){if($r(t.app))return Promise.reject(Pn(t));const n="signIn",A=await Jb(t,n,e),s=await Is._fromIdTokenResponse(t,n,A);return r||await t._updateCurrentUser(s.user),s}async function zS(t,e){return Xb(qA(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yb(t){const e=qA(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WS(t,e,r){if($r(t.app))return Promise.reject(Pn(t));const n=qA(t),i=await $g(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",VS).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Yb(t),l}),a=await Is._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(a.user),a}function qg(t,e,r){return $r(t.app)?Promise.reject(Pn(t)):zS(Je(t),qi.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Yb(t),n})}function $S(t,e,r,n){return Je(t).onIdTokenChanged(e,r,n)}function qS(t,e,r){return Je(t).beforeAuthStateChanged(e,r)}function JS(t,e,r,n){return Je(t).onAuthStateChanged(e,r,n)}function XS(t){return Je(t).signOut()}const Su="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Su,"1"),this.storage.removeItem(Su),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=1e3,ZS=10;class e_ extends Zb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),A=this.localCache[r];n!==A&&e(r,A,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((i,a,l)=>{this.notifyListeners(i,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const A=()=>{const i=this.storage.getItem(n);!r&&this.localCache[n]===i||this.notifyListeners(n,i)},s=this.storage.getItem(n);wS()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(A,ZS):A()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},YS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}e_.type="LOCAL";const e4=e_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_ extends Zb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}t_.type="SESSION";const r_=t_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(A=>A.isListeningto(e));if(r)return r;const n=new Fd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:A,data:s}=r.data,i=this.handlersMap[A];if(!(i!=null&&i.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:A});const a=Array.from(i).map(async u=>u(r.origin,s)),l=await t4(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:A,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const A=typeof MessageChannel<"u"?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let s,i;return new Promise((a,l)=>{const u=Xp("",20);A.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);i={messageChannel:A,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(i),A.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[A.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(){return window}function n4(t){gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n_(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}async function A4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function i4(){return n_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="firebaseLocalStorageDb",o4=1,Ru="firebaseLocalStorage",s_="fbase_key";class ol{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Qd(t,e){return t.transaction([Ru],e?"readwrite":"readonly").objectStore(Ru)}function a4(){const t=indexedDB.deleteDatabase(A_);return new ol(t).toPromise()}function Jg(){const t=indexedDB.open(A_,o4);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Ru,{keyPath:s_})}catch(A){r(A)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Ru)?e(n):(n.close(),await a4(),e(await Jg()))})})}async function PB(t,e,r){const n=Qd(t,!0).put({[s_]:e,value:r});return new ol(n).toPromise()}async function l4(t,e){const r=Qd(t,!1).get(e),n=await new ol(r).toPromise();return n===void 0?null:n.value}function DB(t,e){const r=Qd(t,!0).delete(e);return new ol(r).toPromise()}const c4=800,u4=3;class i_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jg(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>u4)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fd._getInstance(i4()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await A4(),!this.activeServiceWorker)return;this.sender=new r4(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jg();return await PB(e,Su,"1"),await DB(e,Su),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>PB(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>l4(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>DB(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(A=>{const s=Qd(A,!1).getAll();return new ol(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:A,value:s}of e)n.add(A),JSON.stringify(this.localCache[A])!==JSON.stringify(s)&&(this.notifyListeners(A,s),r.push(A));for(const A of Object.keys(this.localCache))this.localCache[A]&&!n.has(A)&&(this.notifyListeners(A,null),r.push(A));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const A of Array.from(n))A(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),c4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i_.type="LOCAL";const d4=i_;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t,e){return e?kn(e):(ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return xi(e,this._buildIdpRequest())}_linkToIdToken(e,r){return xi(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return xi(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function h4(t){return Xb(t.auth,new Yp(t),t.bypassAuthState)}function f4(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),GS(r,new Yp(t),t.bypassAuthState)}async function g4(t){const{auth:e,user:r}=t;return ge(r,e,"internal-error"),KS(r,new Yp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,r,n,A,s=!1){this.auth=e,this.resolver=n,this.user=A,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:A,tenantId:s,error:i,type:a}=e;if(i){this.reject(i);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:A||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h4;case"linkViaPopup":case"linkViaRedirect":return g4;case"reauthViaPopup":case"reauthViaRedirect":return f4;default:Mr(this.auth,"internal-error")}}resolve(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new Al(2e3,1e4);async function p4(t,e,r){if($r(t.app))return Promise.reject(Yr(t,"operation-not-supported-in-this-environment"));const n=qA(t);ZN(t,e,Jp);const A=o_(n,r);return new cs(n,"signInViaPopup",e,A).executeNotNull()}class cs extends a_{constructor(e,r,n,A,s){super(e,r,A,s),this.provider=n,this.authWindow=null,this.pollId=null,cs.currentPopupAction&&cs.currentPopupAction.cancel(),cs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ge(e,this.auth,"internal-error"),e}async onExecution(){Gn(this.filter.length===1,"Popup operations only handle one event");const e=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,m4.get())};e()}}cs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w4="pendingRedirect",zc=new Map;class y4 extends a_{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=zc.get(this.auth._key());if(!e){try{const n=await B4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}zc.set(this.auth._key(),e)}return this.bypassAuthState||zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function B4(t,e){const r=C4(e),n=x4(t);if(!await n._isAvailable())return!1;const A=await n._get(r)==="true";return await n._remove(r),A}function v4(t,e){zc.set(t._key(),e)}function x4(t){return kn(t._redirectPersistence)}function C4(t){return Gc(w4,t.config.apiKey,t.name)}async function E4(t,e,r=!1){if($r(t.app))return Promise.reject(Pn(t));const n=qA(t),A=o_(n,e),i=await new y4(n,A,r).execute();return i&&!r&&(delete i.user._redirectEventId,await n._persistUserIfCurrent(i.user),await n._setRedirectUser(null,e)),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4=10*60*1e3;class _4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I4(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!l_(e)){const A=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Yr(this.auth,A))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=b4&&this.cachedEventUids.clear(),this.cachedEventUids.has(LB(e))}saveEventToCache(e){this.cachedEventUids.add(LB(e)),this.lastProcessedEventTime=Date.now()}}function LB(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function l_({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return l_(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U4(t,e={}){return $A(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q4=/^https?/;async function T4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U4(t);for(const r of e)try{if(N4(r))return}catch{}Mr(t,"unauthorized-domain")}function N4(t){const e=zg(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return i.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&i.hostname===n}if(!Q4.test(r))return!1;if(F4.test(t))return n===t;const A=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=new Al(3e4,6e4);function HB(){const t=gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function R4(t){return new Promise((e,r)=>{var n,A,s;function i(){HB(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{HB(),r(Yr(t,"network-request-failed"))},timeout:S4.get()})}if(!((A=(n=gn().gapi)===null||n===void 0?void 0:n.iframes)===null||A===void 0)&&A.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)i();else{const a=IS("iframefcb");return gn()[a]=()=>{gapi.load?i():r(Yr(t,"network-request-failed"))},$b(`${_S()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw Wc=null,e})}let Wc=null;function k4(t){return Wc=Wc||R4(t),Wc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4=new Al(5e3,15e3),P4="__/auth/iframe",D4="emulator/auth/iframe",L4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M4(t){const e=t.config;ge(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Gp(e,D4):`https://${t.config.authDomain}/${P4}`,n={apiKey:e.apiKey,appName:t.name,v:ks},A=H4.get(t.config.apiHost);A&&(n.eid=A);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${nl(n).slice(1)}`}async function O4(t){const e=await k4(t),r=gn().gapi;return ge(r,t,"internal-error"),e.open({where:document.body,url:M4(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:L4,dontclear:!0},n=>new Promise(async(A,s)=>{await n.restyle({setHideOnLeave:!1});const i=Yr(t,"network-request-failed"),a=gn().setTimeout(()=>{s(i)},j4.get());function l(){gn().clearTimeout(a),A(n)}n.ping(l).then(l,()=>{s(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},K4=500,G4=600,z4="_blank",W4="http://localhost";class MB{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $4(t,e,r,n=K4,A=G4){const s=Math.max((window.screen.availHeight-A)/2,0).toString(),i=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},V4),{width:n.toString(),height:A.toString(),top:s,left:i}),u=qt().toLowerCase();r&&(a=Mb(u)?z4:r),Lb(u)&&(e=e||W4,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[w,v])=>`${f}${w}=${v},`,"");if(pS(u)&&a!=="_self")return q4(e||"",a),new MB(null);const h=window.open(e||"",a,d);ge(h,t,"popup-blocked");try{h.focus()}catch{}return new MB(h)}function q4(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4="__/auth/handler",X4="emulator/auth/handler",Y4=encodeURIComponent("fac");async function OB(t,e,r,n,A,s){ge(t.config.authDomain,t,"auth-domain-config-required"),ge(t.config.apiKey,t,"invalid-api-key");const i={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:ks,eventId:A};if(e instanceof Jp){e.setDefaultLanguage(t.languageCode),i.providerId=e.providerId||"",L2(e.getCustomParameters())||(i.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))i[d]=h}if(e instanceof il){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(i.scopes=d.join(","))}t.tenantId&&(i.tid=t.tenantId);const a=i;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),u=l?`#${Y4}=${encodeURIComponent(l)}`:"";return`${Z4(t)}?${nl(a).slice(1)}${u}`}function Z4({config:t}){return t.emulator?Gp(t,X4):`https://${t.authDomain}/${J4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="webStorageSupport";class eR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=r_,this._completeRedirectFn=E4,this._overrideRedirectResult=v4}async _openPopup(e,r,n,A){var s;Gn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const i=await OB(e,r,n,zg(),A);return $4(e,i,Xp())}async _openRedirect(e,r,n,A){await this._originValidation(e);const s=await OB(e,r,n,zg(),A);return n4(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:A,promise:s}=this.eventManagers[r];return A?Promise.resolve(A):(Gn(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await O4(e),n=new _4(e);return r.register("authEvent",A=>(ge(A==null?void 0:A.authEvent,e,"invalid-auth-event"),{status:n.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(hf,{type:hf},A=>{var s;const i=(s=A==null?void 0:A[0])===null||s===void 0?void 0:s[hf];i!==void 0&&r(!!i),Mr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=T4(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return zb()||Hb()||Wp()}}const tR=eR;var VB="@firebase/auth",KB="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AR(t){bs(new DA("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),A=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:i,authDomain:a}=n.options;ge(i&&!i.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:i,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wb(t)},u=new CS(n,A,s,l);return NS(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),bs(new DA("auth-internal",e=>{const r=qA(e.getProvider("auth").getImmediate());return(n=>new rR(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(VB,KB,nR(t)),fn(VB,KB,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR=5*60,iR=Eb("authIdTokenMaxAge")||sR;let GB=null;const oR=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>iR)return;const A=r==null?void 0:r.token;GB!==A&&(GB=A,await fetch(t,{method:A?"POST":"DELETE",headers:A?{Authorization:`Bearer ${A}`}:{}}))};function aR(t=Id()){const e=_d(t,"auth");if(e.isInitialized())return e.getImmediate();const r=TS(t,{popupRedirectResolver:tR,persistence:[d4,e4,r_]}),n=Eb("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const i=oR(s.toString());qS(r,i,()=>i(r.currentUser)),$S(r,a=>i(a))}}const A=vb("auth");return A&&SS(r,`http://${A}`),r}function lR(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ES({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=A=>{const s=Yr("internal-error");s.customData=A,r(s)},n.type="text/javascript",n.charset="UTF-8",lR().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AR("Browser");var zB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,c_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,x){function I(){}I.prototype=x.prototype,E.D=x.prototype,E.prototype=new I,E.prototype.constructor=E,E.C=function(b,S,R){for(var N=Array(arguments.length-2),J=2;J<arguments.length;J++)N[J-2]=arguments[J];return x.prototype[S].apply(b,N)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function A(E,x,I){I||(I=0);var b=Array(16);if(typeof x=="string")for(var S=0;16>S;++S)b[S]=x.charCodeAt(I++)|x.charCodeAt(I++)<<8|x.charCodeAt(I++)<<16|x.charCodeAt(I++)<<24;else for(S=0;16>S;++S)b[S]=x[I++]|x[I++]<<8|x[I++]<<16|x[I++]<<24;x=E.g[0],I=E.g[1],S=E.g[2];var R=E.g[3],N=x+(R^I&(S^R))+b[0]+3614090360&4294967295;x=I+(N<<7&4294967295|N>>>25),N=R+(S^x&(I^S))+b[1]+3905402710&4294967295,R=x+(N<<12&4294967295|N>>>20),N=S+(I^R&(x^I))+b[2]+606105819&4294967295,S=R+(N<<17&4294967295|N>>>15),N=I+(x^S&(R^x))+b[3]+3250441966&4294967295,I=S+(N<<22&4294967295|N>>>10),N=x+(R^I&(S^R))+b[4]+4118548399&4294967295,x=I+(N<<7&4294967295|N>>>25),N=R+(S^x&(I^S))+b[5]+1200080426&4294967295,R=x+(N<<12&4294967295|N>>>20),N=S+(I^R&(x^I))+b[6]+2821735955&4294967295,S=R+(N<<17&4294967295|N>>>15),N=I+(x^S&(R^x))+b[7]+4249261313&4294967295,I=S+(N<<22&4294967295|N>>>10),N=x+(R^I&(S^R))+b[8]+1770035416&4294967295,x=I+(N<<7&4294967295|N>>>25),N=R+(S^x&(I^S))+b[9]+2336552879&4294967295,R=x+(N<<12&4294967295|N>>>20),N=S+(I^R&(x^I))+b[10]+4294925233&4294967295,S=R+(N<<17&4294967295|N>>>15),N=I+(x^S&(R^x))+b[11]+2304563134&4294967295,I=S+(N<<22&4294967295|N>>>10),N=x+(R^I&(S^R))+b[12]+1804603682&4294967295,x=I+(N<<7&4294967295|N>>>25),N=R+(S^x&(I^S))+b[13]+4254626195&4294967295,R=x+(N<<12&4294967295|N>>>20),N=S+(I^R&(x^I))+b[14]+2792965006&4294967295,S=R+(N<<17&4294967295|N>>>15),N=I+(x^S&(R^x))+b[15]+1236535329&4294967295,I=S+(N<<22&4294967295|N>>>10),N=x+(S^R&(I^S))+b[1]+4129170786&4294967295,x=I+(N<<5&4294967295|N>>>27),N=R+(I^S&(x^I))+b[6]+3225465664&4294967295,R=x+(N<<9&4294967295|N>>>23),N=S+(x^I&(R^x))+b[11]+643717713&4294967295,S=R+(N<<14&4294967295|N>>>18),N=I+(R^x&(S^R))+b[0]+3921069994&4294967295,I=S+(N<<20&4294967295|N>>>12),N=x+(S^R&(I^S))+b[5]+3593408605&4294967295,x=I+(N<<5&4294967295|N>>>27),N=R+(I^S&(x^I))+b[10]+38016083&4294967295,R=x+(N<<9&4294967295|N>>>23),N=S+(x^I&(R^x))+b[15]+3634488961&4294967295,S=R+(N<<14&4294967295|N>>>18),N=I+(R^x&(S^R))+b[4]+3889429448&4294967295,I=S+(N<<20&4294967295|N>>>12),N=x+(S^R&(I^S))+b[9]+568446438&4294967295,x=I+(N<<5&4294967295|N>>>27),N=R+(I^S&(x^I))+b[14]+3275163606&4294967295,R=x+(N<<9&4294967295|N>>>23),N=S+(x^I&(R^x))+b[3]+4107603335&4294967295,S=R+(N<<14&4294967295|N>>>18),N=I+(R^x&(S^R))+b[8]+1163531501&4294967295,I=S+(N<<20&4294967295|N>>>12),N=x+(S^R&(I^S))+b[13]+2850285829&4294967295,x=I+(N<<5&4294967295|N>>>27),N=R+(I^S&(x^I))+b[2]+4243563512&4294967295,R=x+(N<<9&4294967295|N>>>23),N=S+(x^I&(R^x))+b[7]+1735328473&4294967295,S=R+(N<<14&4294967295|N>>>18),N=I+(R^x&(S^R))+b[12]+2368359562&4294967295,I=S+(N<<20&4294967295|N>>>12),N=x+(I^S^R)+b[5]+4294588738&4294967295,x=I+(N<<4&4294967295|N>>>28),N=R+(x^I^S)+b[8]+2272392833&4294967295,R=x+(N<<11&4294967295|N>>>21),N=S+(R^x^I)+b[11]+1839030562&4294967295,S=R+(N<<16&4294967295|N>>>16),N=I+(S^R^x)+b[14]+4259657740&4294967295,I=S+(N<<23&4294967295|N>>>9),N=x+(I^S^R)+b[1]+2763975236&4294967295,x=I+(N<<4&4294967295|N>>>28),N=R+(x^I^S)+b[4]+1272893353&4294967295,R=x+(N<<11&4294967295|N>>>21),N=S+(R^x^I)+b[7]+4139469664&4294967295,S=R+(N<<16&4294967295|N>>>16),N=I+(S^R^x)+b[10]+3200236656&4294967295,I=S+(N<<23&4294967295|N>>>9),N=x+(I^S^R)+b[13]+681279174&4294967295,x=I+(N<<4&4294967295|N>>>28),N=R+(x^I^S)+b[0]+3936430074&4294967295,R=x+(N<<11&4294967295|N>>>21),N=S+(R^x^I)+b[3]+3572445317&4294967295,S=R+(N<<16&4294967295|N>>>16),N=I+(S^R^x)+b[6]+76029189&4294967295,I=S+(N<<23&4294967295|N>>>9),N=x+(I^S^R)+b[9]+3654602809&4294967295,x=I+(N<<4&4294967295|N>>>28),N=R+(x^I^S)+b[12]+3873151461&4294967295,R=x+(N<<11&4294967295|N>>>21),N=S+(R^x^I)+b[15]+530742520&4294967295,S=R+(N<<16&4294967295|N>>>16),N=I+(S^R^x)+b[2]+3299628645&4294967295,I=S+(N<<23&4294967295|N>>>9),N=x+(S^(I|~R))+b[0]+4096336452&4294967295,x=I+(N<<6&4294967295|N>>>26),N=R+(I^(x|~S))+b[7]+1126891415&4294967295,R=x+(N<<10&4294967295|N>>>22),N=S+(x^(R|~I))+b[14]+2878612391&4294967295,S=R+(N<<15&4294967295|N>>>17),N=I+(R^(S|~x))+b[5]+4237533241&4294967295,I=S+(N<<21&4294967295|N>>>11),N=x+(S^(I|~R))+b[12]+1700485571&4294967295,x=I+(N<<6&4294967295|N>>>26),N=R+(I^(x|~S))+b[3]+2399980690&4294967295,R=x+(N<<10&4294967295|N>>>22),N=S+(x^(R|~I))+b[10]+4293915773&4294967295,S=R+(N<<15&4294967295|N>>>17),N=I+(R^(S|~x))+b[1]+2240044497&4294967295,I=S+(N<<21&4294967295|N>>>11),N=x+(S^(I|~R))+b[8]+1873313359&4294967295,x=I+(N<<6&4294967295|N>>>26),N=R+(I^(x|~S))+b[15]+4264355552&4294967295,R=x+(N<<10&4294967295|N>>>22),N=S+(x^(R|~I))+b[6]+2734768916&4294967295,S=R+(N<<15&4294967295|N>>>17),N=I+(R^(S|~x))+b[13]+1309151649&4294967295,I=S+(N<<21&4294967295|N>>>11),N=x+(S^(I|~R))+b[4]+4149444226&4294967295,x=I+(N<<6&4294967295|N>>>26),N=R+(I^(x|~S))+b[11]+3174756917&4294967295,R=x+(N<<10&4294967295|N>>>22),N=S+(x^(R|~I))+b[2]+718787259&4294967295,S=R+(N<<15&4294967295|N>>>17),N=I+(R^(S|~x))+b[9]+3951481745&4294967295,E.g[0]=E.g[0]+x&4294967295,E.g[1]=E.g[1]+(S+(N<<21&4294967295|N>>>11))&4294967295,E.g[2]=E.g[2]+S&4294967295,E.g[3]=E.g[3]+R&4294967295}n.prototype.u=function(E,x){x===void 0&&(x=E.length);for(var I=x-this.blockSize,b=this.B,S=this.h,R=0;R<x;){if(S==0)for(;R<=I;)A(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<x;)if(b[S++]=E.charCodeAt(R++),S==this.blockSize){A(this,b),S=0;break}}else for(;R<x;)if(b[S++]=E[R++],S==this.blockSize){A(this,b),S=0;break}}this.h=S,this.o+=x},n.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var x=1;x<E.length-8;++x)E[x]=0;var I=8*this.o;for(x=E.length-8;x<E.length;++x)E[x]=I&255,I/=256;for(this.u(E),E=Array(16),x=I=0;4>x;++x)for(var b=0;32>b;b+=8)E[I++]=this.g[x]>>>b&255;return E};function s(E,x){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=x(E)}function i(E,x){this.h=x;for(var I=[],b=!0,S=E.length-1;0<=S;S--){var R=E[S]|0;b&&R==x||(I[S]=R,b=!1)}this.g=I}var a={};function l(E){return-128<=E&&128>E?s(E,function(x){return new i([x|0],0>x?-1:0)}):new i([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return h;if(0>E)return Q(u(-E));for(var x=[],I=1,b=0;E>=I;b++)x[b]=E/I|0,I*=4294967296;return new i(x,0)}function d(E,x){if(E.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(E.charAt(0)=="-")return Q(d(E.substring(1),x));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(x,8)),b=h,S=0;S<E.length;S+=8){var R=Math.min(8,E.length-S),N=parseInt(E.substring(S,S+R),x);8>R?(R=u(Math.pow(x,R)),b=b.j(R).add(u(N))):(b=b.j(I),b=b.add(u(N)))}return b}var h=l(0),f=l(1),w=l(16777216);t=i.prototype,t.m=function(){if(_(this))return-Q(this).m();for(var E=0,x=1,I=0;I<this.g.length;I++){var b=this.i(I);E+=(0<=b?b:4294967296+b)*x,x*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(v(this))return"0";if(_(this))return"-"+Q(this).toString(E);for(var x=u(Math.pow(E,6)),I=this,b="";;){var S=C(I,x).g;I=B(I,S.j(x));var R=((0<I.g.length?I.g[0]:I.h)>>>0).toString(E);if(I=S,v(I))return R+b;for(;6>R.length;)R="0"+R;b=R+b}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function v(E){if(E.h!=0)return!1;for(var x=0;x<E.g.length;x++)if(E.g[x]!=0)return!1;return!0}function _(E){return E.h==-1}t.l=function(E){return E=B(this,E),_(E)?-1:v(E)?0:1};function Q(E){for(var x=E.g.length,I=[],b=0;b<x;b++)I[b]=~E.g[b];return new i(I,~E.h).add(f)}t.abs=function(){return _(this)?Q(this):this},t.add=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],b=0,S=0;S<=x;S++){var R=b+(this.i(S)&65535)+(E.i(S)&65535),N=(R>>>16)+(this.i(S)>>>16)+(E.i(S)>>>16);b=N>>>16,R&=65535,N&=65535,I[S]=N<<16|R}return new i(I,I[I.length-1]&-2147483648?-1:0)};function B(E,x){return E.add(Q(x))}t.j=function(E){if(v(this)||v(E))return h;if(_(this))return _(E)?Q(this).j(Q(E)):Q(Q(this).j(E));if(_(E))return Q(this.j(Q(E)));if(0>this.l(w)&&0>E.l(w))return u(this.m()*E.m());for(var x=this.g.length+E.g.length,I=[],b=0;b<2*x;b++)I[b]=0;for(b=0;b<this.g.length;b++)for(var S=0;S<E.g.length;S++){var R=this.i(b)>>>16,N=this.i(b)&65535,J=E.i(S)>>>16,te=E.i(S)&65535;I[2*b+2*S]+=N*te,m(I,2*b+2*S),I[2*b+2*S+1]+=R*te,m(I,2*b+2*S+1),I[2*b+2*S+1]+=N*J,m(I,2*b+2*S+1),I[2*b+2*S+2]+=R*J,m(I,2*b+2*S+2)}for(b=0;b<x;b++)I[b]=I[2*b+1]<<16|I[2*b];for(b=x;b<2*x;b++)I[b]=0;return new i(I,0)};function m(E,x){for(;(E[x]&65535)!=E[x];)E[x+1]+=E[x]>>>16,E[x]&=65535,x++}function y(E,x){this.g=E,this.h=x}function C(E,x){if(v(x))throw Error("division by zero");if(v(E))return new y(h,h);if(_(E))return x=C(Q(E),x),new y(Q(x.g),Q(x.h));if(_(x))return x=C(E,Q(x)),new y(Q(x.g),x.h);if(30<E.g.length){if(_(E)||_(x))throw Error("slowDivide_ only works with positive integers.");for(var I=f,b=x;0>=b.l(E);)I=F(I),b=F(b);var S=T(I,1),R=T(b,1);for(b=T(b,2),I=T(I,2);!v(b);){var N=R.add(b);0>=N.l(E)&&(S=S.add(I),R=N),b=T(b,1),I=T(I,1)}return x=B(E,S.j(x)),new y(S,x)}for(S=h;0<=E.l(x);){for(I=Math.max(1,Math.floor(E.m()/x.m())),b=Math.ceil(Math.log(I)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),R=u(I),N=R.j(x);_(N)||0<N.l(E);)I-=b,R=u(I),N=R.j(x);v(R)&&(R=f),S=S.add(R),E=B(E,N)}return new y(S,E)}t.A=function(E){return C(this,E).h},t.and=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],b=0;b<x;b++)I[b]=this.i(b)&E.i(b);return new i(I,this.h&E.h)},t.or=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],b=0;b<x;b++)I[b]=this.i(b)|E.i(b);return new i(I,this.h|E.h)},t.xor=function(E){for(var x=Math.max(this.g.length,E.g.length),I=[],b=0;b<x;b++)I[b]=this.i(b)^E.i(b);return new i(I,this.h^E.h)};function F(E){for(var x=E.g.length+1,I=[],b=0;b<x;b++)I[b]=E.i(b)<<1|E.i(b-1)>>>31;return new i(I,E.h)}function T(E,x){var I=x>>5;x%=32;for(var b=E.g.length-I,S=[],R=0;R<b;R++)S[R]=0<x?E.i(R+I)>>>x|E.i(R+I+1)<<32-x:E.i(R+I);return new i(S,E.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,c_=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=u,i.fromString=d,ms=i}).apply(typeof zB<"u"?zB:typeof self<"u"?self:typeof window<"u"?window:{});var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var u_,Po,d_,$c,Xg,h_,f_,g_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,p){return c==Array.prototype||c==Object.prototype||(c[g]=p.value),c};function r(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tc=="object"&&tc];for(var g=0;g<c.length;++g){var p=c[g];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var n=r(this);function A(c,g){if(g)e:{var p=n;c=c.split(".");for(var U=0;U<c.length-1;U++){var P=c[U];if(!(P in p))break e;p=p[P]}c=c[c.length-1],U=p[c],g=g(U),g!=U&&g!=null&&e(p,c,{configurable:!0,writable:!0,value:g})}}function s(c,g){c instanceof String&&(c+="");var p=0,U=!1,P={next:function(){if(!U&&p<c.length){var D=p++;return{value:g(D,c[D]),done:!1}}return U=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}A("Array.prototype.values",function(c){return c||function(){return s(this,function(g,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},a=this||self;function l(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function u(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function d(c,g,p){return c.call.apply(c.bind,arguments)}function h(c,g,p){if(!c)throw Error();if(2<arguments.length){var U=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,U),c.apply(g,P)}}return function(){return c.apply(g,arguments)}}function f(c,g,p){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function w(c,g){var p=Array.prototype.slice.call(arguments,1);return function(){var U=p.slice();return U.push.apply(U,arguments),c.apply(this,U)}}function v(c,g){function p(){}p.prototype=g.prototype,c.aa=g.prototype,c.prototype=new p,c.prototype.constructor=c,c.Qb=function(U,P,D){for(var Y=Array(arguments.length-2),je=2;je<arguments.length;je++)Y[je-2]=arguments[je];return g.prototype[P].apply(U,Y)}}function _(c){const g=c.length;if(0<g){const p=Array(g);for(let U=0;U<g;U++)p[U]=c[U];return p}return[]}function Q(c,g){for(let p=1;p<arguments.length;p++){const U=arguments[p];if(l(U)){const P=c.length||0,D=U.length||0;c.length=P+D;for(let Y=0;Y<D;Y++)c[P+Y]=U[Y]}else c.push(U)}}class B{constructor(g,p){this.i=g,this.j=p,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function m(c){return/^[\s\xa0]*$/.test(c)}function y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function C(c){return C[" "](c),c}C[" "]=function(){};var F=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function T(c,g,p){for(const U in c)g.call(p,c[U],U,c)}function E(c,g){for(const p in c)g.call(void 0,c[p],p,c)}function x(c){const g={};for(const p in c)g[p]=c[p];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,g){let p,U;for(let P=1;P<arguments.length;P++){U=arguments[P];for(p in U)c[p]=U[p];for(let D=0;D<I.length;D++)p=I[D],Object.prototype.hasOwnProperty.call(U,p)&&(c[p]=U[p])}}function S(c){var g=1;c=c.split(":");const p=[];for(;0<g&&c.length;)p.push(c.shift()),g--;return c.length&&p.push(c.join(":")),p}function R(c){a.setTimeout(()=>{throw c},0)}function N(){var c=M;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class J{constructor(){this.h=this.g=null}add(g,p){const U=te.get();U.set(g,p),this.h?this.h.next=U:this.g=U,this.h=U}}var te=new B(()=>new ee,c=>c.reset());class ee{constructor(){this.next=this.g=this.h=null}set(g,p){this.h=g,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,L=!1,M=new J,V=()=>{const c=a.Promise.resolve(void 0);ne=()=>{c.then(q)}};var q=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(p){R(p)}var g=te;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}L=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const p=()=>{};a.addEventListener("test",p,g),a.removeEventListener("test",p,g)}catch{}return c}();function ae(c,g){if(K.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var p=this.type=c.type,U=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(F){e:{try{C(g.nodeName);var P=!0;break e}catch{}P=!1}P||(g=null)}}else p=="mouseover"?g=c.fromElement:p=="mouseout"&&(g=c.toElement);this.relatedTarget=g,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:z[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ae.aa.h.call(this)}}v(ae,K);var z={2:"touch",3:"pen",4:"mouse"};ae.prototype.h=function(){ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),H=0;function j(c,g,p,U,P){this.listener=c,this.proxy=null,this.src=g,this.type=p,this.capture=!!U,this.ha=P,this.key=++H,this.da=this.fa=!1}function W(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,g,p,U,P){var D=c.toString();c=this.g[D],c||(c=this.g[D]=[],this.h++);var Y=be(c,g,U,P);return-1<Y?(g=c[Y],p||(g.fa=!1)):(g=new j(g,this.src,D,!!U,P),g.fa=p,c.push(g)),g};function he(c,g){var p=g.type;if(p in c.g){var U=c.g[p],P=Array.prototype.indexOf.call(U,g,void 0),D;(D=0<=P)&&Array.prototype.splice.call(U,P,1),D&&(W(g),c.g[p].length==0&&(delete c.g[p],c.h--))}}function be(c,g,p,U){for(var P=0;P<c.length;++P){var D=c[P];if(!D.da&&D.listener==g&&D.capture==!!p&&D.ha==U)return P}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),Be={};function Ke(c,g,p,U,P){if(Array.isArray(g)){for(var D=0;D<g.length;D++)Ke(c,g[D],p,U,P);return null}return p=Aw(p),c&&c[Z]?c.K(g,p,u(U)?!!U.capture:!1,P):dt(c,g,p,!1,U,P)}function dt(c,g,p,U,P,D){if(!g)throw Error("Invalid event type");var Y=u(P)?!!P.capture:!!P,je=gh(c);if(je||(c[ye]=je=new ue(c)),p=je.add(g,p,U,Y,D),p.proxy)return p;if(U=nt(),p.proxy=U,U.src=c,U.listener=p,c.addEventListener)oe||(P=Y),P===void 0&&(P=!1),c.addEventListener(g.toString(),U,P);else if(c.attachEvent)c.attachEvent(nw(g.toString()),U);else if(c.addListener&&c.removeListener)c.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return p}function nt(){function c(p){return g.call(c.src,c.listener,p)}const g=vU;return c}function Ds(c,g,p,U,P){if(Array.isArray(g))for(var D=0;D<g.length;D++)Ds(c,g[D],p,U,P);else U=u(U)?!!U.capture:!!U,p=Aw(p),c&&c[Z]?(c=c.i,g=String(g).toString(),g in c.g&&(D=c.g[g],p=be(D,p,U,P),-1<p&&(W(D[p]),Array.prototype.splice.call(D,p,1),D.length==0&&(delete c.g[g],c.h--)))):c&&(c=gh(c))&&(g=c.g[g.toString()],c=-1,g&&(c=be(g,p,U,P)),(p=-1<c?g[c]:null)&&fh(p))}function fh(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Z])he(g.i,c);else{var p=c.type,U=c.proxy;g.removeEventListener?g.removeEventListener(p,U,c.capture):g.detachEvent?g.detachEvent(nw(p),U):g.addListener&&g.removeListener&&g.removeListener(U),(p=gh(g))?(he(p,c),p.h==0&&(p.src=null,g[ye]=null)):W(c)}}}function nw(c){return c in Be?Be[c]:Be[c]="on"+c}function vU(c,g){if(c.da)c=!0;else{g=new ae(g,this);var p=c.listener,U=c.ha||c.src;c.fa&&fh(c),c=p.call(U,g)}return c}function gh(c){return c=c[ye],c instanceof ue?c:null}var mh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Aw(c){return typeof c=="function"?c:(c[mh]||(c[mh]=function(g){return c.handleEvent(g)}),c[mh])}function Rt(){X.call(this),this.i=new ue(this),this.M=this,this.F=null}v(Rt,X),Rt.prototype[Z]=!0,Rt.prototype.removeEventListener=function(c,g,p,U){Ds(this,c,g,p,U)};function Jt(c,g){var p,U=c.F;if(U)for(p=[];U;U=U.F)p.push(U);if(c=c.M,U=g.type||g,typeof g=="string")g=new K(g,c);else if(g instanceof K)g.target=g.target||c;else{var P=g;g=new K(U,c),b(g,P)}if(P=!0,p)for(var D=p.length-1;0<=D;D--){var Y=g.g=p[D];P=vl(Y,U,!0,g)&&P}if(Y=g.g=c,P=vl(Y,U,!0,g)&&P,P=vl(Y,U,!1,g)&&P,p)for(D=0;D<p.length;D++)Y=g.g=p[D],P=vl(Y,U,!1,g)&&P}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var p=c.g[g],U=0;U<p.length;U++)W(p[U]);delete c.g[g],c.h--}}this.F=null},Rt.prototype.K=function(c,g,p,U){return this.i.add(String(c),g,!1,p,U)},Rt.prototype.L=function(c,g,p,U){return this.i.add(String(c),g,!0,p,U)};function vl(c,g,p,U){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var P=!0,D=0;D<g.length;++D){var Y=g[D];if(Y&&!Y.da&&Y.capture==p){var je=Y.listener,Ct=Y.ha||Y.src;Y.fa&&he(c.i,Y),P=je.call(Ct,U)!==!1&&P}}return P&&!U.defaultPrevented}function sw(c,g,p){if(typeof c=="function")p&&(c=f(c,p));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(c,g||0)}function iw(c){c.g=sw(()=>{c.g=null,c.i&&(c.i=!1,iw(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class xU extends X{constructor(g,p){super(),this.m=g,this.l=p,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:iw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function to(c){X.call(this),this.h=c,this.g={}}v(to,X);var ow=[];function aw(c){T(c.g,function(g,p){this.g.hasOwnProperty(p)&&fh(g)},c),c.g={}}to.prototype.N=function(){to.aa.N.call(this),aw(this)},to.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ph=a.JSON.stringify,CU=a.JSON.parse,EU=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function wh(){}wh.prototype.h=null;function lw(c){return c.h||(c.h=c.i())}function cw(){}var ro={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yh(){K.call(this,"d")}v(yh,K);function Bh(){K.call(this,"c")}v(Bh,K);var YA={},uw=null;function xl(){return uw=uw||new Rt}YA.La="serverreachability";function dw(c){K.call(this,YA.La,c)}v(dw,K);function no(c){const g=xl();Jt(g,new dw(g))}YA.STAT_EVENT="statevent";function hw(c,g){K.call(this,YA.STAT_EVENT,c),this.stat=g}v(hw,K);function Xt(c){const g=xl();Jt(g,new hw(g,c))}YA.Ma="timingevent";function fw(c,g){K.call(this,YA.Ma,c),this.size=g}v(fw,K);function Ao(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},g)}function so(){this.g=!0}so.prototype.xa=function(){this.g=!1};function bU(c,g,p,U,P,D){c.info(function(){if(c.g)if(D)for(var Y="",je=D.split("&"),Ct=0;Ct<je.length;Ct++){var Fe=je[Ct].split("=");if(1<Fe.length){var kt=Fe[0];Fe=Fe[1];var jt=kt.split("_");Y=2<=jt.length&&jt[1]=="type"?Y+(kt+"="+Fe+"&"):Y+(kt+"=redacted&")}}else Y=null;else Y=D;return"XMLHTTP REQ ("+U+") [attempt "+P+"]: "+g+`
`+p+`
`+Y})}function _U(c,g,p,U,P,D,Y){c.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+P+"]: "+g+`
`+p+`
`+D+" "+Y})}function Ls(c,g,p,U){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+UU(c,p)+(U?" "+U:"")})}function IU(c,g){c.info(function(){return"TIMEOUT: "+g})}so.prototype.info=function(){};function UU(c,g){if(!c.g)return g;if(!g)return null;try{var p=JSON.parse(g);if(p){for(c=0;c<p.length;c++)if(Array.isArray(p[c])){var U=p[c];if(!(2>U.length)){var P=U[1];if(Array.isArray(P)&&!(1>P.length)){var D=P[0];if(D!="noop"&&D!="stop"&&D!="close")for(var Y=1;Y<P.length;Y++)P[Y]=""}}}}return ph(p)}catch{return g}}var Cl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vh;function El(){}v(El,wh),El.prototype.g=function(){return new XMLHttpRequest},El.prototype.i=function(){return{}},vh=new El;function Zn(c,g,p,U){this.j=c,this.i=g,this.l=p,this.R=U||1,this.U=new to(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mw}function mw(){this.i=null,this.g="",this.h=!1}var pw={},xh={};function Ch(c,g,p){c.L=1,c.v=Ul(En(g)),c.m=p,c.P=!0,ww(c,null)}function ww(c,g){c.F=Date.now(),bl(c),c.A=En(c.v);var p=c.A,U=c.R;Array.isArray(U)||(U=[String(U)]),Nw(p.i,"t",U),c.C=0,p=c.j.J,c.h=new mw,c.g=Jw(c.j,p?g:null,!c.m),0<c.O&&(c.M=new xU(f(c.Y,c,c.g),c.O)),g=c.U,p=c.g,U=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(ow[0]=P.toString()),P=ow);for(var D=0;D<P.length;D++){var Y=Ke(p,P[D],U||g.handleEvent,!1,g.h||g);if(!Y)break;g.g[Y.key]=Y}g=c.H?x(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),no(),bU(c.i,c.u,c.A,c.l,c.R,c.m)}Zn.prototype.ca=function(c){c=c.target;const g=this.M;g&&bn(c)==3?g.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const jt=bn(this.g);var g=this.g.Ba();const Os=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||Lw(this.g)))){this.J||jt!=4||g==7||(g==8||0>=Os?no(3):no(2)),Eh(this);var p=this.g.Z();this.X=p;t:if(yw(this)){var U=Lw(this.g);c="";var P=U.length,D=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ZA(this),io(this);var Y="";break t}this.h.i=new a.TextDecoder}for(g=0;g<P;g++)this.h.h=!0,c+=this.h.i.decode(U[g],{stream:!(D&&g==P-1)});U.length=0,this.h.g+=c,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=p==200,_U(this.i,this.u,this.A,this.l,this.R,jt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Ct=this.g;if((je=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(je)){var Fe=je;break t}}Fe=null}if(p=Fe)Ls(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bh(this,p);else{this.o=!1,this.s=3,Xt(12),ZA(this),io(this);break e}}if(this.P){p=!0;let Or;for(;!this.J&&this.C<Y.length;)if(Or=FU(this,Y),Or==xh){jt==4&&(this.s=4,Xt(14),p=!1),Ls(this.i,this.l,null,"[Incomplete Response]");break}else if(Or==pw){this.s=4,Xt(15),Ls(this.i,this.l,Y,"[Invalid Chunk]"),p=!1;break}else Ls(this.i,this.l,Or,null),bh(this,Or);if(yw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||Y.length!=0||this.h.h||(this.s=1,Xt(16),p=!1),this.o=this.o&&p,!p)Ls(this.i,this.l,Y,"[Invalid Chunked Response]"),ZA(this),io(this);else if(0<Y.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),Th(kt),kt.M=!0,Xt(11))}}else Ls(this.i,this.l,Y,null),bh(this,Y);jt==4&&ZA(this),this.o&&!this.J&&(jt==4?zw(this.j,this):(this.o=!1,bl(this)))}else zU(this.g),p==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Xt(12)):(this.s=0,Xt(13)),ZA(this),io(this)}}}catch{}finally{}};function yw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function FU(c,g){var p=c.C,U=g.indexOf(`
`,p);return U==-1?xh:(p=Number(g.substring(p,U)),isNaN(p)?pw:(U+=1,U+p>g.length?xh:(g=g.slice(U,U+p),c.C=U+p,g)))}Zn.prototype.cancel=function(){this.J=!0,ZA(this)};function bl(c){c.S=Date.now()+c.I,Bw(c,c.I)}function Bw(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ao(f(c.ba,c),g)}function Eh(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(IU(this.i,this.A),this.L!=2&&(no(),Xt(17)),ZA(this),this.s=2,io(this)):Bw(this,this.S-c)};function io(c){c.j.G==0||c.J||zw(c.j,c)}function ZA(c){Eh(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,aw(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function bh(c,g){try{var p=c.j;if(p.G!=0&&(p.g==c||_h(p.h,c))){if(!c.K&&_h(p.h,c)&&p.G==3){try{var U=p.Da.g.parse(g)}catch{U=null}if(Array.isArray(U)&&U.length==3){var P=U;if(P[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<c.F)Rl(p),Nl(p);else break e;Qh(p),Xt(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=Ao(f(p.Za,p),6e3));if(1>=Cw(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ts(p,11)}else if((c.K||p.g==c)&&Rl(p),!m(g))for(P=p.Da.g.parse(g),g=0;g<P.length;g++){let Fe=P[g];if(p.T=Fe[0],Fe=Fe[1],p.G==2)if(Fe[0]=="c"){p.K=Fe[1],p.ia=Fe[2];const kt=Fe[3];kt!=null&&(p.la=kt,p.j.info("VER="+p.la));const jt=Fe[4];jt!=null&&(p.Aa=jt,p.j.info("SVER="+p.Aa));const Os=Fe[5];Os!=null&&typeof Os=="number"&&0<Os&&(U=1.5*Os,p.L=U,p.j.info("backChannelRequestTimeoutMs_="+U)),U=p;const Or=c.g;if(Or){const jl=Or.g?Or.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jl){var D=U.h;D.g||jl.indexOf("spdy")==-1&&jl.indexOf("quic")==-1&&jl.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Ih(D,D.h),D.h=null))}if(U.D){const Nh=Or.g?Or.g.getResponseHeader("X-HTTP-Session-Id"):null;Nh&&(U.ya=Nh,He(U.I,U.D,Nh))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-c.F,p.j.info("Handshake RTT: "+p.R+"ms")),U=p;var Y=c;if(U.qa=qw(U,U.J?U.ia:null,U.W),Y.K){Ew(U.h,Y);var je=Y,Ct=U.L;Ct&&(je.I=Ct),je.B&&(Eh(je),bl(je)),U.g=Y}else Kw(U);0<p.i.length&&Sl(p)}else Fe[0]!="stop"&&Fe[0]!="close"||ts(p,7);else p.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?ts(p,7):Fh(p):Fe[0]!="noop"&&p.l&&p.l.ta(Fe),p.v=0)}}no(4)}catch{}}var QU=class{constructor(c,g){this.g=c,this.map=g}};function vw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cw(c){return c.h?1:c.g?c.g.size:0}function _h(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ih(c,g){c.g?c.g.add(g):c.h=g}function Ew(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}vw.prototype.cancel=function(){if(this.i=bw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function bw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const p of c.g.values())g=g.concat(p.D);return g}return _(c.i)}function TU(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var g=[],p=c.length,U=0;U<p;U++)g.push(c[U]);return g}g=[],p=0;for(U in c)g[p++]=c[U];return g}function NU(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var g=[];c=c.length;for(var p=0;p<c;p++)g.push(p);return g}g=[],p=0;for(const U in c)g[p++]=U;return g}}}function _w(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var p=NU(c),U=TU(c),P=U.length,D=0;D<P;D++)g.call(void 0,U[D],p&&p[D],c)}var Iw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SU(c,g){if(c){c=c.split("&");for(var p=0;p<c.length;p++){var U=c[p].indexOf("="),P=null;if(0<=U){var D=c[p].substring(0,U);P=c[p].substring(U+1)}else D=c[p];g(D,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function es(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof es){this.h=c.h,_l(this,c.j),this.o=c.o,this.g=c.g,Il(this,c.s),this.l=c.l;var g=c.i,p=new lo;p.i=g.i,g.g&&(p.g=new Map(g.g),p.h=g.h),Uw(this,p),this.m=c.m}else c&&(g=String(c).match(Iw))?(this.h=!1,_l(this,g[1]||"",!0),this.o=oo(g[2]||""),this.g=oo(g[3]||"",!0),Il(this,g[4]),this.l=oo(g[5]||"",!0),Uw(this,g[6]||"",!0),this.m=oo(g[7]||"")):(this.h=!1,this.i=new lo(null,this.h))}es.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ao(g,Fw,!0),":");var p=this.g;return(p||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ao(g,Fw,!0),"@"),c.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&c.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&c.push("/"),c.push(ao(p,p.charAt(0)=="/"?jU:kU,!0))),(p=this.i.toString())&&c.push("?",p),(p=this.m)&&c.push("#",ao(p,DU)),c.join("")};function En(c){return new es(c)}function _l(c,g,p){c.j=p?oo(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Il(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Uw(c,g,p){g instanceof lo?(c.i=g,LU(c.i,c.h)):(p||(g=ao(g,PU)),c.i=new lo(g,c.h))}function He(c,g,p){c.i.set(g,p)}function Ul(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function oo(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ao(c,g,p){return typeof c=="string"?(c=encodeURI(c).replace(g,RU),p&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function RU(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fw=/[#\/\?@]/g,kU=/[#\?:]/g,jU=/[#\?]/g,PU=/[#\?@]/g,DU=/#/g;function lo(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function eA(c){c.g||(c.g=new Map,c.h=0,c.i&&SU(c.i,function(g,p){c.add(decodeURIComponent(g.replace(/\+/g," ")),p)}))}t=lo.prototype,t.add=function(c,g){eA(this),this.i=null,c=Hs(this,c);var p=this.g.get(c);return p||this.g.set(c,p=[]),p.push(g),this.h+=1,this};function Qw(c,g){eA(c),g=Hs(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Tw(c,g){return eA(c),g=Hs(c,g),c.g.has(g)}t.forEach=function(c,g){eA(this),this.g.forEach(function(p,U){p.forEach(function(P){c.call(g,P,U,this)},this)},this)},t.na=function(){eA(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),p=[];for(let U=0;U<g.length;U++){const P=c[U];for(let D=0;D<P.length;D++)p.push(g[U])}return p},t.V=function(c){eA(this);let g=[];if(typeof c=="string")Tw(this,c)&&(g=g.concat(this.g.get(Hs(this,c))));else{c=Array.from(this.g.values());for(let p=0;p<c.length;p++)g=g.concat(c[p])}return g},t.set=function(c,g){return eA(this),this.i=null,c=Hs(this,c),Tw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Nw(c,g,p){Qw(c,g),0<p.length&&(c.i=null,c.g.set(Hs(c,g),_(p)),c.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var p=0;p<g.length;p++){var U=g[p];const D=encodeURIComponent(String(U)),Y=this.V(U);for(U=0;U<Y.length;U++){var P=D;Y[U]!==""&&(P+="="+encodeURIComponent(String(Y[U]))),c.push(P)}}return this.i=c.join("&")};function Hs(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function LU(c,g){g&&!c.j&&(eA(c),c.i=null,c.g.forEach(function(p,U){var P=U.toLowerCase();U!=P&&(Qw(this,U),Nw(this,P,p))},c)),c.j=g}function HU(c,g){const p=new so;if(a.Image){const U=new Image;U.onload=w(tA,p,"TestLoadImage: loaded",!0,g,U),U.onerror=w(tA,p,"TestLoadImage: error",!1,g,U),U.onabort=w(tA,p,"TestLoadImage: abort",!1,g,U),U.ontimeout=w(tA,p,"TestLoadImage: timeout",!1,g,U),a.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=c}else g(!1)}function MU(c,g){const p=new so,U=new AbortController,P=setTimeout(()=>{U.abort(),tA(p,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:U.signal}).then(D=>{clearTimeout(P),D.ok?tA(p,"TestPingServer: ok",!0,g):tA(p,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),tA(p,"TestPingServer: error",!1,g)})}function tA(c,g,p,U,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),U(p)}catch{}}function OU(){this.g=new EU}function VU(c,g,p){const U=p||"";try{_w(c,function(P,D){let Y=P;u(P)&&(Y=ph(P)),g.push(U+D+"="+encodeURIComponent(Y))})}catch(P){throw g.push(U+"type="+encodeURIComponent("_badmap")),P}}function Fl(c){this.l=c.Ub||null,this.j=c.eb||!1}v(Fl,wh),Fl.prototype.g=function(){return new Ql(this.l,this.j)},Fl.prototype.i=function(c){return function(){return c}}({});function Ql(c,g){Rt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}v(Ql,Rt),t=Ql.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,uo(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,co(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,uo(this)),this.g&&(this.readyState=3,uo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?co(this):uo(this),this.readyState==3&&Sw(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,co(this))},t.Qa=function(c){this.g&&(this.response=c,co(this))},t.ga=function(){this.g&&co(this)};function co(c){c.readyState=4,c.l=null,c.j=null,c.v=null,uo(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var p=g.next();!p.done;)p=p.value,c.push(p[0]+": "+p[1]),p=g.next();return c.join(`\r
`)};function uo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Rw(c){let g="";return T(c,function(p,U){g+=U,g+=":",g+=p,g+=`\r
`}),g}function Uh(c,g,p){e:{for(U in p){var U=!1;break e}U=!0}U||(p=Rw(p),typeof c=="string"?p!=null&&encodeURIComponent(String(p)):He(c,g,p))}function Ye(c){Rt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}v(Ye,Rt);var KU=/^https?$/i,GU=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,p,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vh.g(),this.v=this.o?lw(this.o):lw(vh),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(D){kw(this,D);return}if(c=p||"",p=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var P in U)p.set(P,U[P]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const D of U.keys())p.set(D,U.get(D));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(p.keys()).find(D=>D.toLowerCase()=="content-type"),P=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GU,g,void 0))||U||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,Y]of p)this.g.setRequestHeader(D,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Dw(this),this.u=!0,this.g.send(c),this.u=!1}catch(D){kw(this,D)}};function kw(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,jw(c),Tl(c)}function jw(c){c.A||(c.A=!0,Jt(c,"complete"),Jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Jt(this,"complete"),Jt(this,"abort"),Tl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tl(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Pw(this):this.bb())},t.bb=function(){Pw(this)};function Pw(c){if(c.h&&typeof i<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)sw(c.Ea,0,c);else if(Jt(c,"readystatechange"),bn(c)==4){c.h=!1;try{const Y=c.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var p;if(!(p=g)){var U;if(U=Y===0){var P=String(c.D).match(Iw)[1]||null;!P&&a.self&&a.self.location&&(P=a.self.location.protocol.slice(0,-1)),U=!KU.test(P?P.toLowerCase():"")}p=U}if(p)Jt(c,"complete"),Jt(c,"success");else{c.m=6;try{var D=2<bn(c)?c.g.statusText:""}catch{D=""}c.l=D+" ["+c.Z()+"]",jw(c)}}finally{Tl(c)}}}}function Tl(c,g){if(c.g){Dw(c);const p=c.g,U=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Jt(c,"ready");try{p.onreadystatechange=U}catch{}}}function Dw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),CU(g)}};function Lw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zU(c){const g={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<c.length;U++){if(m(c[U]))continue;var p=S(c[U]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const D=g[P]||[];g[P]=D,D.push(p)}E(g,function(U){return U.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ho(c,g,p){return p&&p.internalChannelParams&&p.internalChannelParams[c]||g}function Hw(c){this.Aa=0,this.i=[],this.j=new so,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ho("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ho("baseRetryDelayMs",5e3,c),this.cb=ho("retryDelaySeedMs",1e4,c),this.Wa=ho("forwardChannelMaxRetries",2,c),this.wa=ho("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new vw(c&&c.concurrentRequestLimit),this.Da=new OU,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hw.prototype,t.la=8,t.G=1,t.connect=function(c,g,p,U){Xt(0),this.W=c,this.H=g||{},p&&U!==void 0&&(this.H.OSID=p,this.H.OAID=U),this.F=this.X,this.I=qw(this,null,this.W),Sl(this)};function Fh(c){if(Mw(c),c.G==3){var g=c.U++,p=En(c.I);if(He(p,"SID",c.K),He(p,"RID",g),He(p,"TYPE","terminate"),fo(c,p),g=new Zn(c,c.j,g),g.L=2,g.v=Ul(En(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=g.v,p=!0),p||(g.g=Jw(g.j,null),g.g.ea(g.v)),g.F=Date.now(),bl(g)}$w(c)}function Nl(c){c.g&&(Th(c),c.g.cancel(),c.g=null)}function Mw(c){Nl(c),c.u&&(a.clearTimeout(c.u),c.u=null),Rl(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Sl(c){if(!xw(c.h)&&!c.s){c.s=!0;var g=c.Ga;ne||V(),L||(ne(),L=!0),M.add(g,c),c.B=0}}function WU(c,g){return Cw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ao(f(c.Ga,c,g),Ww(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new Zn(this,this.j,c);let D=this.o;if(this.S&&(D?(D=x(D),b(D,this.S)):D=this.S),this.m!==null||this.O||(P.H=D,D=null),this.P)e:{for(var g=0,p=0;p<this.i.length;p++){t:{var U=this.i[p];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(g+=U,4096<g){g=p;break e}if(g===4096||p===this.i.length-1){g=p+1;break e}}g=1e3}else g=1e3;g=Vw(this,P,g),p=En(this.I),He(p,"RID",c),He(p,"CVER",22),this.D&&He(p,"X-HTTP-Session-Id",this.D),fo(this,p),D&&(this.O?g="headers="+encodeURIComponent(String(Rw(D)))+"&"+g:this.m&&Uh(p,this.m,D)),Ih(this.h,P),this.Ua&&He(p,"TYPE","init"),this.P?(He(p,"$req",g),He(p,"SID","null"),P.T=!0,Ch(P,p,null)):Ch(P,p,g),this.G=2}}else this.G==3&&(c?Ow(this,c):this.i.length==0||xw(this.h)||Ow(this))};function Ow(c,g){var p;g?p=g.l:p=c.U++;const U=En(c.I);He(U,"SID",c.K),He(U,"RID",p),He(U,"AID",c.T),fo(c,U),c.m&&c.o&&Uh(U,c.m,c.o),p=new Zn(c,c.j,p,c.B+1),c.m===null&&(p.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Vw(c,p,1e3),p.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ih(c.h,p),Ch(p,U,g)}function fo(c,g){c.H&&T(c.H,function(p,U){He(g,U,p)}),c.l&&_w({},function(p,U){He(g,U,p)})}function Vw(c,g,p){p=Math.min(c.i.length,p);var U=c.l?f(c.l.Na,c.l,c):null;e:{var P=c.i;let D=-1;for(;;){const Y=["count="+p];D==-1?0<p?(D=P[0].g,Y.push("ofs="+D)):D=0:Y.push("ofs="+D);let je=!0;for(let Ct=0;Ct<p;Ct++){let Fe=P[Ct].g;const kt=P[Ct].map;if(Fe-=D,0>Fe)D=Math.max(0,P[Ct].g-100),je=!1;else try{VU(kt,Y,"req"+Fe+"_")}catch{U&&U(kt)}}if(je){U=Y.join("&");break e}}}return c=c.i.splice(0,p),g.D=c,U}function Kw(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ne||V(),L||(ne(),L=!0),M.add(g,c),c.v=0}}function Qh(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ao(f(c.Fa,c),Ww(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Gw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ao(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Xt(10),Nl(this),Gw(this))};function Th(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Gw(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=En(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),fo(c,g),c.m&&c.o&&Uh(g,c.m,c.o),c.L&&(c.g.I=c.L);var p=c.g;c=c.ia,p.L=1,p.v=Ul(En(g)),p.m=null,p.P=!0,ww(p,c)}t.Za=function(){this.C!=null&&(this.C=null,Nl(this),Qh(this),Xt(19))};function Rl(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function zw(c,g){var p=null;if(c.g==g){Rl(c),Th(c),c.g=null;var U=2}else if(_h(c.h,g))p=g.D,Ew(c.h,g),U=1;else return;if(c.G!=0){if(g.o)if(U==1){p=g.m?g.m.length:0,g=Date.now()-g.F;var P=c.B;U=xl(),Jt(U,new fw(U,p)),Sl(c)}else Kw(c);else if(P=g.s,P==3||P==0&&0<g.X||!(U==1&&WU(c,g)||U==2&&Qh(c)))switch(p&&0<p.length&&(g=c.h,g.i=g.i.concat(p)),P){case 1:ts(c,5);break;case 4:ts(c,10);break;case 3:ts(c,6);break;default:ts(c,2)}}}function Ww(c,g){let p=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(p*=2),p*g}function ts(c,g){if(c.j.info("Error code "+g),g==2){var p=f(c.fb,c),U=c.Xa;const P=!U;U=new es(U||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||_l(U,"https"),Ul(U),P?HU(U.toString(),p):MU(U.toString(),p)}else Xt(2);c.G=0,c.l&&c.l.sa(g),$w(c),Mw(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Xt(2)):(this.j.info("Failed to ping google.com"),Xt(1))};function $w(c){if(c.G=0,c.ka=[],c.l){const g=bw(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ka,g),Q(c.ka,c.i),c.h.i.length=0,_(c.i),c.i.length=0),c.l.ra()}}function qw(c,g,p){var U=p instanceof es?En(p):new es(p);if(U.g!="")g&&(U.g=g+"."+U.g),Il(U,U.s);else{var P=a.location;U=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;var D=new es(null);U&&_l(D,U),g&&(D.g=g),P&&Il(D,P),p&&(D.l=p),U=D}return p=c.D,g=c.ya,p&&g&&He(U,p,g),He(U,"VER",c.la),fo(c,U),U}function Jw(c,g,p){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new Fl({eb:p})):new Ye(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xw(){}t=Xw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function kl(){}kl.prototype.g=function(c,g){return new gr(c,g)};function gr(c,g){Rt.call(this),this.g=new Hw(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!m(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!m(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ms(this)}v(gr,Rt),gr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gr.prototype.close=function(){Fh(this.g)},gr.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var p={};p.__data__=c,c=p}else this.u&&(p={},p.__data__=ph(c),c=p);g.i.push(new QU(g.Ya++,c)),g.G==3&&Sl(g)},gr.prototype.N=function(){this.g.l=null,delete this.j,Fh(this.g),delete this.g,gr.aa.N.call(this)};function Yw(c){yh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const p in g){c=p;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}v(Yw,yh);function Zw(){Bh.call(this),this.status=1}v(Zw,Bh);function Ms(c){this.g=c}v(Ms,Xw),Ms.prototype.ua=function(){Jt(this.g,"a")},Ms.prototype.ta=function(c){Jt(this.g,new Yw(c))},Ms.prototype.sa=function(c){Jt(this.g,new Zw)},Ms.prototype.ra=function(){Jt(this.g,"b")},kl.prototype.createWebChannel=kl.prototype.g,gr.prototype.send=gr.prototype.o,gr.prototype.open=gr.prototype.m,gr.prototype.close=gr.prototype.close,g_=function(){return new kl},f_=function(){return xl()},h_=YA,Xg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Cl.NO_ERROR=0,Cl.TIMEOUT=8,Cl.HTTP_ERROR=6,$c=Cl,gw.COMPLETE="complete",d_=gw,cw.EventType=ro,ro.OPEN="a",ro.CLOSE="b",ro.ERROR="c",ro.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Po=cw,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,u_=Ye}).apply(typeof tc<"u"?tc:typeof self<"u"?self:typeof window<"u"?window:{});const WB="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ji="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Hp("@firebase/firestore");function Co(){return Us.logLevel}function ce(t,...e){if(Us.logLevel<=_e.DEBUG){const r=e.map(Zp);Us.debug(`Firestore (${Ji}): ${t}`,...r)}}function zn(t,...e){if(Us.logLevel<=_e.ERROR){const r=e.map(Zp);Us.error(`Firestore (${Ji}): ${t}`,...r)}}function Si(t,...e){if(Us.logLevel<=_e.WARN){const r=e.map(Zp);Us.warn(`Firestore (${Ji}): ${t}`,...r)}}function Zp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${Ji}) INTERNAL ASSERTION FAILED: `+t;throw zn(e),new Error(e)}function Re(t,e){t||me()}function we(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends Bn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m_{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class cR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(Mt.UNAUTHENTICATED))}shutdown(){}}class uR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class dR{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Re(this.o===void 0);let n=this.i;const A=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Dn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Dn,e.enqueueRetryable(()=>A(this.currentUser))};const i=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await A(this.currentUser)})},a=l=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),i())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Dn)}},0),i()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Re(typeof n.accessToken=="string"),new m_(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new Mt(e)}}class hR{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fR{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new hR(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){Re(this.o===void 0);const n=s=>{s.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const i=s.token!==this.R;return this.R=s.token,ce("FirebaseAppCheckTokenProvider",`Received ${i?"new":"existing"} token.`),i?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const A=s=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>A(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?A(s):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(Re(typeof r.token=="string"),this.R=r.token,new gR(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const A=pR(40);for(let s=0;s<A.length;++s)n.length<20&&A[s]<r&&(n+=e.charAt(A[s]%e.length))}return n}}function Qe(t,e){return t<e?-1:t>e?1:0}function Ri(t,e,r){return t.length===e.length&&t.every((n,A)=>r(n,e[A]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ie(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ie(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ie(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new pt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new pe(e)}static min(){return new pe(new pt(0,0))}static max(){return new pe(new pt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e,r,n){r===void 0?r=0:r>e.length&&me(),n===void 0?n=e.length-r:n>e.length-r&&me(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return La.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof La?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let A=0;A<n;A++){const s=e.get(A),i=r.get(A);if(s<i)return-1;if(s>i)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Oe extends La{construct(e,r,n){return new Oe(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ie(O.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(A=>A.length>0))}return new Oe(r)}static emptyPath(){return new Oe([])}}const wR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends La{construct(e,r,n){return new It(e,r,n)}static isValidIdentifier(e){return wR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const r=[];let n="",A=0;const s=()=>{if(n.length===0)throw new ie(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let i=!1;for(;A<e.length;){const a=e[A];if(a==="\\"){if(A+1===e.length)throw new ie(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[A+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ie(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,A+=2}else a==="`"?(i=!i,A++):a!=="."||i?(n+=a,A++):(s(),A++)}if(s(),i)throw new ie(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(r)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.path=e}static fromPath(e){return new de(Oe.fromString(e))}static fromName(e){return new de(Oe.fromString(e).popFirst(5))}static empty(){return new de(Oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Oe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Oe.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new Oe(e.slice()))}}function yR(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,A=pe.fromTimestamp(n===1e9?new pt(r+1,0):new pt(r,n));return new LA(A,de.empty(),e)}function BR(t){return new LA(t.readTime,t.key,-1)}class LA{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new LA(pe.min(),de.empty(),-1)}static max(){return new LA(pe.max(),de.empty(),-1)}}function vR(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=de.comparator(t.documentKey,e.documentKey),r!==0?r:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function al(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==xR)throw t;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new G((n,A)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,A)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,A)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof G?r:G.resolve(r)}catch(r){return G.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):G.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):G.reject(r)}static resolve(e){return new G((r,n)=>{r(e)})}static reject(e){return new G((r,n)=>{n(e)})}static waitFor(e){return new G((r,n)=>{let A=0,s=0,i=!1;e.forEach(a=>{++A,a.next(()=>{++s,i&&s===A&&r()},l=>n(l))}),i=!0,s===A&&r()})}static or(e){let r=G.resolve(!1);for(const n of e)r=r.next(A=>A?G.resolve(A):n());return r}static forEach(e,r){const n=[];return e.forEach((A,s)=>{n.push(r.call(this,A,s))}),this.waitFor(n)}static mapArray(e,r){return new G((n,A)=>{const s=e.length,i=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(d=>{i[u]=d,++a,a===s&&n(i)},d=>A(d))}})}static doWhile(e,r){return new G((n,A)=>{const s=()=>{e()===!0?r().next(()=>{s()},A):n()};s()})}}function ER(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function ll(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e0{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}e0.oe=-1;function Td(t){return t==null}function ku(t){return t===0&&1/t==-1/0}function bR(t){return typeof t=="number"&&Number.isInteger(t)&&!ku(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function js(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function w_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,r){this.comparator=e,this.root=r||_t.EMPTY}insert(e,r){return new Xe(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const A=this.comparator(e,n.key);if(A===0)return r+n.left.size;A<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new rc(this.root,e,this.comparator,!0)}}class rc{constructor(e,r,n,A){this.isReverse=A,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&A&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,r,n,A,s){this.key=e,this.value=r,this.color=n??_t.RED,this.left=A??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,A,s){return new _t(e??this.key,r??this.value,n??this.color,A??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let A=this;const s=n(e,A.key);return A=s<0?A.copy(null,null,null,A.left.insert(e,r,n),null):s===0?A.copy(null,r,null,null,null):A.copy(null,null,null,null,A.right.insert(e,r,n)),A.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,A=this;if(r(e,A.key)<0)A.left.isEmpty()||A.left.isRed()||A.left.left.isRed()||(A=A.moveRedLeft()),A=A.copy(null,null,null,A.left.remove(e,r),null);else{if(A.left.isRed()&&(A=A.rotateRight()),A.right.isEmpty()||A.right.isRed()||A.right.left.isRed()||(A=A.moveRedRight()),r(e,A.key)===0){if(A.right.isEmpty())return _t.EMPTY;n=A.right.min(),A=A.copy(n.key,n.value,null,null,A.right.removeMin())}A=A.copy(null,null,null,null,A.right.remove(e,r))}return A.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,r,n,A,s){return this}insert(e,r,n){return new _t(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const A=n.getNext();if(this.comparator(A.key,e[1])>=0)return;r(A.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new qB(this.data.getIterator())}getIteratorFrom(e){return new qB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const A=r.getNext().key,s=n.getNext().key;if(this.comparator(A,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new Qt(this.comparator);return r.data=e,r}}class qB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new vr([])}unionWith(e){let r=new Qt(It.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new vr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Ri(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(A){try{return atob(A)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new y_("Invalid base64 string: "+s):s}}(e);return new St(r)}static fromUint8Array(e){const r=function(A){let s="";for(let i=0;i<A.length;++i)s+=String.fromCharCode(A[i]);return s}(e);return new St(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let A=0;A<r.length;A++)n[A]=r.charCodeAt(A);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const _R=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function HA(t){if(Re(!!t),typeof t=="string"){let e=0;const r=_R.exec(t);if(Re(!!r),r[1]){let A=r[1];A=(A+"000000000").substr(0,9),e=Number(A)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:it(t.seconds),nanos:it(t.nanos)}}function it(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function r0(t){const e=t.mapValue.fields.__previous_value__;return t0(e)?r0(e):e}function Ha(t){const e=HA(t.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,r,n,A,s,i,a,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=A,this.ssl=s,this.forceLongPolling=i,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Ma{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Ma("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ma&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc={mapValue:{}};function Qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?t0(t)?4:FR(t)?9007199254740991:UR(t)?10:11:me()}function wn(t,e){if(t===e)return!0;const r=Qs(t);if(r!==Qs(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ha(t).isEqual(Ha(e));case 3:return function(A,s){if(typeof A.timestampValue=="string"&&typeof s.timestampValue=="string"&&A.timestampValue.length===s.timestampValue.length)return A.timestampValue===s.timestampValue;const i=HA(A.timestampValue),a=HA(s.timestampValue);return i.seconds===a.seconds&&i.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(A,s){return Fs(A.bytesValue).isEqual(Fs(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(A,s){return it(A.geoPointValue.latitude)===it(s.geoPointValue.latitude)&&it(A.geoPointValue.longitude)===it(s.geoPointValue.longitude)}(t,e);case 2:return function(A,s){if("integerValue"in A&&"integerValue"in s)return it(A.integerValue)===it(s.integerValue);if("doubleValue"in A&&"doubleValue"in s){const i=it(A.doubleValue),a=it(s.doubleValue);return i===a?ku(i)===ku(a):isNaN(i)&&isNaN(a)}return!1}(t,e);case 9:return Ri(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(A,s){const i=A.mapValue.fields||{},a=s.mapValue.fields||{};if($B(i)!==$B(a))return!1;for(const l in i)if(i.hasOwnProperty(l)&&(a[l]===void 0||!wn(i[l],a[l])))return!1;return!0}(t,e);default:return me()}}function Oa(t,e){return(t.values||[]).find(r=>wn(r,e))!==void 0}function ki(t,e){if(t===e)return 0;const r=Qs(t),n=Qs(e);if(r!==n)return Qe(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,i){const a=it(s.integerValue||s.doubleValue),l=it(i.integerValue||i.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return JB(t.timestampValue,e.timestampValue);case 4:return JB(Ha(t),Ha(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,i){const a=Fs(s),l=Fs(i);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const a=s.split("/"),l=i.split("/");for(let u=0;u<a.length&&u<l.length;u++){const d=Qe(a[u],l[u]);if(d!==0)return d}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const a=Qe(it(s.latitude),it(i.latitude));return a!==0?a:Qe(it(s.longitude),it(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return XB(t.arrayValue,e.arrayValue);case 10:return function(s,i){var a,l,u,d;const h=s.fields||{},f=i.fields||{},w=(a=h.value)===null||a===void 0?void 0:a.arrayValue,v=(l=f.value)===null||l===void 0?void 0:l.arrayValue,_=Qe(((u=w==null?void 0:w.values)===null||u===void 0?void 0:u.length)||0,((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0);return _!==0?_:XB(w,v)}(t.mapValue,e.mapValue);case 11:return function(s,i){if(s===nc.mapValue&&i===nc.mapValue)return 0;if(s===nc.mapValue)return 1;if(i===nc.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=i.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Qe(l[h],d[h]);if(f!==0)return f;const w=ki(a[l[h]],u[d[h]]);if(w!==0)return w}return Qe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw me()}}function JB(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const r=HA(t),n=HA(e),A=Qe(r.seconds,n.seconds);return A!==0?A:Qe(r.nanos,n.nanos)}function XB(t,e){const r=t.values||[],n=e.values||[];for(let A=0;A<r.length&&A<n.length;++A){const s=ki(r[A],n[A]);if(s)return s}return Qe(r.length,n.length)}function ji(t){return Yg(t)}function Yg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=HA(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Fs(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return de.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",A=!0;for(const s of r.values||[])A?A=!1:n+=",",n+=Yg(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let A="{",s=!0;for(const i of n)s?s=!1:A+=",",A+=`${i}:${Yg(r.fields[i])}`;return A+"}"}(t.mapValue):me()}function YB(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Zg(t){return!!t&&"integerValue"in t}function n0(t){return!!t&&"arrayValue"in t}function ZB(t){return!!t&&"nullValue"in t}function ev(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function qc(t){return!!t&&"mapValue"in t}function UR(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function sa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return js(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=sa(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=sa(t.arrayValue.values[r]);return e}return Object.assign({},t)}function FR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(e){this.value=e}static empty(){return new ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!qc(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(r)}setAll(e){let r=It.emptyPath(),n={},A=[];e.forEach((i,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,A),n={},A=[],r=a.popLast()}i?n[a.lastSegment()]=sa(i):A.push(a.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,A)}delete(e){const r=this.field(e.popLast());qc(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let A=r.mapValue.fields[e.get(n)];qc(A)&&A.mapValue.fields||(A={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=A),r=A}return r.mapValue.fields}applyChanges(e,r,n){js(r,(A,s)=>e[A]=s);for(const A of n)delete e[A]}clone(){return new ir(sa(this.value))}}function B_(t){const e=[];return js(t.fields,(r,n)=>{const A=new It([r]);if(qc(n)){const s=B_(n.mapValue).fields;if(s.length===0)e.push(A);else for(const i of s)e.push(A.child(i))}else e.push(A)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,r,n,A,s,i,a){this.key=e,this.documentType=r,this.version=n,this.readTime=A,this.createTime=s,this.data=i,this.documentState=a}static newInvalidDocument(e){return new Kt(e,0,pe.min(),pe.min(),pe.min(),ir.empty(),0)}static newFoundDocument(e,r,n,A){return new Kt(e,1,r,pe.min(),n,A,0)}static newNoDocument(e,r){return new Kt(e,2,r,pe.min(),pe.min(),ir.empty(),0)}static newUnknownDocument(e,r){return new Kt(e,3,r,pe.min(),pe.min(),ir.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,r){this.position=e,this.inclusive=r}}function tv(t,e,r){let n=0;for(let A=0;A<t.position.length;A++){const s=e[A],i=t.position[A];if(s.field.isKeyField()?n=de.comparator(de.fromName(i.referenceValue),r.key):n=ki(i,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function rv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!wn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e,r="asc"){this.field=e,this.dir=r}}function QR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let v_=class{};class ut extends v_{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new NR(e,r,n):r==="array-contains"?new kR(e,n):r==="in"?new jR(e,n):r==="not-in"?new PR(e,n):r==="array-contains-any"?new DR(e,n):new ut(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new SR(e,n):new RR(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(ki(r,this.value)):r!==null&&Qs(this.value)===Qs(r)&&this.matchesComparison(ki(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tn extends v_{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new tn(e,r)}matches(e){return x_(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function x_(t){return t.op==="and"}function C_(t){return TR(t)&&x_(t)}function TR(t){for(const e of t.filters)if(e instanceof tn)return!1;return!0}function em(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+ji(t.value);if(C_(t))return t.filters.map(e=>em(e)).join(",");{const e=t.filters.map(r=>em(r)).join(",");return`${t.op}(${e})`}}function E_(t,e){return t instanceof ut?function(n,A){return A instanceof ut&&n.op===A.op&&n.field.isEqual(A.field)&&wn(n.value,A.value)}(t,e):t instanceof tn?function(n,A){return A instanceof tn&&n.op===A.op&&n.filters.length===A.filters.length?n.filters.reduce((s,i,a)=>s&&E_(i,A.filters[a]),!0):!1}(t,e):void me()}function b_(t){return t instanceof ut?function(r){return`${r.field.canonicalString()} ${r.op} ${ji(r.value)}`}(t):t instanceof tn?function(r){return r.op.toString()+" {"+r.getFilters().map(b_).join(" ,")+"}"}(t):"Filter"}class NR extends ut{constructor(e,r,n){super(e,r,n),this.key=de.fromName(n.referenceValue)}matches(e){const r=de.comparator(e.key,this.key);return this.matchesComparison(r)}}class SR extends ut{constructor(e,r){super(e,"in",r),this.keys=__("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class RR extends ut{constructor(e,r){super(e,"not-in",r),this.keys=__("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function __(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>de.fromName(n.referenceValue))}class kR extends ut{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return n0(r)&&Oa(r.arrayValue,this.value)}}class jR extends ut{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Oa(this.value.arrayValue,r)}}class PR extends ut{constructor(e,r){super(e,"not-in",r)}matches(e){if(Oa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Oa(this.value.arrayValue,r)}}class DR extends ut{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!n0(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Oa(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,r=null,n=[],A=[],s=null,i=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=A,this.limit=s,this.startAt=i,this.endAt=a,this.ue=null}}function nv(t,e=null,r=[],n=[],A=null,s=null,i=null){return new LR(t,e,r,n,A,s,i)}function A0(t){const e=we(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>em(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Td(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ji(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ji(n)).join(",")),e.ue=r}return e.ue}function s0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!QR(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!E_(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rv(t.startAt,e.startAt)&&rv(t.endAt,e.endAt)}function tm(t){return de.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,r=null,n=[],A=[],s=null,i="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=A,this.limit=s,this.limitType=i,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function HR(t,e,r,n,A,s,i,a){return new Xi(t,e,r,n,A,s,i,a)}function Nd(t){return new Xi(t)}function Av(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function I_(t){return t.collectionGroup!==null}function ia(t){const e=we(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(i){let a=new Qt(It.comparator);return i.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Va(s,n))}),r.has(It.keyField().canonicalString())||e.ce.push(new Va(It.keyField(),n))}return e.ce}function mn(t){const e=we(t);return e.le||(e.le=MR(e,ia(t))),e.le}function MR(t,e){if(t.limitType==="F")return nv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(A=>{const s=A.dir==="desc"?"asc":"desc";return new Va(A.field,s)});const r=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return nv(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function rm(t,e){const r=t.filters.concat([e]);return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Pu(t,e,r){return new Xi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Sd(t,e){return s0(mn(t),mn(e))&&t.limitType===e.limitType}function U_(t){return`${A0(mn(t))}|lt:${t.limitType}`}function Js(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(A=>b_(A)).join(", ")}]`),Td(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(A=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(A)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(A=>ji(A)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(A=>ji(A)).join(",")),`Target(${n})`}(mn(t))}; limitType=${t.limitType})`}function Rd(t,e){return e.isFoundDocument()&&function(n,A){const s=A.key.path;return n.collectionGroup!==null?A.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):de.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,A){for(const s of ia(n))if(!s.field.isKeyField()&&A.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,A){for(const s of n.filters)if(!s.matches(A))return!1;return!0}(t,e)&&function(n,A){return!(n.startAt&&!function(i,a,l){const u=tv(i,a,l);return i.inclusive?u<=0:u<0}(n.startAt,ia(n),A)||n.endAt&&!function(i,a,l){const u=tv(i,a,l);return i.inclusive?u>=0:u>0}(n.endAt,ia(n),A))}(t,e)}function OR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function F_(t){return(e,r)=>{let n=!1;for(const A of ia(t)){const s=VR(A,e,r);if(s!==0)return s;n=n||A.field.isKeyField()}return 0}}function VR(t,e,r){const n=t.field.isKeyField()?de.comparator(e.key,r.key):function(s,i,a){const l=i.data.field(s),u=a.data.field(s);return l!==null&&u!==null?ki(l,u):me()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[A,s]of n)if(this.equalsFn(A,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),A=this.inner[n];if(A===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<A.length;s++)if(this.equalsFn(A[s][0],e))return void(A[s]=[e,r]);A.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let A=0;A<n.length;A++)if(this.equalsFn(n[A][0],e))return n.length===1?delete this.inner[r]:n.splice(A,1),this.innerSize--,!0;return!1}forEach(e){js(this.inner,(r,n)=>{for(const[A,s]of n)e(A,s)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Xe(de.comparator);function Wn(){return KR}const Q_=new Xe(de.comparator);function Do(...t){let e=Q_;for(const r of t)e=e.insert(r.key,r);return e}function T_(t){let e=Q_;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function us(){return oa()}function N_(){return oa()}function oa(){return new Yi(t=>t.toString(),(t,e)=>t.isEqual(e))}const GR=new Xe(de.comparator),zR=new Qt(de.comparator);function Ee(...t){let e=zR;for(const r of t)e=e.add(r);return e}const WR=new Qt(Qe);function $R(){return WR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ku(e)?"-0":e}}function S_(t){return{integerValue:""+t}}function qR(t,e){return bR(e)?S_(e):i0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(){this._=void 0}}function JR(t,e,r){return t instanceof Ka?function(A,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:A.seconds,nanos:A.nanoseconds}}}};return s&&t0(s)&&(s=r0(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(r,e):t instanceof Ga?k_(t,e):t instanceof za?j_(t,e):function(A,s){const i=R_(A,s),a=sv(i)+sv(A.Pe);return Zg(i)&&Zg(A.Pe)?S_(a):i0(A.serializer,a)}(t,e)}function XR(t,e,r){return t instanceof Ga?k_(t,e):t instanceof za?j_(t,e):r}function R_(t,e){return t instanceof Du?function(n){return Zg(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class Ka extends kd{}class Ga extends kd{constructor(e){super(),this.elements=e}}function k_(t,e){const r=P_(e);for(const n of t.elements)r.some(A=>wn(A,n))||r.push(n);return{arrayValue:{values:r}}}class za extends kd{constructor(e){super(),this.elements=e}}function j_(t,e){let r=P_(e);for(const n of t.elements)r=r.filter(A=>!wn(A,n));return{arrayValue:{values:r}}}class Du extends kd{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function sv(t){return it(t.integerValue||t.doubleValue)}function P_(t){return n0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,r){this.field=e,this.transform=r}}function ZR(t,e){return t.field.isEqual(e.field)&&function(n,A){return n instanceof Ga&&A instanceof Ga||n instanceof za&&A instanceof za?Ri(n.elements,A.elements,wn):n instanceof Du&&A instanceof Du?wn(n.Pe,A.Pe):n instanceof Ka&&A instanceof Ka}(t.transform,e.transform)}class ek{constructor(e,r){this.version=e,this.transformResults=r}}class Pr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Pr}static exists(e){return new Pr(void 0,e)}static updateTime(e){return new Pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class jd{}function D_(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new o0(t.key,Pr.none()):new cl(t.key,t.data,Pr.none());{const r=t.data,n=ir.empty();let A=new Qt(It.comparator);for(let s of e.fields)if(!A.has(s)){let i=r.field(s);i===null&&s.length>1&&(s=s.popLast(),i=r.field(s)),i===null?n.delete(s):n.set(s,i),A=A.add(s)}return new JA(t.key,n,new vr(A.toArray()),Pr.none())}}function tk(t,e,r){t instanceof cl?function(A,s,i){const a=A.value.clone(),l=ov(A.fieldTransforms,s,i.transformResults);a.setAll(l),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,r):t instanceof JA?function(A,s,i){if(!Jc(A.precondition,s))return void s.convertToUnknownDocument(i.version);const a=ov(A.fieldTransforms,s,i.transformResults),l=s.data;l.setAll(L_(A)),l.setAll(a),s.convertToFoundDocument(i.version,l).setHasCommittedMutations()}(t,e,r):function(A,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,r)}function aa(t,e,r,n){return t instanceof cl?function(s,i,a,l){if(!Jc(s.precondition,i))return a;const u=s.value.clone(),d=av(s.fieldTransforms,l,i);return u.setAll(d),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof JA?function(s,i,a,l){if(!Jc(s.precondition,i))return a;const u=av(s.fieldTransforms,l,i),d=i.data;return d.setAll(L_(s)),d.setAll(u),i.convertToFoundDocument(i.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,r,n):function(s,i,a){return Jc(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):a}(t,e,r)}function rk(t,e){let r=null;for(const n of t.fieldTransforms){const A=e.data.field(n.field),s=R_(n.transform,A||null);s!=null&&(r===null&&(r=ir.empty()),r.set(n.field,s))}return r||null}function iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,A){return n===void 0&&A===void 0||!(!n||!A)&&Ri(n,A,(s,i)=>ZR(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cl extends jd{constructor(e,r,n,A=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=A,this.type=0}getFieldMask(){return null}}class JA extends jd{constructor(e,r,n,A,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=A,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function L_(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function ov(t,e,r){const n=new Map;Re(t.length===r.length);for(let A=0;A<r.length;A++){const s=t[A],i=s.transform,a=e.data.field(s.field);n.set(s.field,XR(i,a,r[A]))}return n}function av(t,e,r){const n=new Map;for(const A of t){const s=A.transform,i=r.data.field(A.field);n.set(A.field,JR(s,i,e))}return n}class o0 extends jd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nk extends jd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,r,n,A){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=A}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let A=0;A<this.mutations.length;A++){const s=this.mutations[A];s.key.isEqual(e.key)&&tk(s,e,n[A])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=aa(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=aa(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=N_();return this.mutations.forEach(A=>{const s=e.get(A.key),i=s.overlayedDocument;let a=this.applyToLocalView(i,s.mutatedFields);a=r.has(A.key)?null:a;const l=D_(i,a);l!==null&&n.set(A.key,l),i.isValidDocument()||i.convertToNoDocument(pe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ee())}isEqual(e){return this.batchId===e.batchId&&Ri(this.mutations,e.mutations,(r,n)=>iv(r,n))&&Ri(this.baseMutations,e.baseMutations,(r,n)=>iv(r,n))}}class a0{constructor(e,r,n,A){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=A}static from(e,r,n){Re(e.mutations.length===n.length);let A=function(){return GR}();const s=e.mutations;for(let i=0;i<s.length;i++)A=A.insert(s[i].key,n[i].version);return new a0(e,r,n,A)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ie;function ok(t){switch(t){default:return me();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function H_(t){if(t===void 0)return zn("GRPC error has no .code"),O.UNKNOWN;switch(t){case at.OK:return O.OK;case at.CANCELLED:return O.CANCELLED;case at.UNKNOWN:return O.UNKNOWN;case at.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case at.INTERNAL:return O.INTERNAL;case at.UNAVAILABLE:return O.UNAVAILABLE;case at.UNAUTHENTICATED:return O.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case at.NOT_FOUND:return O.NOT_FOUND;case at.ALREADY_EXISTS:return O.ALREADY_EXISTS;case at.PERMISSION_DENIED:return O.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case at.ABORTED:return O.ABORTED;case at.OUT_OF_RANGE:return O.OUT_OF_RANGE;case at.UNIMPLEMENTED:return O.UNIMPLEMENTED;case at.DATA_LOSS:return O.DATA_LOSS;default:return me()}}(Ie=at||(at={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=new ms([4294967295,4294967295],0);function lv(t){const e=ak().encode(t),r=new c_;return r.update(e),new Uint8Array(r.digest())}function cv(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),A=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ms([r,n],0),new ms([A,s],0)]}class l0{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Lo(`Invalid padding: ${r}`);if(n<0)throw new Lo(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Lo(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Lo(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=ms.fromNumber(this.Ie)}Ee(e,r,n){let A=e.add(r.multiply(ms.fromNumber(n)));return A.compare(lk)===1&&(A=new ms([A.getBits(0),A.getBits(1)],0)),A.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=lv(e),[n,A]=cv(r);for(let s=0;s<this.hashCount;s++){const i=this.Ee(n,A,s);if(!this.de(i))return!1}return!0}static create(e,r,n){const A=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),i=new l0(s,A,r);return n.forEach(a=>i.insert(a)),i}insert(e){if(this.Ie===0)return;const r=lv(e),[n,A]=cv(r);for(let s=0;s<this.hashCount;s++){const i=this.Ee(n,A,s);this.Ae(i)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Lo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,r,n,A,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=A,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const A=new Map;return A.set(e,ul.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Pd(pe.min(),A,new Xe(Qe),Wn(),Ee())}}class ul{constructor(e,r,n,A,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=A,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ul(n,r,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,r,n,A){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=A}}class M_{constructor(e,r){this.targetId=e,this.me=r}}class O_{constructor(e,r,n=St.EMPTY_BYTE_STRING,A=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=A}}class uv{constructor(){this.fe=0,this.ge=hv(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ee(),r=Ee(),n=Ee();return this.ge.forEach((A,s)=>{switch(s){case 0:e=e.add(A);break;case 2:r=r.add(A);break;case 1:n=n.add(A);break;default:me()}}),new ul(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=hv()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ck{constructor(e){this.Le=e,this.Be=new Map,this.ke=Wn(),this.qe=dv(),this.Qe=new Xe(Qe)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:me()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,A)=>{this.ze(A)&&r(A)})}He(e){const r=e.targetId,n=e.me.count,A=this.Je(r);if(A){const s=A.target;if(tm(s))if(n===0){const i=new de(s.path);this.Ue(r,i,Kt.newNoDocument(i,pe.min()))}else Re(n===1);else{const i=this.Ye(r);if(i!==n){const a=this.Ze(e),l=a?this.Xe(a,e,i):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:A=0},hashCount:s=0}=r;let i,a;try{i=Fs(n).toUint8Array()}catch(l){if(l instanceof y_)return Si("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new l0(i,A,s)}catch(l){return Si(l instanceof Lo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let A=0;return n.forEach(s=>{const i=this.Le.tt(),a=`projects/${i.projectId}/databases/${i.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,s,null),A++)}),A}rt(e){const r=new Map;this.Be.forEach((s,i)=>{const a=this.Je(i);if(a){if(s.current&&tm(a.target)){const l=new de(a.target.path);this.ke.get(l)!==null||this.it(i,l)||this.Ue(i,l,Kt.newNoDocument(l,e))}s.be&&(r.set(i,s.ve()),s.Ce())}});let n=Ee();this.qe.forEach((s,i)=>{let a=!0;i.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(s))}),this.ke.forEach((s,i)=>i.setReadTime(e));const A=new Pd(e,r,this.Qe,this.ke,n);return this.ke=Wn(),this.qe=dv(),this.Qe=new Xe(Qe),A}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const A=this.Ge(e);this.it(e,r)?A.Fe(r,1):A.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new uv,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new Qt(Qe),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||ce("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new uv),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function dv(){return new Xe(de.comparator)}function hv(){return new Xe(de.comparator)}const uk={asc:"ASCENDING",desc:"DESCENDING"},dk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hk={and:"AND",or:"OR"};class fk{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function nm(t,e){return t.useProto3Json||Td(e)?e:{value:e}}function Lu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V_(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function gk(t,e){return Lu(t,e.toTimestamp())}function pn(t){return Re(!!t),pe.fromTimestamp(function(r){const n=HA(r);return new pt(n.seconds,n.nanos)}(t))}function c0(t,e){return Am(t,e).canonicalString()}function Am(t,e){const r=function(A){return new Oe(["projects",A.projectId,"databases",A.database])}(t).child("documents");return e===void 0?r:r.child(e)}function K_(t){const e=Oe.fromString(t);return Re(q_(e)),e}function sm(t,e){return c0(t.databaseId,e.path)}function ff(t,e){const r=K_(e);if(r.get(1)!==t.databaseId.projectId)throw new ie(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ie(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new de(z_(r))}function G_(t,e){return c0(t.databaseId,e)}function mk(t){const e=K_(t);return e.length===4?Oe.emptyPath():z_(e)}function im(t){return new Oe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function z_(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function fv(t,e,r){return{name:sm(t,e),fields:r.value.mapValue.fields}}function pk(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),A=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Re(d===void 0||typeof d=="string"),St.fromBase64String(d||"")):(Re(d===void 0||d instanceof Buffer||d instanceof Uint8Array),St.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),i=e.targetChange.cause,a=i&&function(u){const d=u.code===void 0?O.UNKNOWN:H_(u.code);return new ie(d,u.message||"")}(i);r=new O_(n,A,s,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const A=ff(t,n.document.name),s=pn(n.document.updateTime),i=n.document.createTime?pn(n.document.createTime):pe.min(),a=new ir({mapValue:{fields:n.document.fields}}),l=Kt.newFoundDocument(A,s,i,a),u=n.targetIds||[],d=n.removedTargetIds||[];r=new Xc(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const A=ff(t,n.document),s=n.readTime?pn(n.readTime):pe.min(),i=Kt.newNoDocument(A,s),a=n.removedTargetIds||[];r=new Xc([],a,i.key,i)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const A=ff(t,n.document),s=n.removedTargetIds||[];r=new Xc([],s,A,null)}else{if(!("filter"in e))return me();{e.filter;const n=e.filter;n.targetId;const{count:A=0,unchangedNames:s}=n,i=new ik(A,s),a=n.targetId;r=new M_(a,i)}}return r}function wk(t,e){let r;if(e instanceof cl)r={update:fv(t,e.key,e.value)};else if(e instanceof o0)r={delete:sm(t,e.key)};else if(e instanceof JA)r={update:fv(t,e.key,e.data),updateMask:Ik(e.fieldMask)};else{if(!(e instanceof nk))return me();r={verify:sm(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,i){const a=i.transform;if(a instanceof Ka)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ga)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof za)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Du)return{fieldPath:i.field.canonicalString(),increment:a.Pe};throw me()}(0,n))),e.precondition.isNone||(r.currentDocument=function(A,s){return s.updateTime!==void 0?{updateTime:gk(A,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:me()}(t,e.precondition)),r}function yk(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(r=>function(A,s){let i=A.updateTime?pn(A.updateTime):pn(s);return i.isEqual(pe.min())&&(i=pn(s)),new ek(i,A.transformResults||[])}(r,e))):[]}function Bk(t,e){return{documents:[G_(t,e.path)]}}function vk(t,e){const r={structuredQuery:{}},n=e.path;let A;e.collectionGroup!==null?(A=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(A=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=G_(t,A);const s=function(u){if(u.length!==0)return $_(tn.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(d=>function(f){return{field:Xs(f.field),direction:Ek(f.dir)}}(d))}(e.orderBy);i&&(r.structuredQuery.orderBy=i);const a=nm(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:A}}function xk(t){let e=mk(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let A=null;if(n>0){Re(n===1);const d=r.from[0];d.allDescendants?A=d.collectionId:e=e.child(d.collectionId)}let s=[];r.where&&(s=function(h){const f=W_(h);return f instanceof tn&&C_(f)?f.getFilters():[f]}(r.where));let i=[];r.orderBy&&(i=function(h){return h.map(f=>function(v){return new Va(Ys(v.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(v.direction))}(f))}(r.orderBy));let a=null;r.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Td(f)?null:f}(r.limit));let l=null;r.startAt&&(l=function(h){const f=!!h.before,w=h.values||[];return new ju(w,f)}(r.startAt));let u=null;return r.endAt&&(u=function(h){const f=!h.before,w=h.values||[];return new ju(w,f)}(r.endAt)),HR(e,A,i,s,a,"F",l,u)}function Ck(t,e){const r=function(A){switch(A){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function W_(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Ys(r.unaryFilter.field);return ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const A=Ys(r.unaryFilter.field);return ut.create(A,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(r.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ys(r.unaryFilter.field);return ut.create(i,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(r){return ut.create(Ys(r.fieldFilter.field),function(A){switch(A){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return tn.create(r.compositeFilter.filters.map(n=>W_(n)),function(A){switch(A){case"AND":return"and";case"OR":return"or";default:return me()}}(r.compositeFilter.op))}(t):me()}function Ek(t){return uk[t]}function bk(t){return dk[t]}function _k(t){return hk[t]}function Xs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return It.fromServerFormat(t.fieldPath)}function $_(t){return t instanceof ut?function(r){if(r.op==="=="){if(ev(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NAN"}};if(ZB(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(ev(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NOT_NAN"}};if(ZB(r.value))return{unaryFilter:{field:Xs(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xs(r.field),op:bk(r.op),value:r.value}}}(t):t instanceof tn?function(r){const n=r.getFilters().map(A=>$_(A));return n.length===1?n[0]:{compositeFilter:{op:_k(r.op),filters:n}}}(t):me()}function Ik(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function q_(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,r,n,A,s=pe.min(),i=pe.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=A,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=i,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new wA(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new wA(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wA(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.ct=e}}function Fk(t){const e=xk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.un=new Tk}addToCollectionParentIndex(e,r){return this.un.add(r),G.resolve()}getCollectionParents(e,r){return G.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return G.resolve()}deleteFieldIndex(e,r){return G.resolve()}deleteAllFieldIndexes(e){return G.resolve()}createTargetIndexes(e,r){return G.resolve()}getDocumentsMatchingTarget(e,r){return G.resolve(null)}getIndexType(e,r){return G.resolve(0)}getFieldIndexes(e,r){return G.resolve([])}getNextCollectionGroupToUpdate(e){return G.resolve(null)}getMinOffset(e,r){return G.resolve(LA.min())}getMinOffsetFromCollectionGroup(e,r){return G.resolve(LA.min())}updateCollectionGroup(e,r,n){return G.resolve()}updateIndexEntries(e,r){return G.resolve()}}class Tk{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),A=this.index[r]||new Qt(Oe.comparator),s=!A.has(n);return this.index[r]=A.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),A=this.index[r];return A&&A.has(n)}getEntries(e){return(this.index[e]||new Qt(Oe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Pi(0)}static kn(){return new Pi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.changes=new Yi(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?G.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,r,n,A){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=A}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(A=>(n=A,this.remoteDocumentCache.getEntry(e,r))).next(A=>(n!==null&&aa(n.mutation,A,vr.empty(),pt.now()),A))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ee()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ee()){const A=us();return this.populateOverlays(e,A,r).next(()=>this.computeViews(e,r,A,n).next(s=>{let i=Do();return s.forEach((a,l)=>{i=i.insert(a,l.overlayedDocument)}),i}))}getOverlayedDocuments(e,r){const n=us();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ee()))}populateOverlays(e,r,n){const A=[];return n.forEach(s=>{r.has(s)||A.push(s)}),this.documentOverlayCache.getOverlays(e,A).next(s=>{s.forEach((i,a)=>{r.set(i,a)})})}computeViews(e,r,n,A){let s=Wn();const i=oa(),a=function(){return oa()}();return r.forEach((l,u)=>{const d=n.get(u.key);A.has(u.key)&&(d===void 0||d.mutation instanceof JA)?s=s.insert(u.key,u):d!==void 0?(i.set(u.key,d.mutation.getFieldMask()),aa(d.mutation,u,d.mutation.getFieldMask(),pt.now())):i.set(u.key,vr.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>i.set(u,d)),r.forEach((u,d)=>{var h;return a.set(u,new Sk(d,(h=i.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,r){const n=oa();let A=new Xe((i,a)=>i-a),s=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(i=>{for(const a of i)a.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||vr.empty();d=a.applyToLocalView(u,d),n.set(l,d);const h=(A.get(a.batchId)||Ee()).add(l);A=A.insert(a.batchId,h)})}).next(()=>{const i=[],a=A.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,d=l.value,h=N_();d.forEach(f=>{if(!s.has(f)){const w=D_(r.get(f),n.get(f));w!==null&&h.set(f,w),s=s.add(f)}}),i.push(this.documentOverlayCache.saveOverlays(e,u,h))}return G.waitFor(i)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,A){return function(i){return de.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):I_(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,A):this.getDocumentsMatchingCollectionQuery(e,r,n,A)}getNextDocuments(e,r,n,A){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,A).next(s=>{const i=A-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,A-s.size):G.resolve(us());let a=-1,l=s;return i.next(u=>G.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?G.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Ee())).next(d=>({batchId:a,changes:T_(d)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new de(r)).next(n=>{let A=Do();return n.isFoundDocument()&&(A=A.insert(n.key,n)),A})}getDocumentsMatchingCollectionGroupQuery(e,r,n,A){const s=r.collectionGroup;let i=Do();return this.indexManager.getCollectionParents(e,s).next(a=>G.forEach(a,l=>{const u=function(h,f){return new Xi(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,A).next(d=>{d.forEach((h,f)=>{i=i.insert(h,f)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,r,n,A){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,A))).next(i=>{s.forEach((l,u)=>{const d=u.getKey();i.get(d)===null&&(i=i.insert(d,Kt.newInvalidDocument(d)))});let a=Do();return i.forEach((l,u)=>{const d=s.get(l);d!==void 0&&aa(d.mutation,u,vr.empty(),pt.now()),Rd(r,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return G.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(A){return{id:A.id,version:A.version,createTime:pn(A.createTime)}}(r)),G.resolve()}getNamedQuery(e,r){return G.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(A){return{name:A.name,query:Fk(A.bundledQuery),readTime:pn(A.readTime)}}(r)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(){this.overlays=new Xe(de.comparator),this.Ir=new Map}getOverlay(e,r){return G.resolve(this.overlays.get(r))}getOverlays(e,r){const n=us();return G.forEach(r,A=>this.getOverlay(e,A).next(s=>{s!==null&&n.set(A,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((A,s)=>{this.ht(e,r,s)}),G.resolve()}removeOverlaysForBatchId(e,r,n){const A=this.Ir.get(n);return A!==void 0&&(A.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),G.resolve()}getOverlaysForCollection(e,r,n){const A=us(),s=r.length+1,i=new de(r.child("")),a=this.overlays.getIteratorFrom(i);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&A.set(l.getKey(),l)}return G.resolve(A)}getOverlaysForCollectionGroup(e,r,n,A){let s=new Xe((u,d)=>u-d);const i=this.overlays.getIterator();for(;i.hasNext();){const u=i.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=us(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=us(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=A)););return G.resolve(a)}ht(e,r,n){const A=this.overlays.get(n.key);if(A!==null){const i=this.Ir.get(A.largestBatchId).delete(n.key);this.Ir.set(A.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new sk(r,n));let s=this.Ir.get(r);s===void 0&&(s=Ee(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return G.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(){this.Tr=new Qt(yt.Er),this.dr=new Qt(yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new yt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new yt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new de(new Oe([])),n=new yt(r,e),A=new yt(r,e+1),s=[];return this.dr.forEachInRange([n,A],i=>{this.Vr(i),s.push(i.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new de(new Oe([])),n=new yt(r,e),A=new yt(r,e+1);let s=Ee();return this.dr.forEachInRange([n,A],i=>{s=s.add(i.key)}),s}containsKey(e){const r=new yt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class yt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return de.comparator(e.key,r.key)||Qe(e.wr,r.wr)}static Ar(e,r){return Qe(e.wr,r.wr)||de.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new Qt(yt.Er)}checkEmpty(e){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,A){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const i=new Ak(s,r,n,A);this.mutationQueue.push(i);for(const a of A)this.br=this.br.add(new yt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return G.resolve(i)}lookupMutationBatch(e,r){return G.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,A=this.vr(n),s=A<0?0:A;return G.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new yt(r,0),A=new yt(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,A],i=>{const a=this.Dr(i.wr);s.push(a)}),G.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Qt(Qe);return r.forEach(A=>{const s=new yt(A,0),i=new yt(A,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,i],a=>{n=n.add(a.wr)})}),G.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,A=n.length+1;let s=n;de.isDocumentKey(s)||(s=s.child(""));const i=new yt(new de(s),0);let a=new Qt(Qe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===A&&(a=a.add(l.wr)),!0)},i),G.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const A=this.Dr(n);A!==null&&r.push(A)}),r}removeMutationBatch(e,r){Re(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return G.forEach(r.mutations,A=>{const s=new yt(A.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,A.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new yt(r,0),A=this.br.firstAfterOrEqual(n);return G.resolve(r.isEqual(A&&A.key))}performConsistencyCheck(e){return this.mutationQueue.length,G.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(e){this.Mr=e,this.docs=function(){return new Xe(de.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,A=this.docs.get(n),s=A?A.size:0,i=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:i}),this.size+=i-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return G.resolve(n?n.document.mutableCopy():Kt.newInvalidDocument(r))}getEntries(e,r){let n=Wn();return r.forEach(A=>{const s=this.docs.get(A);n=n.insert(A,s?s.document.mutableCopy():Kt.newInvalidDocument(A))}),G.resolve(n)}getDocumentsMatchingQuery(e,r,n,A){let s=Wn();const i=r.path,a=new de(i.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!i.isPrefixOf(u.path))break;u.path.length>i.length+1||vR(BR(d),n)<=0||(A.has(d.key)||Rd(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return G.resolve(s)}getAllFromCollectionGroup(e,r,n,A){me()}Or(e,r){return G.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new Hk(this)}getSize(e){return G.resolve(this.size)}}class Hk extends Nk{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,A)=>{A.isValidDocument()?r.push(this.cr.addEntry(e,A)):this.cr.removeEntry(n)}),G.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.persistence=e,this.Nr=new Yi(r=>A0(r),s0),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new u0,this.targetCount=0,this.kr=Pi.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,A)=>r(A)),G.resolve()}getLastRemoteSnapshotVersion(e){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return G.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),G.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Pi(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,G.resolve()}updateTargetData(e,r){return this.Kn(r),G.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,G.resolve()}removeTargets(e,r,n){let A=0;const s=[];return this.Nr.forEach((i,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(i),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),A++)}),G.waitFor(s).next(()=>A)}getTargetCount(e){return G.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return G.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),G.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const A=this.persistence.referenceDelegate,s=[];return A&&r.forEach(i=>{s.push(A.markPotentiallyOrphaned(e,i))}),G.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),G.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return G.resolve(n)}containsKey(e,r){return G.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,r){this.qr={},this.overlays={},this.Qr=new e0(0),this.Kr=!1,this.Kr=!0,this.$r=new Pk,this.referenceDelegate=e(this),this.Ur=new Mk(this),this.indexManager=new Qk,this.remoteDocumentCache=function(A){return new Lk(A)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new Uk(r),this.Gr=new kk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new jk,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new Dk(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){ce("MemoryPersistence","Starting transaction:",e);const A=new Vk(this.Qr.next());return this.referenceDelegate.zr(),n(A).next(s=>this.referenceDelegate.jr(A).next(()=>s)).toPromise().then(s=>(A.raiseOnCommittedEvent(),s))}Hr(e,r){return G.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class Vk extends CR{constructor(e){super(),this.currentSequenceNumber=e}}class d0{constructor(e){this.persistence=e,this.Jr=new u0,this.Yr=null}static Zr(e){return new d0(e)}get Xr(){if(this.Yr)return this.Yr;throw me()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),G.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),G.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),G.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(A=>this.Xr.add(A.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(A=>{A.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.Xr,n=>{const A=de.fromPath(n);return this.ei(e,A).next(s=>{s||r.removeEntry(A,pe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return G.or([()=>G.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,r,n,A){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=A}static Wi(e,r){let n=Ee(),A=Ee();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:A=A.add(s.doc.key)}return new h0(e,r.fromCache,n,A)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return S2()?8:ER(qt())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,A){const s={result:null};return this.Yi(e,r).next(i=>{s.result=i}).next(()=>{if(!s.result)return this.Zi(e,r,A,n).next(i=>{s.result=i})}).next(()=>{if(s.result)return;const i=new Kk;return this.Xi(e,r,i).next(a=>{if(s.result=a,this.zi)return this.es(e,r,i,a.size)})}).next(()=>s.result)}es(e,r,n,A){return n.documentReadCount<this.ji?(Co()<=_e.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",Js(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),G.resolve()):(Co()<=_e.DEBUG&&ce("QueryEngine","Query:",Js(r),"scans",n.documentReadCount,"local documents and returns",A,"documents as results."),n.documentReadCount>this.Hi*A?(Co()<=_e.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",Js(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mn(r))):G.resolve())}Yi(e,r){if(Av(r))return G.resolve(null);let n=mn(r);return this.indexManager.getIndexType(e,n).next(A=>A===0?null:(r.limit!==null&&A===1&&(r=Pu(r,null,"F"),n=mn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const i=Ee(...s);return this.Ji.getDocuments(e,i).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,a);return this.ns(r,u,i,l.readTime)?this.Yi(e,Pu(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,A){return Av(r)||A.isEqual(pe.min())?G.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const i=this.ts(r,s);return this.ns(r,i,n,A)?G.resolve(null):(Co()<=_e.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",A.toString(),Js(r)),this.rs(e,i,r,yR(A,-1)).next(a=>a))})}ts(e,r){let n=new Qt(F_(e));return r.forEach((A,s)=>{Rd(e,s)&&(n=n.add(s))}),n}ns(e,r,n,A){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(A)>0)}Xi(e,r,n){return Co()<=_e.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",Js(r)),this.Ji.getDocumentsMatchingQuery(e,r,LA.min(),n)}rs(e,r,n,A){return this.Ji.getDocumentsMatchingQuery(e,n,A).next(s=>(r.forEach(i=>{s=s.insert(i.key,i)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,r,n,A){this.persistence=e,this.ss=r,this.serializer=A,this.os=new Xe(Qe),this._s=new Yi(s=>A0(s),s0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function Wk(t,e,r,n){return new zk(t,e,r,n)}async function J_(t,e){const r=we(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let A;return r.mutationQueue.getAllMutationBatches(n).next(s=>(A=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const i=[],a=[];let l=Ee();for(const u of A){i.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:i,addedBatchIds:a}))})})}function $k(t,e){const r=we(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const A=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){const h=u.batch,f=h.keys();let w=G.resolve();return f.forEach(v=>{w=w.next(()=>d.getEntry(l,v)).next(_=>{const Q=u.docVersions.get(v);Re(Q!==null),_.version.compareTo(Q)<0&&(h.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),d.addEntry(_)))})}),w.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,A,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Ee();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,A))})}function X_(t){const e=we(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function qk(t,e){const r=we(t),n=e.snapshotVersion;let A=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const i=r.cs.newChangeBuffer({trackRemovals:!0});A=r.os;const a=[];e.targetChanges.forEach((d,h)=>{const f=A.get(h);if(!f)return;a.push(r.Ur.removeMatchingKeys(s,d.removedDocuments,h).next(()=>r.Ur.addMatchingKeys(s,d.addedDocuments,h)));let w=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?w=w.withResumeToken(St.EMPTY_BYTE_STRING,pe.min()).withLastLimboFreeSnapshotVersion(pe.min()):d.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(d.resumeToken,n)),A=A.insert(h,w),function(_,Q,B){return _.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(f,w,d)&&a.push(r.Ur.updateTargetData(s,w))});let l=Wn(),u=Ee();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(Jk(s,i,e.documentUpdates).next(d=>{l=d.Ps,u=d.Is})),!n.isEqual(pe.min())){const d=r.Ur.getLastRemoteSnapshotVersion(s).next(h=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));a.push(d)}return G.waitFor(a).next(()=>i.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.os=A,s))}function Jk(t,e,r){let n=Ee(),A=Ee();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let i=Wn();return r.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(A=A.add(a)),l.isNoDocument()&&l.version.isEqual(pe.min())?(e.removeEntry(a,l.readTime),i=i.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),i=i.insert(a,l)):ce("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:i,Is:A}})}function Xk(t,e){const r=we(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function Yk(t,e){const r=we(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let A;return r.Ur.getTargetData(n,e).next(s=>s?(A=s,G.resolve(A)):r.Ur.allocateTargetId(n).next(i=>(A=new wA(e,i,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,A).next(()=>A))))}).then(n=>{const A=r.os.get(n.targetId);return(A===null||n.snapshotVersion.compareTo(A.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function om(t,e,r){const n=we(t),A=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,i=>n.persistence.referenceDelegate.removeTarget(i,A))}catch(i){if(!ll(i))throw i;ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${i}`)}n.os=n.os.remove(e),n._s.delete(A.target)}function gv(t,e,r){const n=we(t);let A=pe.min(),s=Ee();return n.persistence.runTransaction("Execute query","readwrite",i=>function(l,u,d){const h=we(l),f=h._s.get(d);return f!==void 0?G.resolve(h.os.get(f)):h.Ur.getTargetData(u,d)}(n,i,mn(e)).next(a=>{if(a)return A=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(i,a.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(i,e,r?A:pe.min(),r?s:Ee())).next(a=>(Zk(n,OR(e),a),{documents:a,Ts:s})))}function Zk(t,e,r){let n=t.us.get(e)||pe.min();r.forEach((A,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class mv{constructor(){this.activeTargetIds=$R()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ej{constructor(){this.so=new mv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mv,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function gf(){return Ac===null?Ac=function(){return 268435456+Math.round(2147483648*Math.random())}():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class Aj extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",A=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${A}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${A}`:`project_id=${A}&database_id=${s}`}get Fo(){return!1}Mo(r,n,A,s,i){const a=gf(),l=this.xo(r,n.toUriEncodedString());ce("RestConnection",`Sending RPC '${r}' ${a}:`,l,A);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,i),this.No(r,l,u,A).then(d=>(ce("RestConnection",`Received RPC '${r}' ${a}: `,d),d),d=>{throw Si("RestConnection",`RPC '${r}' ${a} failed with error: `,d,"url: ",l,"request:",A),d})}Lo(r,n,A,s,i,a){return this.Mo(r,n,A,s,i)}Oo(r,n,A){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ji}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>r[i]=s),A&&A.headers.forEach((s,i)=>r[i]=s)}xo(r,n){const A=rj[r];return`${this.Do}/v1/${n}:${A}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,A){const s=gf();return new Promise((i,a)=>{const l=new u_;l.setWithCredentials(!0),l.listenOnce(d_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case $c.NO_ERROR:const d=l.getResponseJson();ce(Lt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),i(d);break;case $c.TIMEOUT:ce(Lt,`RPC '${e}' ${s} timed out`),a(new ie(O.DEADLINE_EXCEEDED,"Request time out"));break;case $c.HTTP_ERROR:const h=l.getStatus();if(ce(Lt,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const w=f==null?void 0:f.error;if(w&&w.status&&w.message){const v=function(Q){const B=Q.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(B)>=0?B:O.UNKNOWN}(w.status);a(new ie(v,w.message))}else a(new ie(O.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(O.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{ce(Lt,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(A);ce(Lt,`RPC '${e}' ${s} sending request:`,A),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const A=gf(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=g_(),a=f_(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=s.join("");ce(Lt,`Creating RPC '${e}' stream ${A}: ${d}`,l);const h=i.createWebChannel(d,l);let f=!1,w=!1;const v=new nj({Io:Q=>{w?ce(Lt,`Not sending because RPC '${e}' stream ${A} is closed:`,Q):(f||(ce(Lt,`Opening RPC '${e}' stream ${A} transport.`),h.open(),f=!0),ce(Lt,`RPC '${e}' stream ${A} sending:`,Q),h.send(Q))},To:()=>h.close()}),_=(Q,B,m)=>{Q.listen(B,y=>{try{m(y)}catch(C){setTimeout(()=>{throw C},0)}})};return _(h,Po.EventType.OPEN,()=>{w||(ce(Lt,`RPC '${e}' stream ${A} transport opened.`),v.yo())}),_(h,Po.EventType.CLOSE,()=>{w||(w=!0,ce(Lt,`RPC '${e}' stream ${A} transport closed`),v.So())}),_(h,Po.EventType.ERROR,Q=>{w||(w=!0,Si(Lt,`RPC '${e}' stream ${A} transport errored:`,Q),v.So(new ie(O.UNAVAILABLE,"The operation could not be completed")))}),_(h,Po.EventType.MESSAGE,Q=>{var B;if(!w){const m=Q.data[0];Re(!!m);const y=m,C=y.error||((B=y[0])===null||B===void 0?void 0:B.error);if(C){ce(Lt,`RPC '${e}' stream ${A} received error:`,C);const F=C.status;let T=function(I){const b=at[I];if(b!==void 0)return H_(b)}(F),E=C.message;T===void 0&&(T=O.INTERNAL,E="Unknown error status: "+F+" with message "+C.message),w=!0,v.So(new ie(T,E)),h.close()}else ce(Lt,`RPC '${e}' stream ${A} received:`,m),v.bo(m)}}),_(a,h_.STAT_EVENT,Q=>{Q.stat===Xg.PROXY?ce(Lt,`RPC '${e}' stream ${A} detected buffering proxy`):Q.stat===Xg.NOPROXY&&ce(Lt,`RPC '${e}' stream ${A} detected no buffering proxy`)}),setTimeout(()=>{v.wo()},0),v}}function mf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t){return new fk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,r,n=1e3,A=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=A,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),A=Math.max(0,r-n);A>0&&ce("ExponentialBackoff",`Backing off for ${A} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,A,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_{constructor(e,r,n,A,s,i,a,l){this.ui=e,this.Ho=n,this.Jo=A,this.connection=s,this.authCredentialsProvider=i,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Y_(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===O.RESOURCE_EXHAUSTED?(zn(r.toString()),zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,A])=>{this.Yo===r&&this.P_(n,A)},n=>{e(()=>{const A=new ie(O.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(A)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(A=>{n(()=>this.I_(A))}),this.stream.onMessage(A=>{n(()=>++this.e_==1?this.E_(A):this.onNext(A))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sj extends Z_{constructor(e,r,n,A,s,i){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,A,i),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=pk(this.serializer,e),n=function(s){if(!("targetChange"in s))return pe.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?pe.min():i.readTime?pn(i.readTime):pe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=im(this.serializer),r.addTarget=function(s,i){let a;const l=i.target;if(a=tm(l)?{documents:Bk(s,l)}:{query:vk(s,l)._t},a.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){a.resumeToken=V_(s,i.resumeToken);const u=nm(s,i.expectedCount);u!==null&&(a.expectedCount=u)}else if(i.snapshotVersion.compareTo(pe.min())>0){a.readTime=Lu(s,i.snapshotVersion.toTimestamp());const u=nm(s,i.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const n=Ck(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=im(this.serializer),r.removeTarget=e,this.a_(r)}}class ij extends Z_{constructor(e,r,n,A,s,i){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,A,i),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=yk(e.writeResults,e.commitTime),n=pn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=im(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>wk(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj extends class{}{constructor(e,r,n,A){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=A,this.y_=!1}w_(){if(this.y_)throw new ie(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,A){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Mo(e,Am(r,n),A,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(O.UNKNOWN,s.toString())})}Lo(e,r,n,A,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Lo(e,Am(r,n),A,i,a,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(O.UNKNOWN,i.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aj{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zn(r),this.D_=!1):ce("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj{constructor(e,r,n,A,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(i=>{n.enqueueAndForget(async()=>{Ps(this)&&(ce("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=we(l);u.L_.add(4),await dl(u),u.q_.set("Unknown"),u.L_.delete(4),await Ld(u)}(this))})}),this.q_=new aj(n,A)}}async function Ld(t){if(Ps(t))for(const e of t.B_)await e(!0)}async function dl(t){for(const e of t.B_)await e(!1)}function eI(t,e){const r=we(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),p0(r)?m0(r):Zi(r).r_()&&g0(r,e))}function f0(t,e){const r=we(t),n=Zi(r);r.N_.delete(e),n.r_()&&tI(r,e),r.N_.size===0&&(n.r_()?n.o_():Ps(r)&&r.q_.set("Unknown"))}function g0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Zi(t).A_(e)}function tI(t,e){t.Q_.xe(e),Zi(t).R_(e)}function m0(t){t.Q_=new ck({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Zi(t).start(),t.q_.v_()}function p0(t){return Ps(t)&&!Zi(t).n_()&&t.N_.size>0}function Ps(t){return we(t).L_.size===0}function rI(t){t.Q_=void 0}async function cj(t){t.q_.set("Online")}async function uj(t){t.N_.forEach((e,r)=>{g0(t,e)})}async function dj(t,e){rI(t),p0(t)?(t.q_.M_(e),m0(t)):t.q_.set("Unknown")}async function hj(t,e,r){if(t.q_.set("Online"),e instanceof O_&&e.state===2&&e.cause)try{await async function(A,s){const i=s.cause;for(const a of s.targetIds)A.N_.has(a)&&(await A.remoteSyncer.rejectListen(a,i),A.N_.delete(a),A.Q_.removeTarget(a))}(t,e)}catch(n){ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Hu(t,n)}else if(e instanceof Xc?t.Q_.Ke(e):e instanceof M_?t.Q_.He(e):t.Q_.We(e),!r.isEqual(pe.min()))try{const n=await X_(t.localStore);r.compareTo(n)>=0&&await function(s,i){const a=s.Q_.rt(i);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(l.resumeToken,i))}}),a.targetMismatches.forEach((l,u)=>{const d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(St.EMPTY_BYTE_STRING,d.snapshotVersion)),tI(s,l);const h=new wA(d.target,l,u,d.sequenceNumber);g0(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){ce("RemoteStore","Failed to raise snapshot:",n),await Hu(t,n)}}async function Hu(t,e,r){if(!ll(e))throw e;t.L_.add(1),await dl(t),t.q_.set("Offline"),r||(r=()=>X_(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ce("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Ld(t)})}function nI(t,e){return e().catch(r=>Hu(t,r,e))}async function Hd(t){const e=we(t),r=MA(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fj(e);)try{const A=await Xk(e.localStore,n);if(A===null){e.O_.length===0&&r.o_();break}n=A.batchId,gj(e,A)}catch(A){await Hu(e,A)}AI(e)&&sI(e)}function fj(t){return Ps(t)&&t.O_.length<10}function gj(t,e){t.O_.push(e);const r=MA(t);r.r_()&&r.V_&&r.m_(e.mutations)}function AI(t){return Ps(t)&&!MA(t).n_()&&t.O_.length>0}function sI(t){MA(t).start()}async function mj(t){MA(t).p_()}async function pj(t){const e=MA(t);for(const r of t.O_)e.m_(r.mutations)}async function wj(t,e,r){const n=t.O_.shift(),A=a0.from(n,e,r);await nI(t,()=>t.remoteSyncer.applySuccessfulWrite(A)),await Hd(t)}async function yj(t,e){e&&MA(t).V_&&await async function(n,A){if(function(i){return ok(i)&&i!==O.ABORTED}(A.code)){const s=n.O_.shift();MA(n).s_(),await nI(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,A)),await Hd(n)}}(t,e),AI(t)&&sI(t)}async function wv(t,e){const r=we(t);r.asyncQueue.verifyOperationInProgress(),ce("RemoteStore","RemoteStore received new credentials");const n=Ps(r);r.L_.add(3),await dl(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Ld(r)}async function Bj(t,e){const r=we(t);e?(r.L_.delete(2),await Ld(r)):e||(r.L_.add(2),await dl(r),r.q_.set("Unknown"))}function Zi(t){return t.K_||(t.K_=function(r,n,A){const s=we(r);return s.w_(),new sj(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,A)}(t.datastore,t.asyncQueue,{Eo:cj.bind(null,t),Ro:uj.bind(null,t),mo:dj.bind(null,t),d_:hj.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),p0(t)?m0(t):t.q_.set("Unknown")):(await t.K_.stop(),rI(t))})),t.K_}function MA(t){return t.U_||(t.U_=function(r,n,A){const s=we(r);return s.w_(),new ij(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,A)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mj.bind(null,t),mo:yj.bind(null,t),f_:pj.bind(null,t),g_:wj.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Hd(t)):(await t.U_.stop(),t.O_.length>0&&(ce("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,r,n,A,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=A,this.removalCallback=s,this.deferred=new Dn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(i=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,A,s){const i=Date.now()+n,a=new w0(e,r,i,A,s);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ie(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function y0(t,e){if(zn("AsyncQueue",`${e}: ${t}`),ll(t))return new ie(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(e){this.comparator=e?(r,n)=>e(r,n)||de.comparator(r.key,n.key):(r,n)=>de.comparator(r.key,n.key),this.keyedMap=Do(),this.sortedSet=new Xe(this.comparator)}static emptySet(e){return new Ci(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const A=r.getNext().key,s=n.getNext().key;if(!A.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Ci;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.W_=new Xe(de.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):me():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Di{constructor(e,r,n,A,s,i,a,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=A,this.mutatedKeys=s,this.fromCache=i,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,A,s){const i=[];return r.forEach(a=>{i.push({type:0,doc:a})}),new Di(e,r,Ci.emptySet(r),i,n,A,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Sd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let A=0;A<r.length;A++)if(r[A].type!==n[A].type||!r[A].doc.isEqual(n[A].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xj{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const A=we(r),s=A.queries;A.queries=Bv(),s.forEach((i,a)=>{for(const l of a.j_)l.onError(n)})})(this,new ie(O.ABORTED,"Firestore shutting down"))}}function Bv(){return new Yi(t=>U_(t),Sd)}async function B0(t,e){const r=we(t);let n=3;const A=e.query;let s=r.queries.get(A);s?!s.H_()&&e.J_()&&(n=2):(s=new vj,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(A,!0);break;case 1:s.z_=await r.onListen(A,!1);break;case 2:await r.onFirstRemoteStoreListen(A)}}catch(i){const a=y0(i,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(a)}r.queries.set(A,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&x0(r)}async function v0(t,e){const r=we(t),n=e.query;let A=3;const s=r.queries.get(n);if(s){const i=s.j_.indexOf(e);i>=0&&(s.j_.splice(i,1),s.j_.length===0?A=e.J_()?0:1:!s.H_()&&e.J_()&&(A=2))}switch(A){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Cj(t,e){const r=we(t);let n=!1;for(const A of e){const s=A.query,i=r.queries.get(s);if(i){for(const a of i.j_)a.X_(A)&&(n=!0);i.z_=A}}n&&x0(r)}function Ej(t,e,r){const n=we(t),A=n.queries.get(e);if(A)for(const s of A.j_)s.onError(r);n.queries.delete(e)}function x0(t){t.Y_.forEach(e=>{e.next()})}var am,vv;(vv=am||(am={})).ea="default",vv.Cache="cache";class C0{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const A of e.docChanges)A.type!==3&&n.push(A);e=new Di(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Di.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.key=e}}class oI{constructor(e){this.key=e}}class bj{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ee(),this.mutatedKeys=Ee(),this.Aa=F_(e),this.Ra=new Ci(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new yv,A=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,i=A,a=!1;const l=this.query.limitType==="F"&&A.size===this.query.limit?A.last():null,u=this.query.limitType==="L"&&A.size===this.query.limit?A.first():null;if(e.inorderTraversal((d,h)=>{const f=A.get(d),w=Rd(this.query,h)?h:null,v=!!f&&this.mutatedKeys.has(f.key),_=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let Q=!1;f&&w?f.data.isEqual(w.data)?v!==_&&(n.track({type:3,doc:w}),Q=!0):this.ga(f,w)||(n.track({type:2,doc:w}),Q=!0,(l&&this.Aa(w,l)>0||u&&this.Aa(w,u)<0)&&(a=!0)):!f&&w?(n.track({type:0,doc:w}),Q=!0):f&&!w&&(n.track({type:1,doc:f}),Q=!0,(l||u)&&(a=!0)),Q&&(w?(i=i.add(w),s=_?s.add(d):s.delete(d)):(i=i.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;i.size>this.query.limit;){const d=this.query.limitType==="F"?i.last():i.first();i=i.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{Ra:i,fa:n,ns:a,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,A){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const i=e.fa.G_();i.sort((d,h)=>function(w,v){const _=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return _(w)-_(v)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(n),A=A!=null&&A;const a=r&&!A?this.ya():[],l=this.da.size===0&&this.current&&!A?1:0,u=l!==this.Ea;return this.Ea=l,i.length!==0||u?{snapshot:new Di(this.query,e.Ra,s,i,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new yv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ee(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new oI(n))}),this.da.forEach(n=>{e.has(n)||r.push(new iI(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ee();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Di.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class _j{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Ij{constructor(e){this.key=e,this.va=!1}}class Uj{constructor(e,r,n,A,s,i){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=A,this.currentUser=s,this.maxConcurrentLimboResolutions=i,this.Ca={},this.Fa=new Yi(a=>U_(a),Sd),this.Ma=new Map,this.xa=new Set,this.Oa=new Xe(de.comparator),this.Na=new Map,this.La=new u0,this.Ba={},this.ka=new Map,this.qa=Pi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Fj(t,e,r=!0){const n=hI(t);let A;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),A=s.view.Da()):A=await aI(n,e,r,!0),A}async function Qj(t,e){const r=hI(t);await aI(r,e,!0,!1)}async function aI(t,e,r,n){const A=await Yk(t.localStore,mn(e)),s=A.targetId,i=t.sharedClientState.addLocalQueryTarget(s,r);let a;return n&&(a=await Tj(t,e,s,i==="current",A.resumeToken)),t.isPrimaryClient&&r&&eI(t.remoteStore,A),a}async function Tj(t,e,r,n,A){t.Ka=(h,f,w)=>async function(_,Q,B,m){let y=Q.view.ma(B);y.ns&&(y=await gv(_.localStore,Q.query,!1).then(({documents:E})=>Q.view.ma(E,y)));const C=m&&m.targetChanges.get(Q.targetId),F=m&&m.targetMismatches.get(Q.targetId)!=null,T=Q.view.applyChanges(y,_.isPrimaryClient,C,F);return Cv(_,Q.targetId,T.wa),T.snapshot}(t,h,f,w);const s=await gv(t.localStore,e,!0),i=new bj(e,s.Ts),a=i.ma(s.documents),l=ul.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",A),u=i.applyChanges(a,t.isPrimaryClient,l);Cv(t,r,u.wa);const d=new _j(e,r,i);return t.Fa.set(e,d),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function Nj(t,e,r){const n=we(t),A=n.Fa.get(e),s=n.Ma.get(A.targetId);if(s.length>1)return n.Ma.set(A.targetId,s.filter(i=>!Sd(i,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(A.targetId),n.sharedClientState.isActiveQueryTarget(A.targetId)||await om(n.localStore,A.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(A.targetId),r&&f0(n.remoteStore,A.targetId),lm(n,A.targetId)}).catch(al)):(lm(n,A.targetId),await om(n.localStore,A.targetId,!0))}async function Sj(t,e){const r=we(t),n=r.Fa.get(e),A=r.Ma.get(n.targetId);r.isPrimaryClient&&A.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),f0(r.remoteStore,n.targetId))}async function Rj(t,e,r){const n=Mj(t);try{const A=await function(i,a){const l=we(i),u=pt.now(),d=a.reduce((w,v)=>w.add(v.key),Ee());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",w=>{let v=Wn(),_=Ee();return l.cs.getEntries(w,d).next(Q=>{v=Q,v.forEach((B,m)=>{m.isValidDocument()||(_=_.add(B))})}).next(()=>l.localDocuments.getOverlayedDocuments(w,v)).next(Q=>{h=Q;const B=[];for(const m of a){const y=rk(m,h.get(m.key).overlayedDocument);y!=null&&B.push(new JA(m.key,y,B_(y.value.mapValue),Pr.exists(!0)))}return l.mutationQueue.addMutationBatch(w,u,B,a)}).next(Q=>{f=Q;const B=Q.applyToLocalDocumentSet(h,_);return l.documentOverlayCache.saveOverlays(w,Q.batchId,B)})}).then(()=>({batchId:f.batchId,changes:T_(h)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(A.batchId),function(i,a,l){let u=i.Ba[i.currentUser.toKey()];u||(u=new Xe(Qe)),u=u.insert(a,l),i.Ba[i.currentUser.toKey()]=u}(n,A.batchId,r),await hl(n,A.changes),await Hd(n.remoteStore)}catch(A){const s=y0(A,"Failed to persist write");r.reject(s)}}async function lI(t,e){const r=we(t);try{const n=await qk(r.localStore,e);e.targetChanges.forEach((A,s)=>{const i=r.Na.get(s);i&&(Re(A.addedDocuments.size+A.modifiedDocuments.size+A.removedDocuments.size<=1),A.addedDocuments.size>0?i.va=!0:A.modifiedDocuments.size>0?Re(i.va):A.removedDocuments.size>0&&(Re(i.va),i.va=!1))}),await hl(r,n,e)}catch(n){await al(n)}}function xv(t,e,r){const n=we(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const A=[];n.Fa.forEach((s,i)=>{const a=i.view.Z_(e);a.snapshot&&A.push(a.snapshot)}),function(i,a){const l=we(i);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(const f of h.j_)f.Z_(a)&&(u=!0)}),u&&x0(l)}(n.eventManager,e),A.length&&n.Ca.d_(A),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function kj(t,e,r){const n=we(t);n.sharedClientState.updateQueryState(e,"rejected",r);const A=n.Na.get(e),s=A&&A.key;if(s){let i=new Xe(de.comparator);i=i.insert(s,Kt.newNoDocument(s,pe.min()));const a=Ee().add(s),l=new Pd(pe.min(),new Map,new Xe(Qe),i,a);await lI(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),E0(n)}else await om(n.localStore,e,!1).then(()=>lm(n,e,r)).catch(al)}async function jj(t,e){const r=we(t),n=e.batch.batchId;try{const A=await $k(r.localStore,e);uI(r,n,null),cI(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await hl(r,A)}catch(A){await al(A)}}async function Pj(t,e,r){const n=we(t);try{const A=await function(i,a){const l=we(i);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Re(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(n.localStore,e);uI(n,e,r),cI(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await hl(n,A)}catch(A){await al(A)}}function cI(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function uI(t,e,r){const n=we(t);let A=n.Ba[n.currentUser.toKey()];if(A){const s=A.get(e);s&&(r?s.reject(r):s.resolve(),A=A.remove(e)),n.Ba[n.currentUser.toKey()]=A}}function lm(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||dI(t,n)})}function dI(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(f0(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),E0(t))}function Cv(t,e,r){for(const n of r)n instanceof iI?(t.La.addReference(n.key,e),Dj(t,n)):n instanceof oI?(ce("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||dI(t,n.key)):me()}function Dj(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(ce("SyncEngine","New document in limbo: "+r),t.xa.add(n),E0(t))}function E0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new de(Oe.fromString(e)),n=t.qa.next();t.Na.set(n,new Ij(r)),t.Oa=t.Oa.insert(r,n),eI(t.remoteStore,new wA(mn(Nd(r.path)),n,"TargetPurposeLimboResolution",e0.oe))}}async function hl(t,e,r){const n=we(t),A=[],s=[],i=[];n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{i.push(n.Ka(l,e,r).then(u=>{var d;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){A.push(u);const h=h0.Wi(l.targetId,u);s.push(h)}}))}),await Promise.all(i),n.Ca.d_(A),await async function(l,u){const d=we(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>G.forEach(u,f=>G.forEach(f.$i,w=>d.persistence.referenceDelegate.addReference(h,f.targetId,w)).next(()=>G.forEach(f.Ui,w=>d.persistence.referenceDelegate.removeReference(h,f.targetId,w)))))}catch(h){if(!ll(h))throw h;ce("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const w=d.os.get(f),v=w.snapshotVersion,_=w.withLastLimboFreeSnapshotVersion(v);d.os=d.os.insert(f,_)}}}(n.localStore,s))}async function Lj(t,e){const r=we(t);if(!r.currentUser.isEqual(e)){ce("SyncEngine","User change. New user:",e.toKey());const n=await J_(r.localStore,e);r.currentUser=e,function(s,i){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new ie(O.CANCELLED,i))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await hl(r,n.hs)}}function Hj(t,e){const r=we(t),n=r.Na.get(e);if(n&&n.va)return Ee().add(n.key);{let A=Ee();const s=r.Ma.get(e);if(!s)return A;for(const i of s){const a=r.Fa.get(i);A=A.unionWith(a.view.Va)}return A}}function hI(t){const e=we(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Hj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kj.bind(null,e),e.Ca.d_=Cj.bind(null,e.eventManager),e.Ca.$a=Ej.bind(null,e.eventManager),e}function Mj(t){const e=we(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Pj.bind(null,e),e}class Mu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Dd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return Wk(this.persistence,new Gk,e.initialUser,this.serializer)}Ga(e){return new Ok(d0.Zr,this.serializer)}Wa(e){return new ej}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Mu.provider={build:()=>new Mu};class cm{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>xv(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lj.bind(null,this.syncEngine),await Bj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xj}()}createDatastore(e){const r=Dd(e.databaseInfo.databaseId),n=function(s){return new Aj(s)}(e.databaseInfo);return function(s,i,a,l){return new oj(s,i,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,A,s,i,a){return new lj(n,A,s,i,a)}(this.localStore,this.datastore,e.asyncQueue,r=>xv(this.syncEngine,r,0),function(){return pv.D()?new pv:new tj}())}createSyncEngine(e,r){return function(A,s,i,a,l,u,d){const h=new Uj(A,s,i,a,l,u);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(A){const s=we(A);ce("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await dl(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}cm.provider={build:()=>new cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e,r,n,A,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=A,this.user=Mt.UNAUTHENTICATED,this.clientId=p_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async i=>{ce("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(n,i=>(ce("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Dn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=y0(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function pf(t,e){t.asyncQueue.verifyOperationInProgress(),ce("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async A=>{n.isEqual(A)||(await J_(e.localStore,A),n=A)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ev(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Vj(t);ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>wv(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,A)=>wv(e.remoteStore,A)),t._onlineComponents=e}async function Vj(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await pf(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(A){return A.name==="FirebaseError"?A.code===O.FAILED_PRECONDITION||A.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&A instanceof DOMException)||A.code===22||A.code===20||A.code===11}(r))throw r;Si("Error using user provided cache. Falling back to memory cache: "+r),await pf(t,new Mu)}}else ce("FirestoreClient","Using default OfflineComponentProvider"),await pf(t,new Mu);return t._offlineComponents}async function fI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ce("FirestoreClient","Using user provided OnlineComponentProvider"),await Ev(t,t._uninitializedComponentsProvider._online)):(ce("FirestoreClient","Using default OnlineComponentProvider"),await Ev(t,new cm))),t._onlineComponents}function Kj(t){return fI(t).then(e=>e.syncEngine)}async function Ou(t){const e=await fI(t),r=e.eventManager;return r.onListen=Fj.bind(null,e.syncEngine),r.onUnlisten=Nj.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Qj.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Sj.bind(null,e.syncEngine),r}function Gj(t,e,r={}){const n=new Dn;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,u){const d=new b0({next:f=>{d.Za(),i.enqueueAndForget(()=>v0(s,h));const w=f.docs.has(a);!w&&f.fromCache?u.reject(new ie(O.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&f.fromCache&&l&&l.source==="server"?u.reject(new ie(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new C0(Nd(a.path),d,{includeMetadataChanges:!0,_a:!0});return B0(s,h)}(await Ou(t),t.asyncQueue,e,r,n)),n.promise}function zj(t,e,r={}){const n=new Dn;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,a,l,u){const d=new b0({next:f=>{d.Za(),i.enqueueAndForget(()=>v0(s,h)),f.fromCache&&l.source==="server"?u.reject(new ie(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),h=new C0(a,d,{includeMetadataChanges:!0,_a:!0});return B0(s,h)}(await Ou(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(t,e,r){if(!r)throw new ie(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Wj(t,e,r,n){if(e===!0&&n===!0)throw new ie(O.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function _v(t){if(!de.isDocumentKey(t))throw new ie(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Iv(t){if(de.isDocumentKey(t))throw new ie(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Md(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Md(t);throw new ie(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ie(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ie(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Wj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gI((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ie(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ie(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ie(O.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,A){return n.timeoutSeconds===A.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Od{constructor(e,r,n,A){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=A,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Uv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ie(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ie(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Uv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new cR;switch(n.type){case"firstParty":return new fR(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ie(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=bv.get(r);n&&(ce("ComponentProvider","Removing Datastore"),bv.delete(r),n.terminate())}(this),Promise.resolve()}}function $j(t,e,r,n={}){var A;const s=(t=hr(t,Od))._getSettings(),i=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==i&&Si("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:i,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=Mt.MOCK_USER;else{a=bb(n.mockUserToken,(A=t._app)===null||A===void 0?void 0:A.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new ie(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Mt(u)}t._authCredentials=new uR(new m_(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Yn(this.firestore,e,this._query)}}class zt{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new SA(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zt(this.firestore,e,this._key)}}class SA extends Yn{constructor(e,r,n){super(e,r,Nd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new de(e))}withConverter(e){return new SA(this.firestore,e,this._path)}}function Ne(t,e,...r){if(t=Je(t),mI("collection","path",e),t instanceof Od){const n=Oe.fromString(e,...r);return Iv(n),new SA(t,null,n)}{if(!(t instanceof zt||t instanceof SA))throw new ie(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Oe.fromString(e,...r));return Iv(n),new SA(t.firestore,null,n)}}function ve(t,e,...r){if(t=Je(t),arguments.length===1&&(e=p_.newId()),mI("doc","path",e),t instanceof Od){const n=Oe.fromString(e,...r);return _v(n),new zt(t,null,new de(n))}{if(!(t instanceof zt||t instanceof SA))throw new ie(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Oe.fromString(e,...r));return _v(n),new zt(t.firestore,t instanceof SA?t.converter:null,new de(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Y_(this,"async_queue_retry"),this.Vu=()=>{const n=mf();n&&ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=mf();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=mf();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new Dn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ll(e))throw e;ce("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const A=function(i){let a=i.message||"";return i.stack&&(a=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),a}(n);throw zn("INTERNAL UNHANDLED ERROR: ",A),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const A=w0.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(A),A}fu(){this.Eu&&me()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function Qv(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const A=r;for(const s of n)if(s in A&&typeof A[s]=="function")return!0;return!1}(t,["next","error","complete"])}class $n extends Od{constructor(e,r,n,A){super(e,r,n,A),this.type="firestore",this._queue=new Fv,this._persistenceKey=(A==null?void 0:A.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fv(e),this._firestoreClient=void 0,await e}}}function qj(t,e){const r=typeof t=="object"?t:Id(),n=typeof t=="string"?t:"(default)",A=_d(r,"firestore").getImmediate({identifier:n});if(!A._initialized){const s=xb("firestore");s&&$j(A,...s)}return A}function Vd(t){if(t._terminated)throw new ie(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Jj(t),t._firestoreClient}function Jj(t){var e,r,n;const A=t._freezeSettings(),s=function(a,l,u,d){return new IR(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,gI(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,A);t._componentsProvider||!((r=A.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=A.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:A.localCache._offlineComponentProvider,_online:A.localCache._onlineComponentProvider}),t._firestoreClient=new Oj(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Li(St.fromBase64String(e))}catch(r){throw new ie(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Li(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ie(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ie(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ie(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,A){if(n.length!==A.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==A[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj=/^__.*__$/;class Yj{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new JA(e,this.data,this.fieldMask,r,this.fieldTransforms):new cl(e,this.data,r,this.fieldTransforms)}}class pI{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new JA(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function wI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class U0{constructor(e,r,n,A,s,i){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=A,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=i||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new U0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),A=this.Fu({path:n,xu:!1});return A.Ou(e),A}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),A=this.Fu({path:n,xu:!1});return A.vu(),A}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(wI(this.Cu)&&Xj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Zj{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Dd(e)}Qu(e,r,n,A=!1){return new U0({Cu:e,methodName:r,qu:n,path:It.emptyPath(),xu:!1,ku:A},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function zd(t){const e=t._freezeSettings(),r=Dd(t._databaseId);return new Zj(t._databaseId,!!e.ignoreUndefinedProperties,r)}function yI(t,e,r,n,A,s={}){const i=t.Qu(s.merge||s.mergeFields?2:0,e,r,A);Q0("Data must be an object, but it was:",i,n);const a=BI(n,i);let l,u;if(s.merge)l=new vr(i.fieldMask),u=i.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=um(e,h,r);if(!i.contains(f))throw new ie(O.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);xI(d,f)||d.push(f)}l=new vr(d),u=i.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=i.fieldTransforms;return new Yj(new ir(a),l,u)}class Wd extends Gd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Wd}}class F0 extends Gd{_toFieldTransform(e){return new YR(e.path,new Ka)}isEqual(e){return e instanceof F0}}function eP(t,e,r,n){const A=t.Qu(1,e,r);Q0("Data must be an object, but it was:",A,n);const s=[],i=ir.empty();js(n,(l,u)=>{const d=T0(e,l,r);u=Je(u);const h=A.Nu(d);if(u instanceof Wd)s.push(d);else{const f=fl(u,h);f!=null&&(s.push(d),i.set(d,f))}});const a=new vr(s);return new pI(i,a,A.fieldTransforms)}function tP(t,e,r,n,A,s){const i=t.Qu(1,e,r),a=[um(e,n,r)],l=[A];if(s.length%2!=0)throw new ie(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(um(e,s[f])),l.push(s[f+1]);const u=[],d=ir.empty();for(let f=a.length-1;f>=0;--f)if(!xI(u,a[f])){const w=a[f];let v=l[f];v=Je(v);const _=i.Nu(w);if(v instanceof Wd)u.push(w);else{const Q=fl(v,_);Q!=null&&(u.push(w),d.set(w,Q))}}const h=new vr(u);return new pI(d,h,i.fieldTransforms)}function rP(t,e,r,n=!1){return fl(r,t.Qu(n?4:3,e))}function fl(t,e){if(vI(t=Je(t)))return Q0("Unsupported field value:",e,t),BI(t,e);if(t instanceof Gd)return function(n,A){if(!wI(A.Cu))throw A.Bu(`${n._methodName}() can only be used with update() and set()`);if(!A.path)throw A.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(A);s&&A.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,A){const s=[];let i=0;for(const a of n){let l=fl(a,A.Lu(i));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,A){if((n=Je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return qR(A.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=pt.fromDate(n);return{timestampValue:Lu(A.serializer,s)}}if(n instanceof pt){const s=new pt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Lu(A.serializer,s)}}if(n instanceof _0)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Li)return{bytesValue:V_(A.serializer,n._byteString)};if(n instanceof zt){const s=A.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw A.Bu(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:c0(n.firestore._databaseId||A.databaseId,n._key.path)}}if(n instanceof I0)return function(i,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:i.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return i0(a.serializer,l)})}}}}}}(n,A);throw A.Bu(`Unsupported field value: ${Md(n)}`)}(t,e)}function BI(t,e){const r={};return w_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):js(t,(n,A)=>{const s=fl(A,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function vI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof pt||t instanceof _0||t instanceof Li||t instanceof zt||t instanceof Gd||t instanceof I0)}function Q0(t,e,r){if(!vI(r)||!function(A){return typeof A=="object"&&A!==null&&(Object.getPrototypeOf(A)===Object.prototype||Object.getPrototypeOf(A)===null)}(r)){const n=Md(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function um(t,e,r){if((e=Je(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return T0(t,e);throw Vu("Field path arguments must be of type string or ",t,!1,void 0,r)}const nP=new RegExp("[~\\*/\\[\\]]");function T0(t,e,r){if(e.search(nP)>=0)throw Vu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Kd(...e.split("."))._internalPath}catch{throw Vu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Vu(t,e,r,n,A){const s=n&&!n.isEmpty(),i=A!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||i)&&(l+=" (found",s&&(l+=` in field ${n}`),i&&(l+=` in document ${A}`),l+=")"),new ie(O.INVALID_ARGUMENT,a+t+l)}function xI(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,r,n,A,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=A,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field($d("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class AP extends CI{data(){return super.data()}}function $d(t,e){return typeof e=="string"?T0(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ie(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class N0{}class S0 extends N0{}function Wt(t,e,...r){let n=[];e instanceof N0&&n.push(e),n=n.concat(r),function(s){const i=s.filter(l=>l instanceof R0).length,a=s.filter(l=>l instanceof qd).length;if(i>1||i>0&&a>0)throw new ie(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const A of n)t=A._apply(t);return t}class qd extends S0{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new qd(e,r,n)}_apply(e){const r=this._parse(e);return bI(e._query,r),new Yn(e.firestore,e.converter,rm(e._query,r))}_parse(e){const r=zd(e.firestore);return function(s,i,a,l,u,d,h){let f;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ie(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){Nv(h,d);const w=[];for(const v of h)w.push(Tv(l,s,v));f={arrayValue:{values:w}}}else f=Tv(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||Nv(h,d),f=rP(a,i,h,d==="in"||d==="not-in");return ut.create(u,d,f)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function xr(t,e,r){const n=e,A=$d("where",t);return qd._create(A,n,r)}class R0 extends N0{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new R0(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:tn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(A,s){let i=A;const a=s.getFlattenedFilters();for(const l of a)bI(i,l),i=rm(i,l)}(e._query,r),new Yn(e.firestore,e.converter,rm(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class k0 extends S0{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new k0(e,r)}_apply(e){const r=function(A,s,i){if(A.startAt!==null)throw new ie(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(A.endAt!==null)throw new ie(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Va(s,i)}(e._query,this._field,this._direction);return new Yn(e.firestore,e.converter,function(A,s){const i=A.explicitOrderBy.concat([s]);return new Xi(A.path,A.collectionGroup,i,A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(e._query,r))}}function Yc(t,e="asc"){const r=e,n=$d("orderBy",t);return k0._create(n,r)}class j0 extends S0{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new j0(e,r,n)}_apply(e){return new Yn(e.firestore,e.converter,Pu(e._query,this._limit,this._limitType))}}function sP(t){return j0._create("limit",t,"F")}function Tv(t,e,r){if(typeof(r=Je(r))=="string"){if(r==="")throw new ie(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!I_(e)&&r.indexOf("/")!==-1)throw new ie(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Oe.fromString(r));if(!de.isDocumentKey(n))throw new ie(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return YB(t,new de(n))}if(r instanceof zt)return YB(t,r._key);throw new ie(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Md(r)}.`)}function Nv(t,e){if(!Array.isArray(t)||t.length===0)throw new ie(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bI(t,e){const r=function(A,s){for(const i of A)for(const a of i.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(A){switch(A){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ie(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ie(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class iP{convertValue(e,r="none"){switch(Qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw me()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return js(e,(A,s)=>{n[A]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,A;const s=(A=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||A===void 0?void 0:A.map(i=>it(i.doubleValue));return new I0(s)}convertGeoPoint(e){return new _0(it(e.latitude),it(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=r0(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Ha(e));default:return null}}convertTimestamp(e){const r=HA(e);return new pt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Oe.fromString(e);Re(q_(n));const A=new Ma(n.get(1),n.get(3)),s=new de(n.popFirst(5));return A.isEqual(r)||zn(`Document ${s} contains a document reference within a different database (${A.projectId}/${A.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class II extends CI{constructor(e,r,n,A,s,i){super(e,r,n,A,i),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field($d("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class Zc extends II{data(e={}){return super.data(e)}}class UI{constructor(e,r,n,A){this._firestore=e,this._userDataWriter=r,this._snapshot=A,this.metadata=new Ho(A.hasPendingWrites,A.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new Zc(this._firestore,this._userDataWriter,n.key,n,new Ho(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ie(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(A,s){if(A._snapshot.oldDocs.isEmpty()){let i=0;return A._snapshot.docChanges.map(a=>{const l=new Zc(A._firestore,A._userDataWriter,a.doc.key,a.doc,new Ho(A._snapshot.mutatedKeys.has(a.doc.key),A._snapshot.fromCache),A.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:i++}})}{let i=A._snapshot.oldDocs;return A._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Zc(A._firestore,A._userDataWriter,a.doc.key,a.doc,new Ho(A._snapshot.mutatedKeys.has(a.doc.key),A._snapshot.fromCache),A.query.converter);let u=-1,d=-1;return a.type!==0&&(u=i.indexOf(a.doc.key),i=i.delete(a.doc.key)),a.type!==1&&(i=i.add(a.doc),d=i.indexOf(a.doc.key)),{type:oP(a.type),doc:l,oldIndex:u,newIndex:d}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function oP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return me()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t){t=hr(t,zt);const e=hr(t.firestore,$n);return Gj(Vd(e),t._key).then(r=>FI(e,t,r))}class P0 extends iP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Li(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,r)}}function Ku(t){t=hr(t,Yn);const e=hr(t.firestore,$n),r=Vd(e),n=new P0(e);return EI(t._query),zj(r,t._query).then(A=>new UI(e,n,t,A))}function dm(t,e,r){t=hr(t,zt);const n=hr(t.firestore,$n),A=_I(t.converter,e,r);return Jd(n,[yI(zd(n),"setDoc",t._key,A,t.converter!==null,r).toMutation(t._key,Pr.none())])}function Gt(t,e,r,...n){t=hr(t,zt);const A=hr(t.firestore,$n),s=zd(A);let i;return i=typeof(e=Je(e))=="string"||e instanceof Kd?tP(s,"updateDoc",t._key,e,r,n):eP(s,"updateDoc",t._key,e),Jd(A,[i.toMutation(t._key,Pr.exists(!0))])}function Gu(t){return Jd(hr(t.firestore,$n),[new o0(t._key,Pr.none())])}function lr(t,e){const r=hr(t.firestore,$n),n=ve(t),A=_I(t.converter,e);return Jd(r,[yI(zd(t.firestore),"addDoc",n._key,A,t.converter!==null,{}).toMutation(n._key,Pr.exists(!1))]).then(()=>n)}function Zr(t,...e){var r,n,A;t=Je(t);let s={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||Qv(e[i])||(s=e[i],i++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Qv(e[i])){const h=e[i];e[i]=(r=h.next)===null||r===void 0?void 0:r.bind(h),e[i+1]=(n=h.error)===null||n===void 0?void 0:n.bind(h),e[i+2]=(A=h.complete)===null||A===void 0?void 0:A.bind(h)}let l,u,d;if(t instanceof zt)u=hr(t.firestore,$n),d=Nd(t._key.path),l={next:h=>{e[i]&&e[i](FI(u,t,h))},error:e[i+1],complete:e[i+2]};else{const h=hr(t,Yn);u=hr(h.firestore,$n),d=h._query;const f=new P0(u);l={next:w=>{e[i]&&e[i](new UI(u,f,h,w))},error:e[i+1],complete:e[i+2]},EI(t._query)}return function(f,w,v,_){const Q=new b0(_),B=new C0(w,Q,v);return f.asyncQueue.enqueueAndForget(async()=>B0(await Ou(f),B)),()=>{Q.Za(),f.asyncQueue.enqueueAndForget(async()=>v0(await Ou(f),B))}}(Vd(u),d,a,l)}function Jd(t,e){return function(n,A){const s=new Dn;return n.asyncQueue.enqueueAndForget(async()=>Rj(await Kj(n),A,s)),s.promise}(Vd(t),e)}function FI(t,e,r){const n=r.docs.get(e._key),A=new P0(t);return new II(t,A,e._key,n,new Ho(r.hasPendingWrites,r.fromCache),e.converter)}function Pe(){return new F0("serverTimestamp")}(function(e,r=!0){(function(A){Ji=A})(ks),bs(new DA("firestore",(n,{instanceIdentifier:A,options:s})=>{const i=n.getProvider("app").getImmediate(),a=new $n(new dR(n.getProvider("auth-internal")),new mR(n.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ie(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ma(u.options.projectId,d)}(i,A),i);return s=Object.assign({useFetchStreams:r},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),fn(WB,"4.7.3",e),fn(WB,"4.7.3","esm2017")})();var aP="firebase",lP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn(aP,lP,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="firebasestorage.googleapis.com",TI="storageBucket",cP=2*60*1e3,uP=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt extends Bn{constructor(e,r,n=0){super(wf(e),`Firebase Storage: ${r} (${wf(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,rt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(tt||(tt={}));function wf(t){return"storage/"+t}function D0(){const t="An unknown error occurred, please check the error payload for server response.";return new rt(tt.UNKNOWN,t)}function dP(t){return new rt(tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function hP(t){return new rt(tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function fP(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new rt(tt.UNAUTHENTICATED,t)}function gP(){return new rt(tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function mP(t){return new rt(tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function pP(){return new rt(tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wP(){return new rt(tt.CANCELED,"User canceled the upload/download.")}function yP(t){return new rt(tt.INVALID_URL,"Invalid URL '"+t+"'.")}function BP(t){return new rt(tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vP(){return new rt(tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+TI+"' property when initializing the app?")}function xP(){return new rt(tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function CP(){return new rt(tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function EP(t){return new rt(tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function hm(t){return new rt(tt.INVALID_ARGUMENT,t)}function NI(){return new rt(tt.APP_DELETED,"The Firebase app was deleted.")}function bP(t){return new rt(tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function la(t,e){return new rt(tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Eo(t){throw new rt(tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=Cr.makeFromUrl(e,r)}catch{return new Cr(e,"")}if(n.path==="")return n;throw BP(e)}static makeFromUrl(e,r){let n=null;const A="([A-Za-z0-9.\\-_]+)";function s(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const i="(/(.*))?$",a=new RegExp("^gs://"+A+i,"i"),l={bucket:1,path:3};function u(C){C.path_=decodeURIComponent(C.path)}const d="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",w=new RegExp(`^https?://${h}/${d}/b/${A}/o${f}`,"i"),v={bucket:1,path:3},_=r===QI?"(?:storage.googleapis.com|storage.cloud.google.com)":r,Q="([^?#]*)",B=new RegExp(`^https?://${_}/${A}/${Q}`,"i"),y=[{regex:a,indices:l,postModify:s},{regex:w,indices:v,postModify:u},{regex:B,indices:{bucket:1,path:2},postModify:u}];for(let C=0;C<y.length;C++){const F=y[C],T=F.regex.exec(e);if(T){const E=T[F.indices.bucket];let x=T[F.indices.path];x||(x=""),n=new Cr(E,x),F.postModify(n);break}}if(n==null)throw yP(e);return n}}class _P{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(t,e,r){let n=1,A=null,s=null,i=!1,a=0;function l(){return a===2}let u=!1;function d(...Q){u||(u=!0,e.apply(null,Q))}function h(Q){A=setTimeout(()=>{A=null,t(w,l())},Q)}function f(){s&&clearTimeout(s)}function w(Q,...B){if(u){f();return}if(Q){f(),d.call(null,Q,...B);return}if(l()||i){f(),d.call(null,Q,...B);return}n<64&&(n*=2);let y;a===1?(a=2,y=0):y=(n+Math.random())*1e3,h(y)}let v=!1;function _(Q){v||(v=!0,f(),!u&&(A!==null?(Q||(a=2),clearTimeout(A),h(0)):Q||(a=1)))}return h(0),s=setTimeout(()=>{i=!0,_(!0)},r),_}function UP(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FP(t){return t!==void 0}function QP(t){return typeof t=="object"&&!Array.isArray(t)}function L0(t){return typeof t=="string"||t instanceof String}function Sv(t){return H0()&&t instanceof Blob}function H0(){return typeof Blob<"u"}function Rv(t,e,r,n){if(n<e)throw hm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw hm(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function SI(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const A=e(n)+"="+e(t[n]);r=r+A+"&"}return r=r.slice(0,-1),r}var ps;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ps||(ps={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TP(t,e){const r=t>=500&&t<600,A=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||A||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,r,n,A,s,i,a,l,u,d,h,f=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=A,this.successCodes_=s,this.additionalRetryCodes_=i,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((w,v)=>{this.resolve_=w,this.reject_=v,this.start_()})}start_(){const e=(n,A)=>{if(A){n(!1,new sc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const i=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(i),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(i),this.pendingConnection_=null;const a=s.getErrorCode()===ps.NO_ERROR,l=s.getStatus();if(!a||TP(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===ps.ABORT;n(!1,new sc(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new sc(u,s))})},r=(n,A)=>{const s=this.resolve_,i=this.reject_,a=A.connection;if(A.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());FP(l)?s(l):s()}catch(l){i(l)}else if(a!==null){const l=D0();l.serverResponse=a.getErrorText(),this.errorCallback_?i(this.errorCallback_(a,l)):i(l)}else if(A.canceled){const l=this.appDelete_?NI():wP();i(l)}else{const l=pP();i(l)}};this.canceled_?r(!1,new sc(!1,null,!0)):this.backoffId_=IP(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UP(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sc{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function SP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function RP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function kP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function PP(t,e,r,n,A,s,i=!0){const a=SI(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return kP(u,e),SP(u,r),RP(u,s),jP(u,n),new NP(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,A,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function LP(...t){const e=DP();if(e!==void 0){const r=new e;for(let n=0;n<t.length;n++)r.append(t[n]);return r.getBlob()}else{if(H0())return new Blob(t);throw new rt(tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function HP(t,e,r){return t.webkitSlice?t.webkitSlice(e,r):t.mozSlice?t.mozSlice(e,r):t.slice?t.slice(e,r):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){if(typeof atob>"u")throw EP("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class yf{constructor(e,r){this.data=e,this.contentType=r||null}}function OP(t,e){switch(t){case un.RAW:return new yf(RI(e));case un.BASE64:case un.BASE64URL:return new yf(kI(t,e));case un.DATA_URL:return new yf(KP(e),GP(e))}throw D0()}function RI(t){const e=[];for(let r=0;r<t.length;r++){let n=t.charCodeAt(r);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(r<t.length-1&&(t.charCodeAt(r+1)&64512)===56320))e.push(239,191,189);else{const s=n,i=t.charCodeAt(++r);n=65536|(s&1023)<<10|i&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function VP(t){let e;try{e=decodeURIComponent(t)}catch{throw la(un.DATA_URL,"Malformed data URL.")}return RI(e)}function kI(t,e){switch(t){case un.BASE64:{const A=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(A||s)throw la(t,"Invalid character '"+(A?"-":"_")+"' found: is it base64url encoded?");break}case un.BASE64URL:{const A=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(A||s)throw la(t,"Invalid character '"+(A?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let r;try{r=MP(e)}catch(A){throw A.message.includes("polyfill")?A:la(t,"Invalid character found")}const n=new Uint8Array(r.length);for(let A=0;A<r.length;A++)n[A]=r.charCodeAt(A);return n}class jI{constructor(e){this.base64=!1,this.contentType=null;const r=e.match(/^data:([^,]+)?,/);if(r===null)throw la(un.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=r[1]||null;n!=null&&(this.base64=zP(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function KP(t){const e=new jI(t);return e.base64?kI(un.BASE64,e.rest):VP(e.rest)}function GP(t){return new jI(t).contentType}function zP(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,r){let n=0,A="";Sv(e)?(this.data_=e,n=e.size,A=e.type):e instanceof ArrayBuffer?(r?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(r?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=A}size(){return this.size_}type(){return this.type_}slice(e,r){if(Sv(this.data_)){const n=this.data_,A=HP(n,e,r);return A===null?null:new fA(A)}else{const n=new Uint8Array(this.data_.buffer,e,r-e);return new fA(n,!0)}}static getBlob(...e){if(H0()){const r=e.map(n=>n instanceof fA?n.data_:n);return new fA(LP.apply(null,r))}else{const r=e.map(i=>L0(i)?OP(un.RAW,i).data:i.data_);let n=0;r.forEach(i=>{n+=i.byteLength});const A=new Uint8Array(n);let s=0;return r.forEach(i=>{for(let a=0;a<i.length;a++)A[s++]=i[a]}),new fA(A,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(t){let e;try{e=JSON.parse(t)}catch{return null}return QP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WP(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function $P(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function DI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){return e}class Yt{constructor(e,r,n,A){this.server=e,this.local=r||e,this.writable=!!n,this.xform=A||qP}}let ic=null;function JP(t){return!L0(t)||t.length<2?t:DI(t)}function LI(){if(ic)return ic;const t=[];t.push(new Yt("bucket")),t.push(new Yt("generation")),t.push(new Yt("metageneration")),t.push(new Yt("name","fullPath",!0));function e(s,i){return JP(i)}const r=new Yt("name");r.xform=e,t.push(r);function n(s,i){return i!==void 0?Number(i):i}const A=new Yt("size");return A.xform=n,t.push(A),t.push(new Yt("timeCreated")),t.push(new Yt("updated")),t.push(new Yt("md5Hash",null,!0)),t.push(new Yt("cacheControl",null,!0)),t.push(new Yt("contentDisposition",null,!0)),t.push(new Yt("contentEncoding",null,!0)),t.push(new Yt("contentLanguage",null,!0)),t.push(new Yt("contentType",null,!0)),t.push(new Yt("metadata","customMetadata",!0)),ic=t,ic}function XP(t,e){function r(){const n=t.bucket,A=t.fullPath,s=new Cr(n,A);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:r})}function YP(t,e,r){const n={};n.type="file";const A=r.length;for(let s=0;s<A;s++){const i=r[s];n[i.local]=i.xform(n,e[i.server])}return XP(n,t),n}function HI(t,e,r){const n=PI(e);return n===null?null:YP(t,n,r)}function ZP(t,e,r,n){const A=PI(e);if(A===null||!L0(A.downloadTokens))return null;const s=A.downloadTokens;if(s.length===0)return null;const i=encodeURIComponent;return s.split(",").map(u=>{const d=t.bucket,h=t.fullPath,f="/b/"+i(d)+"/o/"+i(h),w=M0(f,r,n),v=SI({alt:"media",token:u});return w+v})[0]}function eD(t,e){const r={},n=e.length;for(let A=0;A<n;A++){const s=e[A];s.writable&&(r[s.server]=t[s.local])}return JSON.stringify(r)}class MI{constructor(e,r,n,A){this.url=e,this.method=r,this.handler=n,this.timeout=A,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OI(t){if(!t)throw D0()}function tD(t,e){function r(n,A){const s=HI(t,A,e);return OI(s!==null),s}return r}function rD(t,e){function r(n,A){const s=HI(t,A,e);return OI(s!==null),ZP(s,A,t.host,t._protocol)}return r}function VI(t){function e(r,n){let A;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?A=gP():A=fP():r.getStatus()===402?A=hP(t.bucket):r.getStatus()===403?A=mP(t.path):A=n,A.status=r.getStatus(),A.serverResponse=n.serverResponse,A}return e}function nD(t){const e=VI(t);function r(n,A){let s=e(n,A);return n.getStatus()===404&&(s=dP(t.path)),s.serverResponse=A.serverResponse,s}return r}function AD(t,e,r){const n=e.fullServerUrl(),A=M0(n,t.host,t._protocol),s="GET",i=t.maxOperationRetryTime,a=new MI(A,s,rD(t,r),i);return a.errorHandler=nD(e),a}function sD(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function iD(t,e,r){const n=Object.assign({},r);return n.fullPath=t.path,n.size=e.size(),n.contentType||(n.contentType=sD(null,e)),n}function oD(t,e,r,n,A){const s=e.bucketOnlyServerUrl(),i={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let C=0;C<2;C++)y=y+Math.random().toString().slice(2);return y}const l=a();i["Content-Type"]="multipart/related; boundary="+l;const u=iD(e,n,A),d=eD(u,r),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,f=`\r
--`+l+"--",w=fA.getBlob(h,n,f);if(w===null)throw xP();const v={name:u.fullPath},_=M0(s,t.host,t._protocol),Q="POST",B=t.maxUploadRetryTime,m=new MI(_,Q,tD(t,r),B);return m.urlParams=v,m.headers=i,m.body=w.uploadData(),m.errorHandler=VI(e),m}class aD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ps.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ps.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ps.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,A){if(this.sent_)throw Eo("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),A!==void 0)for(const s in A)A.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,A[s].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Eo("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Eo("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Eo("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Eo("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class lD extends aD{initXhr(){this.xhr_.responseType="text"}}function KI(){return new lD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,r){this._service=e,r instanceof Cr?this._location=r:this._location=Cr.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Ts(e,r)}get root(){const e=new Cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return DI(this._location.path)}get storage(){return this._service}get parent(){const e=WP(this._location.path);if(e===null)return null;const r=new Cr(this._location.bucket,e);return new Ts(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw bP(e)}}function cD(t,e,r){t._throwIfRoot("uploadBytes");const n=oD(t.storage,t._location,LI(),new fA(e,!0),r);return t.storage.makeRequestWithTokens(n,KI).then(A=>({metadata:A,ref:t}))}function uD(t){t._throwIfRoot("getDownloadURL");const e=AD(t.storage,t._location,LI());return t.storage.makeRequestWithTokens(e,KI).then(r=>{if(r===null)throw CP();return r})}function dD(t,e){const r=$P(t._location.path,e),n=new Cr(t._location.bucket,r);return new Ts(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){return/^[A-Za-z]+:\/\//.test(t)}function fD(t,e){return new Ts(t,e)}function GI(t,e){if(t instanceof O0){const r=t;if(r._bucket==null)throw vP();const n=new Ts(r,r._bucket);return e!=null?GI(n,e):n}else return e!==void 0?dD(t,e):t}function gD(t,e){if(e&&hD(e)){if(t instanceof O0)return fD(t,e);throw hm("To use ref(service, url), the first argument must be a Storage instance.")}else return GI(t,e)}function kv(t,e){const r=e==null?void 0:e[TI];return r==null?null:Cr.makeFromBucketSpec(r,t)}function mD(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:A}=n;A&&(t._overrideAuthToken=typeof A=="string"?A:bb(A,t.app.options.projectId))}class O0{constructor(e,r,n,A,s){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=A,this._firebaseVersion=s,this._bucket=null,this._host=QI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=cP,this._maxUploadRetryTime=uP,this._requests=new Set,A!=null?this._bucket=Cr.makeFromBucketSpec(A,this._host):this._bucket=kv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cr.makeFromBucketSpec(this._url,e):this._bucket=kv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ts(this,e)}_makeRequest(e,r,n,A,s=!0){if(this._deleted)return new _P(NI());{const i=PP(e,this._appId,n,A,r,this._firebaseVersion,s);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}async makeRequestWithTokens(e,r){const[n,A]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,A).getPromise()}}const jv="@firebase/storage",Pv="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="storage";function pD(t,e,r){return t=Je(t),cD(t,e,r)}function wD(t){return t=Je(t),uD(t)}function yD(t,e){return t=Je(t),gD(t,e)}function BD(t=Id(),e){t=Je(t);const n=_d(t,zI).getImmediate({identifier:e}),A=xb("storage");return A&&vD(n,...A),n}function vD(t,e,r,n={}){mD(t,e,r,n)}function xD(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),A=t.getProvider("app-check-internal");return new O0(r,n,A,e,ks)}function CD(){bs(new DA(zI,xD,"PUBLIC").setMultipleInstances(!0)),fn(jv,Pv,""),fn(jv,Pv,"esm2017")}CD();const fm={apiKey:"AIzaSyB-3QbAvNsJqJT_hOuFNQcwZyLlHWgd2u4",authDomain:"akxtral-hack.firebaseapp.com",projectId:"akxtral-hack",storageBucket:"akxtral-hack.firebasestorage.app",messagingSenderId:"822786492627",appId:"1:822786492627:web:1a852128db9a23996e6c26"},ED=["apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId"],Dv=ED.filter(t=>!fm[t]||fm[t].includes("your-project"));Dv.length>0&&(console.error("Missing Firebase configuration:",Dv),console.error("Please set the following environment variables in Netlify:"),console.error("VITE_FIREBASE_API_KEY"),console.error("VITE_FIREBASE_AUTH_DOMAIN"),console.error("VITE_FIREBASE_PROJECT_ID"),console.error("VITE_FIREBASE_STORAGE_BUCKET"),console.error("VITE_FIREBASE_MESSAGING_SENDER_ID"),console.error("VITE_FIREBASE_APP_ID"));let qn;try{qn=MN().length?Id():Ub(fm)}catch(t){console.error("Firebase initialization error:",t),qn=null}const se=qn?qj(qn):null,pr=qn?aR(qn):null,bD=qn?BD(qn):null,WI=!!qn,$I=k.createContext(null),xt=()=>{const t=k.useContext($I);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},_D=({children:t})=>{const[e,r]=k.useState(null),[n,A]=k.useState(null),[s,i]=k.useState(!0),[a,l]=k.useState(null),[u,d]=k.useState(null),h=k.useCallback(async(y,C=!1)=>{if(!se)throw new Error("Database not initialized");const F=ve(se,"users",y.uid),T=await ar(F);if(!T.exists()||C){const E={uid:y.uid,email:y.email||"",role:"user",createdAt:Pe(),updatedAt:Pe(),displayName:y.displayName||"",photoURL:"",phoneNumber:"",mfaEnabled:!1,mfaSecret:""};return await dm(F,E,{merge:!0}),E}else{const E=T.data(),x={...E,email:y.email||E.email,displayName:E.displayName||y.displayName||"",updatedAt:Pe()};return await dm(F,x,{merge:!0}),x}},[]);k.useEffect(()=>{if(!WI||!pr||!se){l("Firebase is not properly configured. Please check your environment variables."),i(!1);return}const y=JS(pr,async C=>{if(u&&(u(),d(null)),r(C),C)try{const F=ve(se,"users",C.uid);await h(C);const T=Zr(F,E=>{if(E.exists()){const x=E.data();A(x)}else A(null)},E=>{console.error("Error listening to user profile:",E),A(null)});d(()=>T)}catch(F){console.error("Error setting up user profile listener:",F),A(null)}else A(null);i(!1)});return()=>{y(),u&&u()}},[h]);const m={user:e,userProfile:n,loading:s,signIn:async(y,C)=>{if(!pr)throw new Error("Auth not initialized");await qg(pr,y,C)},signUp:async(y,C)=>{if(!pr)throw new Error("Auth not initialized");await WS(pr,y,C)},signInWithGoogle:async()=>{if(!pr)throw new Error("Auth not initialized");const y=new Qn;await p4(pr,y)},logout:async()=>{if(!pr)throw new Error("Auth not initialized");try{u&&(u(),d(null)),await XS(pr)}catch(y){console.error("Logout error:",y)}},hasRole:y=>(n==null?void 0:n.role)===y,hasAnyRole:y=>n?y.includes(n.role):!1,firebaseError:a};return o.jsx($I.Provider,{value:m,children:!s&&t})};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ID={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),fe=(t,e)=>{const r=k.forwardRef(({color:n="currentColor",size:A=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:a="",children:l,...u},d)=>k.createElement("svg",{ref:d,...ID,width:A,height:A,stroke:n,strokeWidth:i?Number(s)*24/Number(A):s,className:["lucide",`lucide-${UD(t)}`,a].join(" "),...u},[...e.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=fe("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=fe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=fe("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=fe("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=fe("CalendarCheck",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=fe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zu=fe("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=fe("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=fe("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=fe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=fe("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=fe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=fe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=fe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=fe("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=fe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=fe("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=fe("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=fe("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=fe("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=fe("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=fe("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=fe("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),KD=({onSignUpClick:t,onSuccess:e})=>{const[r,n]=k.useState(""),[A,s]=k.useState(""),[i,a]=k.useState(""),[l,u]=k.useState(!1),[d,h]=k.useState(!1),[f,w]=k.useState(""),[v,_]=k.useState(!1),[Q,B]=k.useState(""),[m,y]=k.useState(null),{signInWithGoogle:C}=xt(),F=(te,ee)=>{if(!te||!ee||ee.length!==6)return!1;const ne=Math.floor(Date.now()/3e4);for(let L=-2;L<=2;L++){const M=ne+L;if(T(te,M)===ee)return!0}return!1},T=(te,ee)=>{try{const ne=E(te),L=new ArrayBuffer(8);new DataView(L).setUint32(4,ee,!1);const V=x(ne,new Uint8Array(L)),q=V[V.length-1]&15;return(((V[q]&127)<<24|(V[q+1]&255)<<16|(V[q+2]&255)<<8|V[q+3]&255)%1e6).toString().padStart(6,"0")}catch(ne){return console.error("Error generating TOTP:",ne),"000000"}},E=te=>{const ee="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let ne=0,L=0,M=[];const V=te.replace(/=/g,"").toUpperCase();for(let q=0;q<V.length;q++){const X=V[q],K=ee.indexOf(X);K!==-1&&(L=L<<5|K,ne+=5,ne>=8&&(M.push(L>>>ne-8&255),ne-=8))}return new Uint8Array(M)},x=(te,ee)=>{let L=new Uint8Array(64);if(te.length>64){const K=I(te);L.set(K.slice(0,64))}else L.set(te);const M=new Uint8Array(64),V=new Uint8Array(64);for(let K=0;K<64;K++)M[K]=L[K]^54,V[K]=L[K]^92;const q=I(new Uint8Array([...M,...ee]));return I(new Uint8Array([...V,...q]))},I=te=>{const ee=new Uint8Array(20);let ne=1732584193,L=4023233417,M=2562383102,V=271733878,q=3285377520;for(let K=0;K<te.length;K+=64){const oe=te.slice(K,K+64);for(let ae=0;ae<oe.length;ae++)ne=(ne<<5|ne>>>27)+oe[ae]+L,L=M,M=V<<30|V>>>2,V=q,q=ne}const X=new DataView(ee.buffer);return X.setUint32(0,ne,!1),X.setUint32(4,L,!1),X.setUint32(8,M,!1),X.setUint32(12,V,!1),X.setUint32(16,q,!1),ee},b=te=>{try{const ee=JSON.parse(localStorage.getItem("mfaRememberedDevices")||"{}"),ne=`${te}_${navigator.userAgent.slice(0,50)}`,L=ee[ne];return L&&new Date(L.expires)>new Date?!0:(L&&new Date(L.expires)<=new Date&&(delete ee[ne],localStorage.setItem("mfaRememberedDevices",JSON.stringify(ee))),!1)}catch(ee){return console.error("Error checking remembered device:",ee),!1}},S=te=>{try{const ee=JSON.parse(localStorage.getItem("mfaRememberedDevices")||"{}"),ne=`${te}_${navigator.userAgent.slice(0,50)}`,L=new Date;L.setDate(L.getDate()+30),ee[ne]={expires:L.toISOString(),created:new Date().toISOString()},localStorage.setItem("mfaRememberedDevices",JSON.stringify(ee))}catch(ee){console.error("Error remembering device:",ee)}},R=async te=>{te.preventDefault(),w(""),_(!0);try{const ne=(await qg(pr,r,A)).user,L=await ar(ve(se,"users",ne.uid));if(L.exists()){const M=L.data();if(M.mfaEnabled&&M.mfaSecret){if(b(r)){e&&e();return}await pr.signOut(),B(M.mfaSecret),y({email:r,password:A,uid:ne.uid}),u(!0),_(!1);return}}e&&e()}catch(ee){console.error("Login error:",ee),ee.code==="auth/user-not-found"?w("No account found with this email address."):ee.code==="auth/wrong-password"?w("Incorrect password. Please try again."):ee.code==="auth/invalid-email"?w("Please enter a valid email address."):ee.code==="auth/too-many-requests"?w("Too many failed attempts. Please try again later."):ee.code==="auth/invalid-credential"?w("Invalid email or password. Please check your credentials."):w("Failed to sign in. Please check your credentials.")}finally{_(!1)}},N=async te=>{te.preventDefault(),w(""),_(!0);try{if(!i||i.length!==6){w("Please enter a valid 6-digit MFA code"),_(!1);return}if(!Q){w("MFA secret not found. Please try logging in again."),_(!1);return}if(!F(Q,i)){w("Invalid MFA code. Please check your authenticator app and try again."),_(!1);return}m&&(await qg(pr,m.email,m.password),d&&S(m.email),y(null),u(!1),a(""),B(""),e&&e())}catch(ee){console.error("MFA verification error:",ee),ee.code==="auth/invalid-credential"?(w("Session expired. Please try logging in again."),u(!1),y(null),a(""),B("")):w("Failed to verify MFA code. Please try again.")}finally{_(!1)}},J=async()=>{try{await C(),e&&e()}catch(te){switch(console.error(te),te.code){case"auth/popup-closed-by-user":w("Sign-in was cancelled. Please try again.");break;case"auth/popup-blocked":w("Popup was blocked. Please allow popups and try again.");break;case"auth/account-exists-with-different-credential":w("An account already exists with this email using a different sign-in method.");break;default:w("Failed to sign in with Google. Please try again.")}}};return l?o.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Dr,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h2",{className:"text-2xl sm:text-3xl font-extrabold text-gray-900",children:"Two-Factor Authentication"}),o.jsx("p",{className:"mt-2 text-sm sm:text-base text-gray-600",children:"Enter the 6-digit code from your authenticator app"})]}),f&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:o.jsx("span",{className:"block sm:inline text-sm",children:f})}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:N,children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"mfaCode",className:"sr-only",children:"MFA Code"}),o.jsx("input",{id:"mfaCode",name:"mfaCode",type:"text",inputMode:"numeric",pattern:"[0-9]*",maxLength:6,required:!0,autoComplete:"one-time-code",className:"appearance-none rounded-lg relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 text-center text-lg font-mono",placeholder:"000000",value:i,onChange:te=>a(te.target.value.replace(/\D/g,"").slice(0,6)),autoFocus:!0})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("input",{id:"rememberDevice",name:"rememberDevice",type:"checkbox",checked:d,onChange:te=>h(te.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),o.jsx("label",{htmlFor:"rememberDevice",className:"ml-2 block text-sm text-gray-900",children:"Don't ask on this browser for 30 days"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{type:"submit",disabled:v||i.length!==6,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:v?"Verifying...":"Verify Code"}),o.jsx("button",{type:"button",onClick:()=>{u(!1),a(""),w(""),y(null),B("")},className:"w-full text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"Back to login"})]})]})]})}):o.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[o.jsx("div",{children:o.jsx("h2",{className:"mt-6 text-center text-2xl sm:text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),f&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:o.jsx("span",{className:"block sm:inline text-sm",children:f})}),o.jsxs("button",{onClick:J,className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[o.jsx(ZI,{size:20}),"Sign in with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:R,children:[o.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r,onChange:te=>n(te.target.value)})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:A,onChange:te=>s(te.target.value)})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:v,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:v?"Signing in...":"Sign in"})})]}),o.jsx("div",{className:"text-center mt-4",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["New to Akxtral? "," ",o.jsx("button",{onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"Create an account"})]})})]})})},GD=({onLoginClick:t,onSuccess:e})=>{const[r,n]=k.useState({fullName:"",email:"",password:"",confirmPassword:""}),[A,s]=k.useState(""),[i,a]=k.useState(!1),{signUp:l,signInWithGoogle:u}=xt(),d=async f=>{if(f.preventDefault(),s(""),r.password!==r.confirmPassword)return s("Passwords do not match");a(!0);try{await l(r.email,r.password),e&&e()}catch{s("Failed to create an account")}finally{a(!1)}},h=async()=>{try{await u(),e&&e()}catch(f){switch(console.error(f),f.code){case"auth/email-already-in-use":s("An account with this email already exists.");break;case"auth/invalid-email":s("Please enter a valid email address.");break;case"auth/weak-password":s("Password is too weak. Please choose a stronger password.");break;default:s("Failed to create an account. Please try again.")}}};return o.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[o.jsx("div",{children:o.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),A&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:o.jsx("span",{className:"block sm:inline",children:A})}),o.jsxs("button",{onClick:h,className:"w-full flex items-center justify-center gap-2 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:[o.jsx(ZI,{size:20}),"Sign in with Google"]}),o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-0 flex items-center",children:o.jsx("div",{className:"w-full border-t border-gray-300"})}),o.jsx("div",{className:"relative flex justify-center text-sm",children:o.jsx("span",{className:"px-2 bg-white text-gray-500",children:"Or continue with"})})]}),o.jsxs("form",{className:"mt-8 space-y-6",onSubmit:d,children:[o.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"fullName",className:"sr-only",children:"Full Name"}),o.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full Name",value:r.fullName,onChange:f=>n({...r,fullName:f.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),o.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:r.email,onChange:f=>n({...r,email:f.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),o.jsx("input",{id:"password",name:"password",type:"password",required:!0,title:"Password must be at least 8 characters. Use a mix of letters, numbers, and symbols.",className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password",value:r.password,onChange:f=>n({...r,password:f.target.value})})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"confirmPassword",className:"sr-only",children:"Confirm Password"}),o.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"appearance-none rounded-lg relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:r.confirmPassword,onChange:f=>n({...r,confirmPassword:f.target.value})})]})]}),o.jsx("div",{children:o.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating account...":"Sign up"})})]}),o.jsx("div",{className:"text-center mt-4",children:o.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account? "," ",o.jsx("button",{onClick:t,className:"font-medium text-blue-600 hover:text-blue-500",children:"Sign in"})]})})]})})},zD=({grounds:t})=>{const{id:e}=Ed(),r=rn(),n=t.find(A=>A.id===e);return n?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>r("/"),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to all grounds"]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsx("div",{className:"relative h-96",children:n.image?o.jsx("img",{src:n.image,alt:n.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-100 text-gray-400",children:"No image selected"})}),o.jsxs("div",{className:"p-8",children:[o.jsxs("div",{className:"flex justify-between items-start mb-6",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:n.name}),o.jsxs("div",{className:"flex items-center bg-green-100 px-3 py-1 rounded-full",children:[o.jsx(HD,{className:"w-5 h-5 text-green-600 mr-1"}),o.jsx("span",{className:"text-green-600 font-medium",children:n.rating})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Location"}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(yn,{className:"w-5 h-5 mr-2"}),o.jsxs("span",{children:[n.location,", ",n.area]})]})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Sports Available"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.sports.map(A=>o.jsx("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:A},A))})]}),o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Opening Hours"}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(Tt,{className:"w-5 h-5 mr-2"}),o.jsx("span",{children:n.openingTime})]})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Pricing"}),o.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["₹",n.pricePerHour,o.jsx("span",{className:"text-gray-500 text-base font-normal",children:" per hour"})]})]}),o.jsx("button",{className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Book Now"}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("h3",{className:"font-semibold mb-2",children:"Distance"}),o.jsxs("p",{className:"text-gray-600",children:[n.distance," from your location"]})]})]})]})]})]})]}):o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Ground not found"}),o.jsxs("button",{onClick:()=>r("/"),className:"mt-4 inline-flex items-center text-blue-600 hover:text-blue-800",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to home"]})]})})},WD=()=>{const{id:t}=Ed(),e=rn(),{user:r}=xt(),[n,A]=k.useState(null),[s,i]=k.useState(!0),[a,l]=k.useState(""),[u,d]=k.useState(!1);k.useEffect(()=>{(async()=>{if(!t){l("Card ID not provided"),i(!1);return}try{const _=await ar(ve(se,"cards",t));_.exists()?A({id:_.id,..._.data()}):l("Card not found")}catch(_){console.error("Error fetching card:",_),l("Failed to load card details")}finally{i(!1)}})()},[t]);const h=()=>{if(!r){d(!0);return}e(`/book/${t}`)},f=v=>`https://www.google.com/maps/embed/v1/place?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dkmvuFiYMuO2U8&q=${encodeURIComponent(v)}`,w=()=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center p-4 sm:p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Login Required"}),o.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(et,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Hv,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Book?"}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"You need to be logged in to make a booking. Please sign in to continue with your reservation."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>{d(!1),e("/"),setTimeout(()=>{const v=document.querySelector("[data-login-trigger]");v&&v.click()},100)},className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Sign In to Book"}),o.jsx("button",{onClick:()=>d(!1),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Maybe Later"})]})]})]})});return s?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):a||!n?o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>e("/"),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to home"]}),o.jsxs("div",{className:"text-center bg-white rounded-xl shadow-lg p-8 sm:p-12",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:a||"Card not found"}),o.jsx("p",{className:"text-gray-600 mb-6 text-sm sm:text-base",children:"The card you're looking for doesn't exist or has been removed."}),o.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Return Home"]})]})]}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>e("/"),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to home"]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[o.jsxs("div",{className:"relative h-64 sm:h-80 md:h-96 lg:h-[500px]",children:[o.jsx("img",{src:n.imageUrl,alt:n.title,className:"w-full h-full object-cover",onError:v=>{const _=v.target;_.src="https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),o.jsxs("div",{className:"absolute bottom-4 sm:bottom-6 left-4 sm:left-6 text-white",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-2",children:n.title}),o.jsxs("div",{className:"flex flex-wrap gap-2 sm:gap-3",children:[o.jsx("div",{className:"inline-block bg-white/20 backdrop-blur-sm px-3 sm:px-4 py-1 sm:py-2 rounded-full",children:o.jsx("span",{className:"text-sm sm:text-lg font-medium",children:n.type})}),n.pricePerHour>0&&o.jsx("div",{className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-3 sm:px-4 py-1 sm:py-2 rounded-full",children:o.jsxs("span",{className:"text-sm sm:text-lg font-medium",children:["₹",n.pricePerHour,"/hour"]})}),(n.openingTime||n.closingTime)&&o.jsxs("div",{className:"inline-flex items-center bg-white/20 backdrop-blur-sm px-3 sm:px-4 py-1 sm:py-2 rounded-full",children:[o.jsx(Tt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),o.jsx("span",{className:"text-sm sm:text-lg font-medium",children:n.openingTime&&n.closingTime?`${n.openingTime} - ${n.closingTime}`:n.openingTime||n.closingTime})]})]})]})]}),o.jsx("div",{className:"p-4 sm:p-6 lg:p-8",children:o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 lg:gap-8",children:[o.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[n.description&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"About This Venue"}),o.jsx("div",{className:"bg-blue-50 rounded-lg p-4 sm:p-6",children:o.jsx("p",{className:"text-gray-700 leading-relaxed text-sm sm:text-base",children:n.description})})]}),n.location&&o.jsxs("div",{children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold mb-4 text-gray-900",children:"Location"}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(yn,{className:"w-5 h-5 text-gray-600 mr-2 flex-shrink-0"}),o.jsx("span",{className:"text-gray-700 font-medium text-sm sm:text-base",children:n.location})]}),o.jsx("div",{className:"rounded-lg overflow-hidden border border-gray-200",children:o.jsx("iframe",{src:f(n.location),width:"100%",height:"250",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:`Map showing location of ${n.title}`,className:"sm:h-[300px]"})})]})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200 sticky top-4",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:"Book This Venue"}),n.pricePerHour>0&&o.jsx("div",{className:"mb-4",children:o.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-green-600",children:["₹",n.pricePerHour,o.jsx("span",{className:"text-base sm:text-lg font-normal text-gray-500",children:"/hour"})]})}),o.jsxs("button",{onClick:h,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium flex items-center justify-center mb-4 text-sm sm:text-base",children:[o.jsx(Hv,{className:"w-5 h-5 mr-2"}),r?"Book Now":"Book Now (Login Required)"]}),o.jsx("button",{onClick:()=>e("/"),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium text-sm sm:text-base",children:"Back to Home"})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 border border-gray-200",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4",children:"Venue Details"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-full flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0",children:o.jsx(qr,{className:"w-5 h-5 sm:w-6 sm:h-6 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:"Sport Type"}),o.jsx("p",{className:"text-gray-600 text-sm",children:n.type})]})]}),(n.openingTime||n.closingTime)&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 rounded-full flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0",children:o.jsx(Tt,{className:"w-5 h-5 sm:w-6 sm:h-6 text-orange-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:"Operating Hours"}),o.jsx("p",{className:"text-gray-600 text-sm",children:n.openingTime&&n.closingTime?`${n.openingTime} - ${n.closingTime}`:n.openingTime||n.closingTime})]})]}),n.location&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-full flex items-center justify-center mr-3 sm:mr-4 flex-shrink-0",children:o.jsx(yn,{className:"w-5 h-5 sm:w-6 sm:h-6 text-green-600"})}),o.jsxs("div",{className:"min-w-0 flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:"Location"}),o.jsx("p",{className:"text-gray-600 text-sm break-words",children:n.location})]})]})]})]})]})]})})]}),u&&o.jsx(w,{})]})},$D=()=>{const{id:t}=Ed(),e=rn(),{user:r,hasRole:n,userProfile:A}=xt(),[s,i]=k.useState(null),[a,l]=k.useState(!0),[u,d]=k.useState(null),[h,f]=k.useState([]),[w,v]=k.useState([]),[_,Q]=k.useState(!1),[B,m]=k.useState(""),[y,C]=k.useState(""),[F,T]=k.useState(0),[E,x]=k.useState(0),[I,b]=k.useState(new Date),S=(z,Z)=>{const H=[],j=be=>{const[ye,Be]=be.split(" "),[Ke,dt]=ye.split(":").map(Number);let nt=Ke;return(Be==null?void 0:Be.toUpperCase())==="PM"&&Ke!==12?nt+=12:(Be==null?void 0:Be.toUpperCase())==="AM"&&Ke===12&&(nt=0),nt*60+(dt||0)},W=be=>{const ye=Math.floor(be/60),Be=be%60,Ke=ye>=12?"PM":"AM";return`${ye===0?12:ye>12?ye-12:ye}:${Be.toString().padStart(2,"0")} ${Ke}`},ue=j(z);let he=j(Z);he<=ue&&(he+=24*60);for(let be=ue;be<he;be+=60){const ye=be%1440;H.push(W(ye))}return H},R=z=>{const Z=z.getFullYear(),H=String(z.getMonth()+1).padStart(2,"0"),j=String(z.getDate()).padStart(2,"0");return`${Z}-${H}-${j}`},N=async(z,Z)=>{const H=R(z);console.log("Checking availability for date:",H);const j=Wt(Ne(se,"bookings"),xr("cardId","==",Z),xr("date","==",H)),ue=(await Ku(j)).docs.map(he=>{const be=he.data();return console.log("Found booking:",be),be.timeSlot});return console.log("Booked slots for",H,":",ue),ue};k.useEffect(()=>{(async()=>{if(!t){m("Card ID not provided"),l(!1);return}try{const Z=await ar(ve(se,"cards",t));if(Z.exists()){const H={id:Z.id,...Z.data()};i(H)}else m("Card not found")}catch(Z){console.error("Error fetching card:",Z),m("Failed to load card details")}finally{l(!1)}})()},[t]),k.useEffect(()=>{(async()=>{if(u&&s&&s.openingTime&&s.closingTime){const Z=S(s.openingTime,s.closingTime),H=await N(u,s.id),j=Z.map(W=>({time:W,available:!H.includes(W)}));v(j)}})()},[u,s]);const J=z=>{console.log("Selected date:",z,"Formatted:",R(z)),d(z),f([]),m(""),C("")},te=z=>{f(Z=>Z.includes(z)?Z.filter(H=>H!==z):[...Z,z])},ee=()=>!r||!s||n("admin")?!1:n("user")?!0:n("host")?s.assignedHost!==r.uid:!1,ne=()=>r?n("admin")?"Admins cannot book cards":n("host")&&(s==null?void 0:s.assignedHost)===r.uid?"You cannot book your own assigned card":"You do not have permission to book this card":"Please log in to make a booking",L=async()=>{if(console.log("🔥 handleConfirmBooking called"),!r){console.warn("❌ No user logged in"),m("Please log in to make a booking");return}if(!ee()){console.warn("❌ User not allowed to book card",{user:r,card:s}),m(ne());return}if(!u||h.length===0){console.warn("❌ Date or time slot not selected"),m("Please select a date and at least one time slot");return}if(!s){console.warn("❌ Card data not loaded"),m("Card information not available");return}if(F>0&&E<=0){m("Please set a valid price per slot for open slots");return}Q(!0),m("");try{const z=R(u);console.log("Storing booking for date:",z);const Z=h.length*(s.pricePerHour||0),H=h.map(ue=>{const he={userId:r.uid,cardId:s.id,Card_ID:s.Card_ID,date:z,timeSlot:ue,bookingTime:new Date};return F>0&&(he.openSlots=F,he.perSlotPrice=E),console.log("📦 Booking payload being sent to Firestore:",he),lr(Ne(se,"bookings"),he)}),W=(await Promise.all(H))[0].id;if(s.assignedHost)try{await lr(Ne(se,"notifications"),{userId:s.assignedHost,type:"card_booked",title:"Your card has been booked!",message:`${(A==null?void 0:A.displayName)||r.email} has booked your card "${s.title}" on ${M(u)} at ${h.join(", ")}${F>0?` with ${F} open slots at ₹${E} per slot`:""}`,bookingId:W,bookedByUserId:r.uid,bookedByEmail:r.email,bookedByDisplayName:(A==null?void 0:A.displayName)||"",bookedByPhoneNumber:(A==null?void 0:A.phoneNumber)||"",cardTitle:s.title,bookingDate:z,bookingTimeSlots:h,openSlots:F,perSlotPrice:E,read:!1,createdAt:new Date})}catch(ue){console.error("Error creating notification for assigned host:",ue)}C(`Successfully booked ${h.length} time slot${h.length>1?"s":""} for ${u.toLocaleDateString()}${F>0?` with ${F} open slots at ₹${E} per slot`:""}`),e(`/receipt/${W}`)}catch(z){console.error("Error creating booking:",z),m("Failed to create booking. Please try again.")}finally{Q(!1)}},M=z=>z.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),V=()=>{const z=new Date,Z=I.getFullYear(),H=I.getMonth(),j=new Date(Z,H+1,0).getDate(),W=new Date(Z,H,1).getDay(),ue=[];for(let he=0;he<W;he++)ue.push(o.jsx("div",{className:"h-10 w-10 sm:h-12 sm:w-12"},`empty-${he}`));for(let he=1;he<=j;he++){const be=new Date(Z,H,he),ye=be.toDateString()===z.toDateString(),Be=u&&be.toDateString()===u.toDateString(),Ke=be<z&&!ye;ue.push(o.jsx("button",{onClick:()=>!Ke&&J(be),disabled:Ke,className:`
            h-10 w-10 sm:h-12 sm:w-12 rounded-lg flex items-center justify-center text-sm transition-all duration-200
            ${Ke?"text-gray-300 cursor-not-allowed":"hover:bg-blue-100"}
            ${ye&&!Be?"border-2 border-blue-500":""}
            ${Be?"bg-blue-500 text-white hover:bg-blue-600":""}
            ${!Ke&&!Be?"hover:bg-gray-100":""}
          `,children:he},he))}return ue},q=()=>{b(new Date(I.getFullYear(),I.getMonth()-1,1))},X=()=>{b(new Date(I.getFullYear(),I.getMonth()+1,1))},K=()=>{const z=[1,2,3,4,5,6,7,8];return o.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 sm:p-6 mb-6 border border-blue-200",children:[o.jsxs("h3",{className:"text-base sm:text-lg font-semibold mb-4 flex items-center text-blue-800",children:[o.jsx(fr,{className:"w-5 h-5 mr-2 text-blue-600"}),"Slots Open for Other Players (Optional)"]}),o.jsx("p",{className:"text-xs sm:text-sm text-blue-700 mb-4",children:"Select how many slots you want to keep open for other players to join your game"}),o.jsx("div",{className:"grid grid-cols-4 gap-2 sm:gap-3 mb-4",children:z.map(Z=>o.jsxs("button",{onClick:()=>T(F===Z?0:Z),className:`
                p-3 sm:p-4 rounded-lg border-2 transition-all duration-200 flex flex-col items-center space-y-2
                ${F===Z?"border-blue-500 bg-blue-100 text-blue-700 shadow-md":"border-gray-200 hover:border-blue-300 text-gray-600 hover:bg-white"}
              `,children:[o.jsx("div",{className:"flex space-x-1",children:Array.from({length:Z},(H,j)=>o.jsx("div",{className:`w-2 h-2 sm:w-3 sm:h-3 rounded-full ${F===Z?"bg-blue-500":"bg-gray-300"}`},j))}),o.jsx("span",{className:"font-medium text-xs sm:text-sm",children:Z})]},Z))}),F>0&&o.jsxs("div",{className:"mt-4 p-3 sm:p-4 bg-white rounded-lg border border-blue-200",children:[o.jsx("label",{className:"block text-xs sm:text-sm font-medium text-blue-800 mb-2",children:"Price Per Slot (₹) *"}),o.jsx("input",{type:"number",value:E||"",onChange:Z=>x(parseFloat(Z.target.value)||0),onFocus:Z=>Z.target.select(),placeholder:"Enter price per slot",min:"1",step:"1",required:!0,className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-sm"}),o.jsxs("p",{className:"text-blue-700 text-xs sm:text-sm mt-2",children:[o.jsxs("strong",{children:[F," slots"]})," will be available for other players at ₹",E||0," per slot"]})]})]})};if(a)return o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(B&&!s)return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>e("/"),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to home"]}),o.jsxs("div",{className:"text-center bg-white rounded-xl shadow-lg p-8 sm:p-12",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Error"}),o.jsx("p",{className:"text-gray-600 mb-6 text-sm sm:text-base",children:B}),o.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Return Home"]})]})]});if(!s)return null;if(!ee())return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>e(`/card/${t}`),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to card details"]}),o.jsxs("div",{className:"text-center bg-white rounded-xl shadow-lg p-8 sm:p-12",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Cannot Book This Card"}),o.jsx("p",{className:"text-gray-600 mb-6 text-sm sm:text-base",children:ne()}),o.jsxs("button",{onClick:()=>e("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Browse Other Cards"]})]})]});const oe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ae=["January","February","March","April","May","June","July","August","September","October","November","December"];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>e(`/card/${t}`),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to card details"]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-4 sm:p-6 lg:p-8",children:[o.jsxs("div",{className:"mb-6 sm:mb-8",children:[o.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-2",children:["Book ",s.title]}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Select a date and time slots for your booking"}),s.pricePerHour&&o.jsxs("p",{className:"text-base sm:text-lg font-semibold text-green-600 mt-2",children:["₹",s.pricePerHour," per hour"]})]}),B&&o.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:o.jsx("span",{className:"text-sm sm:text-base",children:B})}),y&&o.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:o.jsx("span",{className:"text-sm sm:text-base",children:y})}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 lg:gap-8",children:[o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold mb-4 flex items-center",children:[o.jsx(qr,{className:"w-5 h-5 mr-2"}),"Select Date"]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsxs("h3",{className:"text-base sm:text-lg font-medium",children:[ae[I.getMonth()]," ",I.getFullYear()]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-200 rounded-full transition-colors duration-200",children:o.jsx(Xd,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),o.jsx("button",{onClick:X,className:"p-2 hover:bg-gray-200 rounded-full transition-colors duration-200",children:o.jsx(Yd,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]}),o.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:oe.map(z=>o.jsx("div",{className:"h-6 sm:h-8 flex items-center justify-center text-xs text-gray-500 font-medium",children:z},z))}),o.jsx("div",{className:"grid grid-cols-7 gap-1",children:V()})]})]}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-lg sm:text-xl font-semibold mb-4 flex items-center",children:[o.jsx(Tt,{className:"w-5 h-5 mr-2"}),"Select Time Slots"]}),u?o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"mb-4",children:[o.jsxs("p",{className:"text-xs sm:text-sm text-gray-600",children:["Selected date: ",o.jsx("span",{className:"font-medium",children:u.toLocaleDateString()})]}),h.length>0&&o.jsxs("p",{className:"text-xs sm:text-sm text-blue-600 mt-1",children:[h.length," slot",h.length>1?"s":""," selected"]})]}),o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-64 overflow-y-auto",children:w.map(z=>o.jsxs("button",{onClick:()=>z.available&&te(z.time),disabled:!z.available,className:`
                        p-2 sm:p-3 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200 flex items-center justify-between
                        ${z.available?h.includes(z.time)?"bg-blue-500 text-white hover:bg-blue-600":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200":"bg-red-100 text-red-400 cursor-not-allowed"}
                      `,children:[o.jsx("span",{children:z.time}),!z.available&&o.jsx(et,{className:"w-3 h-3 sm:w-4 sm:h-4"}),z.available&&h.includes(z.time)&&o.jsx(TD,{className:"w-3 h-3 sm:w-4 sm:h-4"})]},z.time))}),w.length===0&&o.jsx("p",{className:"text-center text-gray-500 py-4 text-sm",children:"No time slots available"})]}):o.jsx("div",{className:"bg-gray-50 rounded-lg p-6 sm:p-8 text-center",children:o.jsx("p",{className:"text-gray-500 text-sm sm:text-base",children:"Please select a date first"})})]})]}),u&&h.length>0&&o.jsx(K,{}),u&&h.length>0&&o.jsxs("div",{className:"mt-6 sm:mt-8 bg-gradient-to-br from-blue-50 to-purple-50 rounded-xl p-4 sm:p-6 border border-blue-200",children:[o.jsx("h3",{className:"text-base sm:text-lg font-semibold mb-4 text-blue-800",children:"Booking Summary"}),o.jsxs("div",{className:"space-y-2 mb-4 sm:mb-6 text-sm sm:text-base",children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Card:"})," ",s.title]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Date:"})," ",u.toLocaleDateString()]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Time Slots:"})," ",h.join(", ")]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Total Slots:"})," ",h.length]}),s.pricePerHour&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Price per Hour:"})," ₹",s.pricePerHour]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Total Amount:"})," ",o.jsxs("span",{className:"text-green-600 font-bold",children:["₹",h.length*s.pricePerHour]})]})]}),F>0&&o.jsxs(o.Fragment,{children:[o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Open Slots for Others:"})," ",F]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Price per Slot:"})," ₹",E]}),o.jsxs("p",{children:[o.jsx("span",{className:"font-medium",children:"Potential Revenue:"})," ",o.jsxs("span",{className:"text-green-600",children:["₹",F*E]})]})]})]}),o.jsx("button",{onClick:L,disabled:_||!r||F>0&&E<=0,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium text-sm sm:text-base",children:_?"Confirming Booking...":"Confirm Booking"}),!r&&o.jsx("p",{className:"text-center text-red-600 text-xs sm:text-sm mt-2",children:"Please log in to make a booking"}),F>0&&E<=0&&o.jsx("p",{className:"text-center text-red-600 text-xs sm:text-sm mt-2",children:"Please set a valid price per slot"})]})]})]})};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pm=function(t,e){return pm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var A in n)Object.prototype.hasOwnProperty.call(n,A)&&(r[A]=n[A])},pm(t,e)};function nn(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");pm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wm=function(){return wm=Object.assign||function(e){for(var r,n=1,A=arguments.length;n<A;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},wm.apply(this,arguments)};function Zt(t,e,r,n){function A(s){return s instanceof r?s:new r(function(i){i(s)})}return new(r||(r=Promise))(function(s,i){function a(d){try{u(n.next(d))}catch(h){i(h)}}function l(d){try{u(n.throw(d))}catch(h){i(h)}}function u(d){d.done?s(d.value):A(d.value).then(a,l)}u((n=n.apply(t,[])).next())})}function Ht(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,A,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,A&&(s=u[0]&2?A.return:u[0]?A.throw||((s=A.return)&&s.call(A),0):A.next)&&!(s=s.call(A,u[1])).done)return s;switch(A=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,A=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],A=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function oc(t,e,r){if(arguments.length===2)for(var n=0,A=e.length,s;n<A;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||e)}var Jn=function(){function t(e,r,n,A){this.left=e,this.top=r,this.width=n,this.height=A}return t.prototype.add=function(e,r,n,A){return new t(this.left+e,this.top+r,this.width+n,this.height+A)},t.fromClientRect=function(e,r){return new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height)},t.fromDOMRectList=function(e,r){var n=Array.from(r).find(function(A){return A.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),eh=function(t,e){return Jn.fromClientRect(t,e.getBoundingClientRect())},qD=function(t){var e=t.body,r=t.documentElement;if(!e||!r)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,r.scrollWidth),Math.max(e.offsetWidth,r.offsetWidth),Math.max(e.clientWidth,r.clientWidth)),A=Math.max(Math.max(e.scrollHeight,r.scrollHeight),Math.max(e.offsetHeight,r.offsetHeight),Math.max(e.clientHeight,r.clientHeight));return new Jn(0,0,n,A)},th=function(t){for(var e=[],r=0,n=t.length;r<n;){var A=t.charCodeAt(r++);if(A>=55296&&A<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((A&1023)<<10)+(s&1023)+65536):(e.push(A),r--)}else e.push(A)}return e},st=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],A=-1,s="";++A<r;){var i=t[A];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(A+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},Gv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",JD=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var ac=0;ac<Gv.length;ac++)JD[Gv.charCodeAt(ac)]=ac;var zv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lc=0;lc<zv.length;lc++)Oo[zv.charCodeAt(lc)]=lc;var XD=function(t){var e=t.length*.75,r=t.length,n,A=0,s,i,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=Oo[t.charCodeAt(n)],i=Oo[t.charCodeAt(n+1)],a=Oo[t.charCodeAt(n+2)],l=Oo[t.charCodeAt(n+3)],d[A++]=s<<2|i>>4,d[A++]=(i&15)<<4|a>>2,d[A++]=(a&3)<<6|l&63;return u},YD=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},ZD=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ws=5,G0=11,Bf=2,eL=G0-ws,r1=65536>>ws,tL=1<<ws,vf=tL-1,rL=1024>>ws,nL=r1+rL,AL=nL,sL=32,iL=AL+sL,oL=65536>>G0,aL=1<<eL,lL=aL-1,Wv=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},cL=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},uL=function(t,e){var r=XD(t),n=Array.isArray(r)?ZD(r):new Uint32Array(r),A=Array.isArray(r)?YD(r):new Uint16Array(r),s=24,i=Wv(A,s/2,n[4]/2),a=n[5]===2?Wv(A,(s+n[4])/2):cL(n,Math.ceil((s+n[4])/4));return new dL(n[0],n[1],n[2],n[3],i,a)},dL=function(){function t(e,r,n,A,s,i){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=A,this.index=s,this.data=i}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ws],r=(r<<Bf)+(e&vf),this.data[r];if(e<=65535)return r=this.index[r1+(e-55296>>ws)],r=(r<<Bf)+(e&vf),this.data[r];if(e<this.highStart)return r=iL-oL+(e>>G0),r=this.index[r],r+=e>>ws&lL,r=this.index[r],r=(r<<Bf)+(e&vf),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),$v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hL=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var cc=0;cc<$v.length;cc++)hL[$v.charCodeAt(cc)]=cc;var fL="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",qv=50,gL=1,n1=2,A1=3,mL=4,pL=5,Jv=7,s1=8,Xv=9,yA=10,ym=11,Yv=12,Bm=13,wL=14,Vo=15,vm=16,uc=17,bo=18,yL=19,Zv=20,xm=21,_o=22,xf=23,Ks=24,mr=25,Ko=26,Go=27,Gs=28,BL=29,is=30,vL=31,dc=32,hc=33,Cm=34,Em=35,bm=36,Wa=37,_m=38,eu=39,tu=40,Cf=41,i1=42,xL=43,CL=[9001,65288],o1="!",Ce="×",fc="÷",Im=uL(fL),_n=[is,bm],Um=[gL,n1,A1,pL],a1=[yA,s1],ex=[Go,Ko],EL=Um.concat(a1),tx=[_m,eu,tu,Cm,Em],bL=[Vo,Bm],_L=function(t,e){e===void 0&&(e="strict");var r=[],n=[],A=[];return t.forEach(function(s,i){var a=Im.get(s);if(a>qv?(A.push(!0),a-=qv):A.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return n.push(i),r.push(vm);if(a===mL||a===ym){if(i===0)return n.push(i),r.push(is);var l=r[i-1];return EL.indexOf(l)===-1?(n.push(n[i-1]),r.push(l)):(n.push(i),r.push(is))}if(n.push(i),a===vL)return r.push(e==="strict"?xm:Wa);if(a===i1||a===BL)return r.push(is);if(a===xL)return s>=131072&&s<=196605||s>=196608&&s<=262141?r.push(Wa):r.push(is);r.push(a)}),[n,r,A]},Ef=function(t,e,r,n){var A=n[r];if(Array.isArray(t)?t.indexOf(A)!==-1:t===A)for(var s=r;s<=n.length;){s++;var i=n[s];if(i===e)return!0;if(i!==yA)break}if(A===yA)for(var s=r;s>0;){s--;var a=n[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=r;l<=n.length;){l++;var i=n[l];if(i===e)return!0;if(i!==yA)break}if(a!==yA)break}return!1},rx=function(t,e){for(var r=t;r>=0;){var n=e[r];if(n===yA)r--;else return n}return 0},IL=function(t,e,r,n,A){if(r[n]===0)return Ce;var s=n-1;if(Array.isArray(A)&&A[s]===!0)return Ce;var i=s-1,a=s+1,l=e[s],u=i>=0?e[i]:0,d=e[a];if(l===n1&&d===A1)return Ce;if(Um.indexOf(l)!==-1)return o1;if(Um.indexOf(d)!==-1||a1.indexOf(d)!==-1)return Ce;if(rx(s,e)===s1)return fc;if(Im.get(t[s])===ym||(l===dc||l===hc)&&Im.get(t[a])===ym||l===Jv||d===Jv||l===Xv||[yA,Bm,Vo].indexOf(l)===-1&&d===Xv||[uc,bo,yL,Ks,Gs].indexOf(d)!==-1||rx(s,e)===_o||Ef(xf,_o,s,e)||Ef([uc,bo],xm,s,e)||Ef(Yv,Yv,s,e))return Ce;if(l===yA)return fc;if(l===xf||d===xf)return Ce;if(d===vm||l===vm)return fc;if([Bm,Vo,xm].indexOf(d)!==-1||l===wL||u===bm&&bL.indexOf(l)!==-1||l===Gs&&d===bm||d===Zv||_n.indexOf(d)!==-1&&l===mr||_n.indexOf(l)!==-1&&d===mr||l===Go&&[Wa,dc,hc].indexOf(d)!==-1||[Wa,dc,hc].indexOf(l)!==-1&&d===Ko||_n.indexOf(l)!==-1&&ex.indexOf(d)!==-1||ex.indexOf(l)!==-1&&_n.indexOf(d)!==-1||[Go,Ko].indexOf(l)!==-1&&(d===mr||[_o,Vo].indexOf(d)!==-1&&e[a+1]===mr)||[_o,Vo].indexOf(l)!==-1&&d===mr||l===mr&&[mr,Gs,Ks].indexOf(d)!==-1)return Ce;if([mr,Gs,Ks,uc,bo].indexOf(d)!==-1)for(var h=s;h>=0;){var f=e[h];if(f===mr)return Ce;if([Gs,Ks].indexOf(f)!==-1)h--;else break}if([Go,Ko].indexOf(d)!==-1)for(var h=[uc,bo].indexOf(l)!==-1?i:s;h>=0;){var f=e[h];if(f===mr)return Ce;if([Gs,Ks].indexOf(f)!==-1)h--;else break}if(_m===l&&[_m,eu,Cm,Em].indexOf(d)!==-1||[eu,Cm].indexOf(l)!==-1&&[eu,tu].indexOf(d)!==-1||[tu,Em].indexOf(l)!==-1&&d===tu||tx.indexOf(l)!==-1&&[Zv,Ko].indexOf(d)!==-1||tx.indexOf(d)!==-1&&l===Go||_n.indexOf(l)!==-1&&_n.indexOf(d)!==-1||l===Ks&&_n.indexOf(d)!==-1||_n.concat(mr).indexOf(l)!==-1&&d===_o&&CL.indexOf(t[a])===-1||_n.concat(mr).indexOf(d)!==-1&&l===bo)return Ce;if(l===Cf&&d===Cf){for(var w=r[s],v=1;w>0&&(w--,e[w]===Cf);)v++;if(v%2!==0)return Ce}return l===dc&&d===hc?Ce:fc},UL=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var r=_L(t,e.lineBreak),n=r[0],A=r[1],s=r[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(A=A.map(function(a){return[mr,is,i1].indexOf(a)!==-1?Wa:a}));var i=e.wordBreak==="keep-all"?s.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[n,A,i]},FL=function(){function t(e,r,n,A){this.codePoints=e,this.required=r===o1,this.start=n,this.end=A}return t.prototype.slice=function(){return st.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),QL=function(t,e){var r=th(t),n=UL(r,e),A=n[0],s=n[1],i=n[2],a=r.length,l=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var d=Ce;u<a&&(d=IL(r,s,A,++u,i))===Ce;);if(d!==Ce||u===a){var h=new FL(r,d,l,u);return l=u,{value:h,done:!1}}return{done:!0,value:null}}}},TL=1,NL=2,pl=4,nx=8,Wu=10,Ax=47,ca=92,SL=9,RL=32,gc=34,Io=61,kL=35,jL=36,PL=37,mc=39,pc=40,Uo=41,DL=95,Ar=45,LL=33,HL=60,ML=62,OL=64,VL=91,KL=93,GL=61,zL=123,wc=63,WL=125,sx=124,$L=126,qL=128,ix=65533,bf=42,ds=43,JL=44,XL=58,YL=59,$a=46,ZL=0,eH=8,tH=11,rH=14,nH=31,AH=127,sn=-1,l1=48,c1=97,u1=101,sH=102,iH=117,oH=122,d1=65,h1=69,f1=70,aH=85,lH=90,Ot=function(t){return t>=l1&&t<=57},cH=function(t){return t>=55296&&t<=57343},zs=function(t){return Ot(t)||t>=d1&&t<=f1||t>=c1&&t<=sH},uH=function(t){return t>=c1&&t<=oH},dH=function(t){return t>=d1&&t<=lH},hH=function(t){return uH(t)||dH(t)},fH=function(t){return t>=qL},yc=function(t){return t===Wu||t===SL||t===RL},$u=function(t){return hH(t)||fH(t)||t===DL},ox=function(t){return $u(t)||Ot(t)||t===Ar},gH=function(t){return t>=ZL&&t<=eH||t===tH||t>=rH&&t<=nH||t===AH},aA=function(t,e){return t!==ca?!1:e!==Wu},Bc=function(t,e,r){return t===Ar?$u(e)||aA(e,r):$u(t)?!0:!!(t===ca&&aA(t,e))},_f=function(t,e,r){return t===ds||t===Ar?Ot(e)?!0:e===$a&&Ot(r):Ot(t===$a?e:t)},mH=function(t){var e=0,r=1;(t[e]===ds||t[e]===Ar)&&(t[e]===Ar&&(r=-1),e++);for(var n=[];Ot(t[e]);)n.push(t[e++]);var A=n.length?parseInt(st.apply(void 0,n),10):0;t[e]===$a&&e++;for(var s=[];Ot(t[e]);)s.push(t[e++]);var i=s.length,a=i?parseInt(st.apply(void 0,s),10):0;(t[e]===h1||t[e]===u1)&&e++;var l=1;(t[e]===ds||t[e]===Ar)&&(t[e]===Ar&&(l=-1),e++);for(var u=[];Ot(t[e]);)u.push(t[e++]);var d=u.length?parseInt(st.apply(void 0,u),10):0;return r*(A+a*Math.pow(10,-i))*Math.pow(10,l*d)},pH={type:2},wH={type:3},yH={type:4},BH={type:13},vH={type:8},xH={type:21},CH={type:9},EH={type:10},bH={type:11},_H={type:12},IH={type:14},vc={type:23},UH={type:1},FH={type:25},QH={type:24},TH={type:26},NH={type:27},SH={type:28},RH={type:29},kH={type:31},Fm={type:32},g1=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(th(e))},t.prototype.read=function(){for(var e=[],r=this.consumeToken();r!==Fm;)e.push(r),r=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case gc:return this.consumeStringToken(gc);case kL:var r=this.peekCodePoint(0),n=this.peekCodePoint(1),A=this.peekCodePoint(2);if(ox(r)||aA(n,A)){var s=Bc(r,n,A)?NL:TL,i=this.consumeName();return{type:5,value:i,flags:s}}break;case jL:if(this.peekCodePoint(0)===Io)return this.consumeCodePoint(),BH;break;case mc:return this.consumeStringToken(mc);case pc:return pH;case Uo:return wH;case bf:if(this.peekCodePoint(0)===Io)return this.consumeCodePoint(),IH;break;case ds:if(_f(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case JL:return yH;case Ar:var a=e,l=this.peekCodePoint(0),u=this.peekCodePoint(1);if(_f(a,l,u))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Bc(a,l,u))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ar&&u===ML)return this.consumeCodePoint(),this.consumeCodePoint(),QH;break;case $a:if(_f(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ax:if(this.peekCodePoint(0)===bf)for(this.consumeCodePoint();;){var d=this.consumeCodePoint();if(d===bf&&(d=this.consumeCodePoint(),d===Ax))return this.consumeToken();if(d===sn)return this.consumeToken()}break;case XL:return TH;case YL:return NH;case HL:if(this.peekCodePoint(0)===LL&&this.peekCodePoint(1)===Ar&&this.peekCodePoint(2)===Ar)return this.consumeCodePoint(),this.consumeCodePoint(),FH;break;case OL:var h=this.peekCodePoint(0),f=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Bc(h,f,w)){var i=this.consumeName();return{type:7,value:i}}break;case VL:return SH;case ca:if(aA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case KL:return RH;case GL:if(this.peekCodePoint(0)===Io)return this.consumeCodePoint(),vH;break;case zL:return bH;case WL:return _H;case iH:case aH:var v=this.peekCodePoint(0),_=this.peekCodePoint(1);return v===ds&&(zs(_)||_===wc)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case sx:if(this.peekCodePoint(0)===Io)return this.consumeCodePoint(),CH;if(this.peekCodePoint(0)===sx)return this.consumeCodePoint(),xH;break;case $L:if(this.peekCodePoint(0)===Io)return this.consumeCodePoint(),EH;break;case sn:return Fm}return yc(e)?(this.consumeWhiteSpace(),kH):Ot(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):$u(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:st(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],r=this.consumeCodePoint();zs(r)&&e.length<6;)e.push(r),r=this.consumeCodePoint();for(var n=!1;r===wc&&e.length<6;)e.push(r),r=this.consumeCodePoint(),n=!0;if(n){var A=parseInt(st.apply(void 0,e.map(function(l){return l===wc?l1:l})),16),s=parseInt(st.apply(void 0,e.map(function(l){return l===wc?f1:l})),16);return{type:30,start:A,end:s}}var i=parseInt(st.apply(void 0,e),16);if(this.peekCodePoint(0)===Ar&&zs(this.peekCodePoint(1))){this.consumeCodePoint(),r=this.consumeCodePoint();for(var a=[];zs(r)&&a.length<6;)a.push(r),r=this.consumeCodePoint();var s=parseInt(st.apply(void 0,a),16);return{type:30,start:i,end:s}}else return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===pc?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===pc?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===sn)return{type:22,value:""};var r=this.peekCodePoint(0);if(r===mc||r===gc){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===sn||this.peekCodePoint(0)===Uo)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),vc)}for(;;){var A=this.consumeCodePoint();if(A===sn||A===Uo)return{type:22,value:st.apply(void 0,e)};if(yc(A))return this.consumeWhiteSpace(),this.peekCodePoint(0)===sn||this.peekCodePoint(0)===Uo?(this.consumeCodePoint(),{type:22,value:st.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vc);if(A===gc||A===mc||A===pc||gH(A))return this.consumeBadUrlRemnants(),vc;if(A===ca)if(aA(A,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),vc;else e.push(A)}},t.prototype.consumeWhiteSpace=function(){for(;yc(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Uo||e===sn)return;aA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var r=5e4,n="";e>0;){var A=Math.min(r,e);n+=st.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var r="",n=0;do{var A=this._value[n];if(A===sn||A===void 0||A===e)return r+=this.consumeStringSlice(n),{type:0,value:r};if(A===Wu)return this._value.splice(0,n),UH;if(A===ca){var s=this._value[n+1];s!==sn&&s!==void 0&&(s===Wu?(r+=this.consumeStringSlice(n),n=-1,this._value.shift()):aA(A,s)&&(r+=this.consumeStringSlice(n),r+=st(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],r=pl,n=this.peekCodePoint(0);for((n===ds||n===Ar)&&e.push(this.consumeCodePoint());Ot(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var A=this.peekCodePoint(1);if(n===$a&&Ot(A))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nx;Ot(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),A=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===h1||n===u1)&&((A===ds||A===Ar)&&Ot(s)||Ot(A)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),r=nx;Ot(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[mH(e),r]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),r=e[0],n=e[1],A=this.peekCodePoint(0),s=this.peekCodePoint(1),i=this.peekCodePoint(2);if(Bc(A,s,i)){var a=this.consumeName();return{type:15,number:r,flags:n,unit:a}}return A===PL?(this.consumeCodePoint(),{type:16,number:r,flags:n}):{type:17,number:r,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(zs(e)){for(var r=st(e);zs(this.peekCodePoint(0))&&r.length<6;)r+=st(this.consumeCodePoint());yc(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(r,16);return n===0||cH(n)||n>1114111?ix:n}return e===sn?ix:e},t.prototype.consumeName=function(){for(var e="";;){var r=this.consumeCodePoint();if(ox(r))e+=st(r);else if(aA(r,this.peekCodePoint(0)))e+=st(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(r),e}},t}(),m1=function(){function t(e){this._tokens=e}return t.create=function(e){var r=new g1;return r.write(e),new t(r.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var r=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return r;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var r=this.consumeComponentValue();if(r.type===32)return e;e.push(r),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var r={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||PH(n,e))return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var r={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return r;this.reconsumeToken(n),r.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?Fm:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),wl=function(t){return t.type===15},eo=function(t){return t.type===17},ke=function(t){return t.type===20},jH=function(t){return t.type===0},Qm=function(t,e){return ke(t)&&t.value===e},p1=function(t){return t.type!==31},Hi=function(t){return t.type!==31&&t.type!==4},vn=function(t){var e=[],r=[];return t.forEach(function(n){if(n.type===4){if(r.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(r),r=[];return}n.type!==31&&r.push(n)}),r.length&&e.push(r),e},PH=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},VA=function(t){return t.type===17||t.type===15},lt=function(t){return t.type===16||VA(t)},w1=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ut={type:17,number:0,flags:pl},z0={type:16,number:50,flags:pl},BA={type:16,number:100,flags:pl},zo=function(t,e,r){var n=t[0],A=t[1];return[De(n,e),De(typeof A<"u"?A:n,r)]},De=function(t,e){if(t.type===16)return t.number/100*e;if(wl(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},y1="deg",B1="grad",v1="rad",x1="turn",rh={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case y1:return Math.PI*e.number/180;case B1:return Math.PI/200*e.number;case v1:return e.number;case x1:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},C1=function(t){return t.type===15&&(t.unit===y1||t.unit===B1||t.unit===v1||t.unit===x1)},E1=function(t){var e=t.filter(ke).map(function(r){return r.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ut,Ut];case"to top":case"bottom":return Rr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ut,BA];case"to right":case"left":return Rr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[BA,BA];case"to bottom":case"top":return Rr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[BA,Ut];case"to left":case"right":return Rr(270)}return 0},Rr=function(t){return Math.PI*t/180},RA={name:"color",parse:function(t,e){if(e.type===18){var r=DH[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return r(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),A=e.value.substring(1,2),s=e.value.substring(2,3);return vA(parseInt(n+n,16),parseInt(A+A,16),parseInt(s+s,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),A=e.value.substring(1,2),s=e.value.substring(2,3),i=e.value.substring(3,4);return vA(parseInt(n+n,16),parseInt(A+A,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),A=e.value.substring(2,4),s=e.value.substring(4,6);return vA(parseInt(n,16),parseInt(A,16),parseInt(s,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),A=e.value.substring(2,4),s=e.value.substring(4,6),i=e.value.substring(6,8);return vA(parseInt(n,16),parseInt(A,16),parseInt(s,16),parseInt(i,16)/255)}}if(e.type===20){var a=Ln[e.value.toUpperCase()];if(typeof a<"u")return a}return Ln.TRANSPARENT}},kA=function(t){return(255&t)===0},wt=function(t){var e=255&t,r=255&t>>8,n=255&t>>16,A=255&t>>24;return e<255?"rgba("+A+","+n+","+r+","+e/255+")":"rgb("+A+","+n+","+r+")"},vA=function(t,e,r,n){return(t<<24|e<<16|r<<8|Math.round(n*255)<<0)>>>0},ax=function(t,e){if(t.type===17)return t.number;if(t.type===16){var r=e===3?1:255;return e===3?t.number/100*r:Math.round(t.number/100*r)}return 0},lx=function(t,e){var r=e.filter(Hi);if(r.length===3){var n=r.map(ax),A=n[0],s=n[1],i=n[2];return vA(A,s,i,1)}if(r.length===4){var a=r.map(ax),A=a[0],s=a[1],i=a[2],l=a[3];return vA(A,s,i,l)}return 0};function If(t,e,r){return r<0&&(r+=1),r>=1&&(r-=1),r<1/6?(e-t)*r*6+t:r<1/2?e:r<2/3?(e-t)*6*(2/3-r)+t:t}var cx=function(t,e){var r=e.filter(Hi),n=r[0],A=r[1],s=r[2],i=r[3],a=(n.type===17?Rr(n.number):rh.parse(t,n))/(Math.PI*2),l=lt(A)?A.number/100:0,u=lt(s)?s.number/100:0,d=typeof i<"u"&&lt(i)?De(i,1):1;if(l===0)return vA(u*255,u*255,u*255,1);var h=u<=.5?u*(l+1):u+l-u*l,f=u*2-h,w=If(f,h,a+1/3),v=If(f,h,a),_=If(f,h,a-1/3);return vA(w*255,v*255,_*255,d)},DH={hsl:cx,hsla:cx,rgb:lx,rgba:lx},ua=function(t,e){return RA.parse(t,m1.create(e).parseComponentValue())},Ln={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},LH={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ke(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},HH={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nh=function(t,e){var r=RA.parse(t,e[0]),n=e[1];return n&&lt(n)?{color:r,stop:n}:{color:r,stop:null}},ux=function(t,e){var r=t[0],n=t[t.length-1];r.stop===null&&(r.stop=Ut),n.stop===null&&(n.stop=BA);for(var A=[],s=0,i=0;i<t.length;i++){var a=t[i].stop;if(a!==null){var l=De(a,e);l>s?A.push(l):A.push(s),s=l}else A.push(null)}for(var u=null,i=0;i<A.length;i++){var d=A[i];if(d===null)u===null&&(u=i);else if(u!==null){for(var h=i-u,f=A[u-1],w=(d-f)/(h+1),v=1;v<=h;v++)A[u+v-1]=w*v;u=null}}return t.map(function(_,Q){var B=_.color;return{color:B,stop:Math.max(Math.min(1,A[Q]/e),0)}})},MH=function(t,e,r){var n=e/2,A=r/2,s=De(t[0],e)-n,i=A-De(t[1],r);return(Math.atan2(i,s)+Math.PI*2)%(Math.PI*2)},OH=function(t,e,r){var n=typeof t=="number"?t:MH(t,e,r),A=Math.abs(e*Math.sin(n))+Math.abs(r*Math.cos(n)),s=e/2,i=r/2,a=A/2,l=Math.sin(n-Math.PI/2)*a,u=Math.cos(n-Math.PI/2)*a;return[A,s-u,s+u,i-l,i+l]},Kr=function(t,e){return Math.sqrt(t*t+e*e)},dx=function(t,e,r,n,A){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(i,a){var l=a[0],u=a[1],d=Kr(r-l,n-u);return(A?d<i.optimumDistance:d>i.optimumDistance)?{optimumCorner:a,optimumDistance:d}:i},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner},VH=function(t,e,r,n,A){var s=0,i=0;switch(t.size){case 0:t.shape===0?s=i=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-A)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-n)),i=Math.min(Math.abs(r),Math.abs(r-A)));break;case 2:if(t.shape===0)s=i=Math.min(Kr(e,r),Kr(e,r-A),Kr(e-n,r),Kr(e-n,r-A));else if(t.shape===1){var a=Math.min(Math.abs(r),Math.abs(r-A))/Math.min(Math.abs(e),Math.abs(e-n)),l=dx(n,A,e,r,!0),u=l[0],d=l[1];s=Kr(u-e,(d-r)/a),i=a*s}break;case 1:t.shape===0?s=i=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(r),Math.abs(r-A)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-n)),i=Math.max(Math.abs(r),Math.abs(r-A)));break;case 3:if(t.shape===0)s=i=Math.max(Kr(e,r),Kr(e,r-A),Kr(e-n,r),Kr(e-n,r-A));else if(t.shape===1){var a=Math.max(Math.abs(r),Math.abs(r-A))/Math.max(Math.abs(e),Math.abs(e-n)),h=dx(n,A,e,r,!1),u=h[0],d=h[1];s=Kr(u-e,(d-r)/a),i=a*s}break}return Array.isArray(t.size)&&(s=De(t.size[0],n),i=t.size.length===2?De(t.size[1],A):s),[s,i]},KH=function(t,e){var r=Rr(180),n=[];return vn(e).forEach(function(A,s){if(s===0){var i=A[0];if(i.type===20&&i.value==="to"){r=E1(A);return}else if(C1(i)){r=rh.parse(t,i);return}}var a=nh(t,A);n.push(a)}),{angle:r,stops:n,type:1}},xc=function(t,e){var r=Rr(180),n=[];return vn(e).forEach(function(A,s){if(s===0){var i=A[0];if(i.type===20&&["top","left","right","bottom"].indexOf(i.value)!==-1){r=E1(A);return}else if(C1(i)){r=(rh.parse(t,i)+Rr(270))%Rr(360);return}}var a=nh(t,A);n.push(a)}),{angle:r,stops:n,type:1}},GH=function(t,e){var r=Rr(180),n=[],A=1,s=0,i=3,a=[];return vn(e).forEach(function(l,u){var d=l[0];if(u===0){if(ke(d)&&d.value==="linear"){A=1;return}else if(ke(d)&&d.value==="radial"){A=2;return}}if(d.type===18){if(d.name==="from"){var h=RA.parse(t,d.values[0]);n.push({stop:Ut,color:h})}else if(d.name==="to"){var h=RA.parse(t,d.values[0]);n.push({stop:BA,color:h})}else if(d.name==="color-stop"){var f=d.values.filter(Hi);if(f.length===2){var h=RA.parse(t,f[1]),w=f[0];eo(w)&&n.push({stop:{type:16,number:w.number*100,flags:w.flags},color:h})}}}}),A===1?{angle:(r+Rr(180))%Rr(360),stops:n,type:A}:{size:i,shape:s,stops:n,position:a,type:A}},b1="closest-side",_1="farthest-side",I1="closest-corner",U1="farthest-corner",F1="circle",Q1="ellipse",T1="cover",N1="contain",zH=function(t,e){var r=0,n=3,A=[],s=[];return vn(e).forEach(function(i,a){var l=!0;if(a===0){var u=!1;l=i.reduce(function(h,f){if(u)if(ke(f))switch(f.value){case"center":return s.push(z0),h;case"top":case"left":return s.push(Ut),h;case"right":case"bottom":return s.push(BA),h}else(lt(f)||VA(f))&&s.push(f);else if(ke(f))switch(f.value){case F1:return r=0,!1;case Q1:return r=1,!1;case"at":return u=!0,!1;case b1:return n=0,!1;case T1:case _1:return n=1,!1;case N1:case I1:return n=2,!1;case U1:return n=3,!1}else if(VA(f)||lt(f))return Array.isArray(n)||(n=[]),n.push(f),!1;return h},l)}if(l){var d=nh(t,i);A.push(d)}}),{size:n,shape:r,stops:A,position:s,type:2}},Cc=function(t,e){var r=0,n=3,A=[],s=[];return vn(e).forEach(function(i,a){var l=!0;if(a===0?l=i.reduce(function(d,h){if(ke(h))switch(h.value){case"center":return s.push(z0),!1;case"top":case"left":return s.push(Ut),!1;case"right":case"bottom":return s.push(BA),!1}else if(lt(h)||VA(h))return s.push(h),!1;return d},l):a===1&&(l=i.reduce(function(d,h){if(ke(h))switch(h.value){case F1:return r=0,!1;case Q1:return r=1,!1;case N1:case b1:return n=0,!1;case _1:return n=1,!1;case I1:return n=2,!1;case T1:case U1:return n=3,!1}else if(VA(h)||lt(h))return Array.isArray(n)||(n=[]),n.push(h),!1;return d},l)),l){var u=nh(t,i);A.push(u)}}),{size:n,shape:r,stops:A,position:s,type:2}},WH=function(t){return t.type===1},$H=function(t){return t.type===2},W0={name:"image",parse:function(t,e){if(e.type===22){var r={url:e.value,type:0};return t.cache.addImage(e.value),r}if(e.type===18){var n=S1[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function qH(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!S1[t.name])}var S1={"linear-gradient":KH,"-moz-linear-gradient":xc,"-ms-linear-gradient":xc,"-o-linear-gradient":xc,"-webkit-linear-gradient":xc,"radial-gradient":zH,"-moz-radial-gradient":Cc,"-ms-radial-gradient":Cc,"-o-radial-gradient":Cc,"-webkit-radial-gradient":Cc,"-webkit-gradient":GH},JH={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e.filter(function(n){return Hi(n)&&qH(n)}).map(function(n){return W0.parse(t,n)})}},XH={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(r){if(ke(r))switch(r.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},YH={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return vn(e).map(function(r){return r.filter(lt)}).map(w1)}},ZH={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return vn(e).map(function(r){return r.filter(ke).map(function(n){return n.value}).join(" ")}).map(eM)}},eM=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},bi;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(bi||(bi={}));var tM={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return vn(e).map(function(r){return r.filter(rM)})}},rM=function(t){return ke(t)||lt(t)},Ah=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},nM=Ah("top"),AM=Ah("right"),sM=Ah("bottom"),iM=Ah("left"),sh=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,r){return w1(r.filter(lt))}}},oM=sh("top-left"),aM=sh("top-right"),lM=sh("bottom-right"),cM=sh("bottom-left"),ih=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,r){switch(r){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},uM=ih("top"),dM=ih("right"),hM=ih("bottom"),fM=ih("left"),oh=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,r){return wl(r)?r.number:0}}},gM=oh("top"),mM=oh("right"),pM=oh("bottom"),wM=oh("left"),yM={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},BM={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},vM={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(ke).reduce(function(r,n){return r|xM(n.value)},0)}},xM=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},CM={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},EM={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},qu;(function(t){t.NORMAL="normal",t.STRICT="strict"})(qu||(qu={}));var bM={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return qu.STRICT;case"normal":default:return qu.NORMAL}}},_M={name:"line-height",initialValue:"normal",prefix:!1,type:4},hx=function(t,e){return ke(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:lt(t)?De(t,e):e},IM={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:W0.parse(t,e)}},UM={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},Tm={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},ah=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},FM=ah("top"),QM=ah("right"),TM=ah("bottom"),NM=ah("left"),SM={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(ke).map(function(r){switch(r.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},RM={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},lh=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},kM=lh("top"),jM=lh("right"),PM=lh("bottom"),DM=lh("left"),LM={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},HM={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},MM={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Qm(e[0],"none")?[]:vn(e).map(function(r){for(var n={color:Ln.TRANSPARENT,offsetX:Ut,offsetY:Ut,blur:Ut},A=0,s=0;s<r.length;s++){var i=r[s];VA(i)?(A===0?n.offsetX=i:A===1?n.offsetY=i:n.blur=i,A++):n.color=RA.parse(t,i)}return n})}},OM={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},VM={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var r=zM[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return r(e.values)}return null}},KM=function(t){var e=t.filter(function(r){return r.type===17}).map(function(r){return r.number});return e.length===6?e:null},GM=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),r=e[0],n=e[1];e[2],e[3];var A=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var i=e[12],a=e[13];return e[14],e[15],e.length===16?[r,n,A,s,i,a]:null},zM={matrix:KM,matrix3d:GM},fx={type:16,number:50,flags:pl},WM=[fx,fx],$M={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var r=e.filter(lt);return r.length!==2?WM:[r[0],r[1]]}},qM={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},da;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(da||(da={}));var JM={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return da.BREAK_ALL;case"keep-all":return da.KEEP_ALL;case"normal":default:return da.NORMAL}}},XM={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(eo(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},R1={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},YM={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return eo(e)?e.number:1}},ZM={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},eO={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(ke).map(function(r){switch(r.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(r){return r!==0})}},tO={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var r=[],n=[];return e.forEach(function(A){switch(A.type){case 20:case 0:r.push(A.value);break;case 17:r.push(A.number.toString());break;case 4:n.push(r.join(" ")),r.length=0;break}}),r.length&&n.push(r.join(" ")),n.map(function(A){return A.indexOf(" ")===-1?A:"'"+A+"'"})}},rO={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},nO={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(eo(e))return e.number;if(ke(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},AO={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(ke).map(function(r){return r.value})}},sO={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ft=function(t,e){return(t&e)!==0},iO={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var r=e[0];return r.type===20&&r.value==="none"?[]:e}},oO={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;for(var n=[],A=e.filter(p1),s=0;s<A.length;s++){var i=A[s],a=A[s+1];if(i.type===20){var l=a&&eo(a)?a.number:1;n.push({counter:i.value,increment:l})}}return n}},aO={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var r=[],n=e.filter(p1),A=0;A<n.length;A++){var s=n[A],i=n[A+1];if(ke(s)&&s.value!=="none"){var a=i&&eo(i)?i.number:0;r.push({counter:s.value,reset:a})}}return r}},lO={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(wl).map(function(r){return R1.parse(t,r)})}},cO={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var r=e[0];if(r.type===20&&r.value==="none")return null;var n=[],A=e.filter(jH);if(A.length%2!==0)return null;for(var s=0;s<A.length;s+=2){var i=A[s].value,a=A[s+1].value;n.push({open:i,close:a})}return n}},gx=function(t,e,r){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?r?n.open:n.close:""},uO={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&Qm(e[0],"none")?[]:vn(e).map(function(r){for(var n={color:255,offsetX:Ut,offsetY:Ut,blur:Ut,spread:Ut,inset:!1},A=0,s=0;s<r.length;s++){var i=r[s];Qm(i,"inset")?n.inset=!0:VA(i)?(A===0?n.offsetX=i:A===1?n.offsetY=i:A===2?n.blur=i:n.spread=i,A++):n.color=RA.parse(t,i)}return n})}},dO={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var r=[0,1,2],n=[];return e.filter(ke).forEach(function(A){switch(A.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),r.forEach(function(A){n.indexOf(A)===-1&&n.push(A)}),n}},hO={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fO={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return wl(e)?e.number:0}},gO=function(){function t(e,r){var n,A;this.animationDuration=Ae(e,lO,r.animationDuration),this.backgroundClip=Ae(e,LH,r.backgroundClip),this.backgroundColor=Ae(e,HH,r.backgroundColor),this.backgroundImage=Ae(e,JH,r.backgroundImage),this.backgroundOrigin=Ae(e,XH,r.backgroundOrigin),this.backgroundPosition=Ae(e,YH,r.backgroundPosition),this.backgroundRepeat=Ae(e,ZH,r.backgroundRepeat),this.backgroundSize=Ae(e,tM,r.backgroundSize),this.borderTopColor=Ae(e,nM,r.borderTopColor),this.borderRightColor=Ae(e,AM,r.borderRightColor),this.borderBottomColor=Ae(e,sM,r.borderBottomColor),this.borderLeftColor=Ae(e,iM,r.borderLeftColor),this.borderTopLeftRadius=Ae(e,oM,r.borderTopLeftRadius),this.borderTopRightRadius=Ae(e,aM,r.borderTopRightRadius),this.borderBottomRightRadius=Ae(e,lM,r.borderBottomRightRadius),this.borderBottomLeftRadius=Ae(e,cM,r.borderBottomLeftRadius),this.borderTopStyle=Ae(e,uM,r.borderTopStyle),this.borderRightStyle=Ae(e,dM,r.borderRightStyle),this.borderBottomStyle=Ae(e,hM,r.borderBottomStyle),this.borderLeftStyle=Ae(e,fM,r.borderLeftStyle),this.borderTopWidth=Ae(e,gM,r.borderTopWidth),this.borderRightWidth=Ae(e,mM,r.borderRightWidth),this.borderBottomWidth=Ae(e,pM,r.borderBottomWidth),this.borderLeftWidth=Ae(e,wM,r.borderLeftWidth),this.boxShadow=Ae(e,uO,r.boxShadow),this.color=Ae(e,yM,r.color),this.direction=Ae(e,BM,r.direction),this.display=Ae(e,vM,r.display),this.float=Ae(e,CM,r.cssFloat),this.fontFamily=Ae(e,tO,r.fontFamily),this.fontSize=Ae(e,rO,r.fontSize),this.fontStyle=Ae(e,sO,r.fontStyle),this.fontVariant=Ae(e,AO,r.fontVariant),this.fontWeight=Ae(e,nO,r.fontWeight),this.letterSpacing=Ae(e,EM,r.letterSpacing),this.lineBreak=Ae(e,bM,r.lineBreak),this.lineHeight=Ae(e,_M,r.lineHeight),this.listStyleImage=Ae(e,IM,r.listStyleImage),this.listStylePosition=Ae(e,UM,r.listStylePosition),this.listStyleType=Ae(e,Tm,r.listStyleType),this.marginTop=Ae(e,FM,r.marginTop),this.marginRight=Ae(e,QM,r.marginRight),this.marginBottom=Ae(e,TM,r.marginBottom),this.marginLeft=Ae(e,NM,r.marginLeft),this.opacity=Ae(e,YM,r.opacity);var s=Ae(e,SM,r.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Ae(e,RM,r.overflowWrap),this.paddingTop=Ae(e,kM,r.paddingTop),this.paddingRight=Ae(e,jM,r.paddingRight),this.paddingBottom=Ae(e,PM,r.paddingBottom),this.paddingLeft=Ae(e,DM,r.paddingLeft),this.paintOrder=Ae(e,dO,r.paintOrder),this.position=Ae(e,HM,r.position),this.textAlign=Ae(e,LM,r.textAlign),this.textDecorationColor=Ae(e,ZM,(n=r.textDecorationColor)!==null&&n!==void 0?n:r.color),this.textDecorationLine=Ae(e,eO,(A=r.textDecorationLine)!==null&&A!==void 0?A:r.textDecoration),this.textShadow=Ae(e,MM,r.textShadow),this.textTransform=Ae(e,OM,r.textTransform),this.transform=Ae(e,VM,r.transform),this.transformOrigin=Ae(e,$M,r.transformOrigin),this.visibility=Ae(e,qM,r.visibility),this.webkitTextStrokeColor=Ae(e,hO,r.webkitTextStrokeColor),this.webkitTextStrokeWidth=Ae(e,fO,r.webkitTextStrokeWidth),this.wordBreak=Ae(e,JM,r.wordBreak),this.zIndex=Ae(e,XM,r.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return kA(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ft(this.display,4)||ft(this.display,33554432)||ft(this.display,268435456)||ft(this.display,536870912)||ft(this.display,67108864)||ft(this.display,134217728)},t}(),mO=function(){function t(e,r){this.content=Ae(e,iO,r.content),this.quotes=Ae(e,cO,r.quotes)}return t}(),mx=function(){function t(e,r){this.counterIncrement=Ae(e,oO,r.counterIncrement),this.counterReset=Ae(e,aO,r.counterReset)}return t}(),Ae=function(t,e,r){var n=new g1,A=r!==null&&typeof r<"u"?r.toString():e.initialValue;n.write(A);var s=new m1(n.read());switch(e.type){case 2:var i=s.parseComponentValue();return e.parse(t,ke(i)?i.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return rh.parse(t,s.parseComponentValue());case"color":return RA.parse(t,s.parseComponentValue());case"image":return W0.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return VA(a)?a:Ut;case"length-percentage":var l=s.parseComponentValue();return lt(l)?l:Ut;case"time":return R1.parse(t,s.parseComponentValue())}break}},pO="data-html2canvas-debug",wO=function(t){var e=t.getAttribute(pO);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Nm=function(t,e){var r=wO(t);return r===1||e===r},xn=function(){function t(e,r){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Nm(r,3))debugger;this.styles=new gO(e,window.getComputedStyle(r,null)),km(r)&&(this.styles.animationDuration.some(function(n){return n>0})&&(r.style.animationDuration="0s"),this.styles.transform!==null&&(r.style.transform="none")),this.bounds=eh(this.context,r),Nm(r,4)&&(this.flags|=16)}return t}(),yO="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",px="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ec=0;Ec<px.length;Ec++)Wo[px.charCodeAt(Ec)]=Ec;var BO=function(t){var e=t.length*.75,r=t.length,n,A=0,s,i,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var u=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),d=Array.isArray(u)?u:new Uint8Array(u);for(n=0;n<r;n+=4)s=Wo[t.charCodeAt(n)],i=Wo[t.charCodeAt(n+1)],a=Wo[t.charCodeAt(n+2)],l=Wo[t.charCodeAt(n+3)],d[A++]=s<<2|i>>4,d[A++]=(i&15)<<4|a>>2,d[A++]=(a&3)<<6|l&63;return u},vO=function(t){for(var e=t.length,r=[],n=0;n<e;n+=2)r.push(t[n+1]<<8|t[n]);return r},xO=function(t){for(var e=t.length,r=[],n=0;n<e;n+=4)r.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return r},ys=5,$0=11,Uf=2,CO=$0-ys,k1=65536>>ys,EO=1<<ys,Ff=EO-1,bO=1024>>ys,_O=k1+bO,IO=_O,UO=32,FO=IO+UO,QO=65536>>$0,TO=1<<CO,NO=TO-1,wx=function(t,e,r){return t.slice?t.slice(e,r):new Uint16Array(Array.prototype.slice.call(t,e,r))},SO=function(t,e,r){return t.slice?t.slice(e,r):new Uint32Array(Array.prototype.slice.call(t,e,r))},RO=function(t,e){var r=BO(t),n=Array.isArray(r)?xO(r):new Uint32Array(r),A=Array.isArray(r)?vO(r):new Uint16Array(r),s=24,i=wx(A,s/2,n[4]/2),a=n[5]===2?wx(A,(s+n[4])/2):SO(n,Math.ceil((s+n[4])/4));return new kO(n[0],n[1],n[2],n[3],i,a)},kO=function(){function t(e,r,n,A,s,i){this.initialValue=e,this.errorValue=r,this.highStart=n,this.highValueIndex=A,this.index=s,this.data=i}return t.prototype.get=function(e){var r;if(e>=0){if(e<55296||e>56319&&e<=65535)return r=this.index[e>>ys],r=(r<<Uf)+(e&Ff),this.data[r];if(e<=65535)return r=this.index[k1+(e-55296>>ys)],r=(r<<Uf)+(e&Ff),this.data[r];if(e<this.highStart)return r=FO-QO+(e>>$0),r=this.index[r],r+=e>>ys&NO,r=this.index[r],r=(r<<Uf)+(e&Ff),this.data[r];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),yx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",jO=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bc=0;bc<yx.length;bc++)jO[yx.charCodeAt(bc)]=bc;var PO=1,Qf=2,Tf=3,Bx=4,vx=5,DO=7,xx=8,Nf=9,Sf=10,Cx=11,Ex=12,bx=13,_x=14,Rf=15,LO=function(t){for(var e=[],r=0,n=t.length;r<n;){var A=t.charCodeAt(r++);if(A>=55296&&A<=56319&&r<n){var s=t.charCodeAt(r++);(s&64512)===56320?e.push(((A&1023)<<10)+(s&1023)+65536):(e.push(A),r--)}else e.push(A)}return e},HO=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var r=t.length;if(!r)return"";for(var n=[],A=-1,s="";++A<r;){var i=t[A];i<=65535?n.push(i):(i-=65536,n.push((i>>10)+55296,i%1024+56320)),(A+1===r||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},MO=RO(yO),Fr="×",kf="÷",OO=function(t){return MO.get(t)},VO=function(t,e,r){var n=r-2,A=e[n],s=e[r-1],i=e[r];if(s===Qf&&i===Tf)return Fr;if(s===Qf||s===Tf||s===Bx||i===Qf||i===Tf||i===Bx)return kf;if(s===xx&&[xx,Nf,Cx,Ex].indexOf(i)!==-1||(s===Cx||s===Nf)&&(i===Nf||i===Sf)||(s===Ex||s===Sf)&&i===Sf||i===bx||i===vx||i===DO||s===PO)return Fr;if(s===bx&&i===_x){for(;A===vx;)A=e[--n];if(A===_x)return Fr}if(s===Rf&&i===Rf){for(var a=0;A===Rf;)a++,A=e[--n];if(a%2===0)return Fr}return kf},KO=function(t){var e=LO(t),r=e.length,n=0,A=0,s=e.map(OO);return{next:function(){if(n>=r)return{done:!0,value:null};for(var i=Fr;n<r&&(i=VO(e,s,++n))===Fr;);if(i!==Fr||n===r){var a=HO.apply(null,e.slice(A,n));return A=n,{value:a,done:!1}}return{done:!0,value:null}}}},GO=function(t){for(var e=KO(t),r=[],n;!(n=e.next()).done;)n.value&&r.push(n.value.slice());return r},zO=function(t){var e=123;if(t.createRange){var r=t.createRange();if(r.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),r.selectNode(n);var A=r.getBoundingClientRect(),s=Math.round(A.height);if(t.body.removeChild(n),s===e)return!0}}return!1},WO=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var r=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,A=th(n.data).map(function(l){return st(l)}),s=0,i={},a=A.every(function(l,u){r.setStart(n,s),r.setEnd(n,s+l.length);var d=r.getBoundingClientRect();s+=l.length;var h=d.x>i.x||d.y>i.y;return i=d,u===0?!0:h});return t.body.removeChild(e),a},$O=function(){return typeof new Image().crossOrigin<"u"},qO=function(){return typeof new XMLHttpRequest().responseType=="string"},JO=function(t){var e=new Image,r=t.createElement("canvas"),n=r.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),r.toDataURL()}catch{return!1}return!0},Ix=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},XO=function(t){var e=t.createElement("canvas"),r=100;e.width=r,e.height=r;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,r,r);var A=new Image,s=e.toDataURL();A.src=s;var i=Sm(r,r,0,0,A);return n.fillStyle="red",n.fillRect(0,0,r,r),Ux(i).then(function(a){n.drawImage(a,0,0);var l=n.getImageData(0,0,r,r).data;n.fillStyle="red",n.fillRect(0,0,r,r);var u=t.createElement("div");return u.style.backgroundImage="url("+s+")",u.style.height=r+"px",Ix(l)?Ux(Sm(r,r,0,0,u)):Promise.reject(!1)}).then(function(a){return n.drawImage(a,0,0),Ix(n.getImageData(0,0,r,r).data)}).catch(function(){return!1})},Sm=function(t,e,r,n,A){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",t.toString()),i.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r.toString()),a.setAttributeNS(null,"y",n.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(a),a.appendChild(A),i},Ux=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){return e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},bt={get SUPPORT_RANGE_BOUNDS(){var t=zO(document);return Object.defineProperty(bt,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=bt.SUPPORT_RANGE_BOUNDS&&WO(document);return Object.defineProperty(bt,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=JO(document);return Object.defineProperty(bt,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?XO(document):Promise.resolve(!1);return Object.defineProperty(bt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=$O();return Object.defineProperty(bt,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=qO();return Object.defineProperty(bt,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(bt,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(bt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ha=function(){function t(e,r){this.text=e,this.bounds=r}return t}(),YO=function(t,e,r,n){var A=t3(e,r),s=[],i=0;return A.forEach(function(a){if(r.textDecorationLine.length||a.trim().length>0)if(bt.SUPPORT_RANGE_BOUNDS){var l=Fx(n,i,a.length).getClientRects();if(l.length>1){var u=q0(a),d=0;u.forEach(function(f){s.push(new ha(f,Jn.fromDOMRectList(t,Fx(n,d+i,f.length).getClientRects()))),d+=f.length})}else s.push(new ha(a,Jn.fromDOMRectList(t,l)))}else{var h=n.splitText(a.length);s.push(new ha(a,ZO(t,n))),n=h}else bt.SUPPORT_RANGE_BOUNDS||(n=n.splitText(a.length));i+=a.length}),s},ZO=function(t,e){var r=e.ownerDocument;if(r){var n=r.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var A=e.parentNode;if(A){A.replaceChild(n,e);var s=eh(t,n);return n.firstChild&&A.replaceChild(n.firstChild,n),s}}return Jn.EMPTY},Fx=function(t,e,r){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var A=n.createRange();return A.setStart(t,e),A.setEnd(t,e+r),A},q0=function(t){if(bt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(r){return r.segment})}return GO(t)},e3=function(t,e){if(bt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var r=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(r.segment(t)).map(function(n){return n.segment})}return n3(t,e)},t3=function(t,e){return e.letterSpacing!==0?q0(t):e3(t,e)},r3=[32,160,4961,65792,65793,4153,4241],n3=function(t,e){for(var r=QL(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],A,s=function(){if(A.value){var i=A.value.slice(),a=th(i),l="";a.forEach(function(u){r3.indexOf(u)===-1?l+=st(u):(l.length&&n.push(l),n.push(st(u)),l="")}),l.length&&n.push(l)}};!(A=r.next()).done;)s();return n},A3=function(){function t(e,r,n){this.text=s3(r.data,n.textTransform),this.textBounds=YO(e,this.text,n,r)}return t}(),s3=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(i3,o3);case 2:return t.toUpperCase();default:return t}},i3=/(^|\s|:|-|\(|\))([a-z])/g,o3=function(t,e,r){return t.length>0?e+r.toUpperCase():t},j1=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.src=n.currentSrc||n.src,A.intrinsicWidth=n.naturalWidth,A.intrinsicHeight=n.naturalHeight,A.context.cache.addImage(A.src),A}return e}(xn),P1=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.canvas=n,A.intrinsicWidth=n.width,A.intrinsicHeight=n.height,A}return e}(xn),D1=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this,s=new XMLSerializer,i=eh(r,n);return n.setAttribute("width",i.width+"px"),n.setAttribute("height",i.height+"px"),A.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),A.intrinsicWidth=n.width.baseVal.value,A.intrinsicHeight=n.height.baseVal.value,A.context.cache.addImage(A.svg),A}return e}(xn),L1=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.value=n.value,A}return e}(xn),Rm=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.start=n.start,A.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,A}return e}(xn),a3=[{type:15,flags:0,unit:"px",number:3}],l3=[{type:16,flags:0,number:50}],c3=function(t){return t.width>t.height?new Jn(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Jn(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},u3=function(t){var e=t.type===d3?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},Ju="checkbox",Xu="radio",d3="password",Qx=707406591,J0=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;switch(A.type=n.type.toLowerCase(),A.checked=n.checked,A.value=u3(n),(A.type===Ju||A.type===Xu)&&(A.styles.backgroundColor=3739148031,A.styles.borderTopColor=A.styles.borderRightColor=A.styles.borderBottomColor=A.styles.borderLeftColor=2779096575,A.styles.borderTopWidth=A.styles.borderRightWidth=A.styles.borderBottomWidth=A.styles.borderLeftWidth=1,A.styles.borderTopStyle=A.styles.borderRightStyle=A.styles.borderBottomStyle=A.styles.borderLeftStyle=1,A.styles.backgroundClip=[0],A.styles.backgroundOrigin=[0],A.bounds=c3(A.bounds)),A.type){case Ju:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=a3;break;case Xu:A.styles.borderTopRightRadius=A.styles.borderTopLeftRadius=A.styles.borderBottomRightRadius=A.styles.borderBottomLeftRadius=l3;break}return A}return e}(xn),H1=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this,s=n.options[n.selectedIndex||0];return A.value=s&&s.text||"",A}return e}(xn),M1=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.value=n.value,A}return e}(xn),O1=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;A.src=n.src,A.width=parseInt(n.width,10)||0,A.height=parseInt(n.height,10)||0,A.backgroundColor=A.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){A.tree=K1(r,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ua(r,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):Ln.TRANSPARENT,i=n.contentWindow.document.body?ua(r,getComputedStyle(n.contentWindow.document.body).backgroundColor):Ln.TRANSPARENT;A.backgroundColor=kA(s)?kA(i)?A.styles.backgroundColor:i:s}}catch{}return A}return e}(xn),h3=["OL","UL","MENU"],ru=function(t,e,r,n){for(var A=e.firstChild,s=void 0;A;A=s)if(s=A.nextSibling,G1(A)&&A.data.trim().length>0)r.textNodes.push(new A3(t,A,r.styles));else if(hi(A))if(q1(A)&&A.assignedNodes)A.assignedNodes().forEach(function(a){return ru(t,a,r,n)});else{var i=V1(t,A);i.styles.isVisible()&&(f3(A,i,n)?i.flags|=4:g3(i.styles)&&(i.flags|=2),h3.indexOf(A.tagName)!==-1&&(i.flags|=8),r.elements.push(i),A.slot,A.shadowRoot?ru(t,A.shadowRoot,i,n):!Yu(A)&&!z1(A)&&!Zu(A)&&ru(t,A,i,n))}},V1=function(t,e){return jm(e)?new j1(t,e):W1(e)?new P1(t,e):z1(e)?new D1(t,e):m3(e)?new L1(t,e):p3(e)?new Rm(t,e):w3(e)?new J0(t,e):Zu(e)?new H1(t,e):Yu(e)?new M1(t,e):$1(e)?new O1(t,e):new xn(t,e)},K1=function(t,e){var r=V1(t,e);return r.flags|=4,ru(t,e,r,r),r},f3=function(t,e,r){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||X0(t)&&r.styles.isTransparent()},g3=function(t){return t.isPositioned()||t.isFloating()},G1=function(t){return t.nodeType===Node.TEXT_NODE},hi=function(t){return t.nodeType===Node.ELEMENT_NODE},km=function(t){return hi(t)&&typeof t.style<"u"&&!nu(t)},nu=function(t){return typeof t.className=="object"},m3=function(t){return t.tagName==="LI"},p3=function(t){return t.tagName==="OL"},w3=function(t){return t.tagName==="INPUT"},y3=function(t){return t.tagName==="HTML"},z1=function(t){return t.tagName==="svg"},X0=function(t){return t.tagName==="BODY"},W1=function(t){return t.tagName==="CANVAS"},Tx=function(t){return t.tagName==="VIDEO"},jm=function(t){return t.tagName==="IMG"},$1=function(t){return t.tagName==="IFRAME"},Nx=function(t){return t.tagName==="STYLE"},B3=function(t){return t.tagName==="SCRIPT"},Yu=function(t){return t.tagName==="TEXTAREA"},Zu=function(t){return t.tagName==="SELECT"},q1=function(t){return t.tagName==="SLOT"},Sx=function(t){return t.tagName.indexOf("-")>0},v3=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var r=this.counters[e];return r&&r.length?r[r.length-1]:1},t.prototype.getCounterValues=function(e){var r=this.counters[e];return r||[]},t.prototype.pop=function(e){var r=this;e.forEach(function(n){return r.counters[n].pop()})},t.prototype.parse=function(e){var r=this,n=e.counterIncrement,A=e.counterReset,s=!0;n!==null&&n.forEach(function(a){var l=r.counters[a.counter];l&&a.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var i=[];return s&&A.forEach(function(a){var l=r.counters[a.counter];i.push(a.counter),l||(l=r.counters[a.counter]=[]),l.push(a.reset)}),i},t}(),Rx={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},kx={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},x3={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},C3={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},Ws=function(t,e,r,n,A,s){return t<e||t>r?qa(t,A,s.length>0):n.integers.reduce(function(i,a,l){for(;t>=a;)t-=a,i+=n.values[l];return i},"")+s},J1=function(t,e,r,n){var A="";do r||t--,A=n(t)+A,t/=e;while(t*e>=e);return A},At=function(t,e,r,n,A){var s=r-e+1;return(t<0?"-":"")+(J1(Math.abs(t),s,n,function(i){return st(Math.floor(i%s)+e)})+A)},rs=function(t,e,r){r===void 0&&(r=". ");var n=e.length;return J1(Math.abs(t),n,!1,function(A){return e[Math.floor(A%n)]})+r},Zs=1,AA=2,sA=4,$o=8,In=function(t,e,r,n,A,s){if(t<-9999||t>9999)return qa(t,4,A.length>0);var i=Math.abs(t),a=A;if(i===0)return e[0]+a;for(var l=0;i>0&&l<=4;l++){var u=i%10;u===0&&ft(s,Zs)&&a!==""?a=e[u]+a:u>1||u===1&&l===0||u===1&&l===1&&ft(s,AA)||u===1&&l===1&&ft(s,sA)&&t>100||u===1&&l>1&&ft(s,$o)?a=e[u]+(l>0?r[l-1]:"")+a:u===1&&l>0&&(a=r[l-1]+a),i=Math.floor(i/10)}return(t<0?n:"")+a},jx="十百千萬",Px="拾佰仟萬",Dx="マイナス",jf="마이너스",qa=function(t,e,r){var n=r?". ":"",A=r?"、":"",s=r?", ":"",i=r?" ":"";switch(e){case 0:return"•"+i;case 1:return"◦"+i;case 2:return"◾"+i;case 5:var a=At(t,48,57,!0,n);return a.length<4?"0"+a:a;case 4:return rs(t,"〇一二三四五六七八九",A);case 6:return Ws(t,1,3999,Rx,3,n).toLowerCase();case 7:return Ws(t,1,3999,Rx,3,n);case 8:return At(t,945,969,!1,n);case 9:return At(t,97,122,!1,n);case 10:return At(t,65,90,!1,n);case 11:return At(t,1632,1641,!0,n);case 12:case 49:return Ws(t,1,9999,kx,3,n);case 35:return Ws(t,1,9999,kx,3,n).toLowerCase();case 13:return At(t,2534,2543,!0,n);case 14:case 30:return At(t,6112,6121,!0,n);case 15:return rs(t,"子丑寅卯辰巳午未申酉戌亥",A);case 16:return rs(t,"甲乙丙丁戊己庚辛壬癸",A);case 17:case 48:return In(t,"零一二三四五六七八九",jx,"負",A,AA|sA|$o);case 47:return In(t,"零壹貳參肆伍陸柒捌玖",Px,"負",A,Zs|AA|sA|$o);case 42:return In(t,"零一二三四五六七八九",jx,"负",A,AA|sA|$o);case 41:return In(t,"零壹贰叁肆伍陆柒捌玖",Px,"负",A,Zs|AA|sA|$o);case 26:return In(t,"〇一二三四五六七八九","十百千万",Dx,A,0);case 25:return In(t,"零壱弐参四伍六七八九","拾百千万",Dx,A,Zs|AA|sA);case 31:return In(t,"영일이삼사오육칠팔구","십백천만",jf,s,Zs|AA|sA);case 33:return In(t,"零一二三四五六七八九","十百千萬",jf,s,0);case 32:return In(t,"零壹貳參四五六七八九","拾百千",jf,s,Zs|AA|sA);case 18:return At(t,2406,2415,!0,n);case 20:return Ws(t,1,19999,C3,3,n);case 21:return At(t,2790,2799,!0,n);case 22:return At(t,2662,2671,!0,n);case 22:return Ws(t,1,10999,x3,3,n);case 23:return rs(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return rs(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return At(t,3302,3311,!0,n);case 28:return rs(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",A);case 29:return rs(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",A);case 34:return At(t,3792,3801,!0,n);case 37:return At(t,6160,6169,!0,n);case 38:return At(t,4160,4169,!0,n);case 39:return At(t,2918,2927,!0,n);case 40:return At(t,1776,1785,!0,n);case 43:return At(t,3046,3055,!0,n);case 44:return At(t,3174,3183,!0,n);case 45:return At(t,3664,3673,!0,n);case 46:return At(t,3872,3881,!0,n);case 3:default:return At(t,48,57,!0,n)}},X1="data-html2canvas-ignore",Lx=function(){function t(e,r,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=r,this.counters=new v3,this.quoteDepth=0,!r.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(r.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,r){var n=this,A=E3(e,r);if(!A.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,i=e.defaultView.pageYOffset,a=A.contentWindow,l=a.document,u=I3(A).then(function(){return Zt(n,void 0,void 0,function(){var d,h;return Ht(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach(T3),a&&(a.scrollTo(r.left,r.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==r.top||a.scrollX!==r.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-r.left,a.scrollY-r.top,0,0))),d=this.options.onclone,h=this.clonedReferenceElement,typeof h>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,_3(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof d=="function"?[2,Promise.resolve().then(function(){return d(l,h)}).then(function(){return A})]:[2,A]}})})});return l.open(),l.write(F3(document.doctype)+"<html></html>"),Q3(this.referenceElement.ownerDocument,s,i),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),u},t.prototype.createElementClone=function(e){if(Nm(e,2))debugger;if(W1(e))return this.createCanvasClone(e);if(Tx(e))return this.createVideoClone(e);if(Nx(e))return this.createStyleClone(e);var r=e.cloneNode(!1);return jm(r)&&(jm(e)&&e.currentSrc&&e.currentSrc!==e.src&&(r.src=e.currentSrc,r.srcset=""),r.loading==="lazy"&&(r.loading="eager")),Sx(r)?this.createCustomElementClone(r):r},t.prototype.createCustomElementClone=function(e){var r=document.createElement("html2canvascustomelement");return Pf(e.style,r),r},t.prototype.createStyleClone=function(e){try{var r=e.sheet;if(r&&r.cssRules){var n=[].slice.call(r.cssRules,0).reduce(function(s,i){return i&&typeof i.cssText=="string"?s+i.cssText:s},""),A=e.cloneNode(!1);return A.textContent=n,A}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var r;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var A=e.cloneNode(!1);try{A.width=e.width,A.height=e.height;var s=e.getContext("2d"),i=A.getContext("2d");if(i)if(!this.options.allowTaint&&s)i.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(r=e.getContext("webgl2"))!==null&&r!==void 0?r:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}i.drawImage(e,0,0)}return A}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return A},t.prototype.createVideoClone=function(e){var r=e.ownerDocument.createElement("canvas");r.width=e.offsetWidth,r.height=e.offsetHeight;var n=r.getContext("2d");try{return n&&(n.drawImage(e,0,0,r.width,r.height),this.options.allowTaint||n.getImageData(0,0,r.width,r.height)),r}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var A=e.ownerDocument.createElement("canvas");return A.width=e.offsetWidth,A.height=e.offsetHeight,A},t.prototype.appendChildNode=function(e,r,n){(!hi(r)||!B3(r)&&!r.hasAttribute(X1)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(r)))&&(!this.options.copyStyles||!hi(r)||!Nx(r))&&e.appendChild(this.cloneNode(r,n))},t.prototype.cloneChildNodes=function(e,r,n){for(var A=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(hi(s)&&q1(s)&&typeof s.assignedNodes=="function"){var i=s.assignedNodes();i.length&&i.forEach(function(a){return A.appendChildNode(r,a,n)})}else this.appendChildNode(r,s,n)},t.prototype.cloneNode=function(e,r){if(G1(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&hi(e)&&(km(e)||nu(e))){var A=this.createElementClone(e);A.style.transitionProperty="none";var s=n.getComputedStyle(e),i=n.getComputedStyle(e,":before"),a=n.getComputedStyle(e,":after");this.referenceElement===e&&km(A)&&(this.clonedReferenceElement=A),X0(A)&&R3(A);var l=this.counters.parse(new mx(this.context,s)),u=this.resolvePseudoContent(e,A,i,fa.BEFORE);Sx(e)&&(r=!0),Tx(e)||this.cloneChildNodes(e,A,r),u&&A.insertBefore(u,A.firstChild);var d=this.resolvePseudoContent(e,A,a,fa.AFTER);return d&&A.appendChild(d),this.counters.pop(l),(s&&(this.options.copyStyles||nu(e))&&!$1(e)||r)&&Pf(s,A),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([A,e.scrollLeft,e.scrollTop]),(Yu(e)||Zu(e))&&(Yu(A)||Zu(A))&&(A.value=e.value),A}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,r,n,A){var s=this;if(n){var i=n.content,a=r.ownerDocument;if(!(!a||!i||i==="none"||i==="-moz-alt-content"||n.display==="none")){this.counters.parse(new mx(this.context,n));var l=new mO(this.context,n),u=a.createElement("html2canvaspseudoelement");Pf(n,u),l.content.forEach(function(h){if(h.type===0)u.appendChild(a.createTextNode(h.value));else if(h.type===22){var f=a.createElement("img");f.src=h.value,f.style.opacity="1",u.appendChild(f)}else if(h.type===18){if(h.name==="attr"){var w=h.values.filter(ke);w.length&&u.appendChild(a.createTextNode(e.getAttribute(w[0].value)||""))}else if(h.name==="counter"){var v=h.values.filter(Hi),_=v[0],Q=v[1];if(_&&ke(_)){var B=s.counters.getCounterValue(_.value),m=Q&&ke(Q)?Tm.parse(s.context,Q.value):3;u.appendChild(a.createTextNode(qa(B,m,!1)))}}else if(h.name==="counters"){var y=h.values.filter(Hi),_=y[0],C=y[1],Q=y[2];if(_&&ke(_)){var F=s.counters.getCounterValues(_.value),T=Q&&ke(Q)?Tm.parse(s.context,Q.value):3,E=C&&C.type===0?C.value:"",x=F.map(function(S){return qa(S,T,!1)}).join(E);u.appendChild(a.createTextNode(x))}}}else if(h.type===20)switch(h.value){case"open-quote":u.appendChild(a.createTextNode(gx(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":u.appendChild(a.createTextNode(gx(l.quotes,--s.quoteDepth,!1)));break;default:u.appendChild(a.createTextNode(h.value))}}),u.className=Pm+" "+Dm;var d=A===fa.BEFORE?" "+Pm:" "+Dm;return nu(r)?r.className.baseValue+=d:r.className+=d,u}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),fa;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(fa||(fa={}));var E3=function(t,e){var r=t.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=e.width.toString(),r.height=e.height.toString(),r.scrolling="no",r.setAttribute(X1,"true"),t.body.appendChild(r),r},b3=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},_3=function(t){return Promise.all([].slice.call(t.images,0).map(b3))},I3=function(t){return new Promise(function(e,r){var n=t.contentWindow;if(!n)return r("No window assigned for iframe");var A=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var s=setInterval(function(){A.body.childNodes.length>0&&A.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},U3=["all","d","content"],Pf=function(t,e){for(var r=t.length-1;r>=0;r--){var n=t.item(r);U3.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},F3=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Q3=function(t,e,r){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||r!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,r)},T3=function(t){var e=t[0],r=t[1],n=t[2];e.scrollLeft=r,e.scrollTop=n},N3=":before",S3=":after",Pm="___html2canvas___pseudoelement_before",Dm="___html2canvas___pseudoelement_after",Hx=`{
    content: "" !important;
    display: none !important;
}`,R3=function(t){k3(t,"."+Pm+N3+Hx+`
         .`+Dm+S3+Hx)},k3=function(t,e){var r=t.ownerDocument;if(r){var n=r.createElement("style");n.textContent=e,t.appendChild(n)}},Y1=function(){function t(){}return t.getOrigin=function(e){var r=t._link;return r?(r.href=e,r.href=r.href,r.protocol+r.hostname+r.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),j3=function(){function t(e,r){this.context=e,this._options=r,this._cache={}}return t.prototype.addImage=function(e){var r=Promise.resolve();return this.has(e)||(Lf(e)||H3(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),r},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Zt(this,void 0,void 0,function(){var r,n,A,s,i=this;return Ht(this,function(a){switch(a.label){case 0:return r=Y1.isSameOrigin(e),n=!Df(e)&&this._options.useCORS===!0&&bt.SUPPORT_CORS_IMAGES&&!r,A=!Df(e)&&!r&&!Lf(e)&&typeof this._options.proxy=="string"&&bt.SUPPORT_CORS_XHR&&!n,!r&&this._options.allowTaint===!1&&!Df(e)&&!Lf(e)&&!A&&!n?[2]:(s=e,A?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,u){var d=new Image;d.onload=function(){return l(d)},d.onerror=u,(M3(s)||n)&&(d.crossOrigin="anonymous"),d.src=s,d.complete===!0&&setTimeout(function(){return l(d)},500),i._options.imageTimeout>0&&setTimeout(function(){return u("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var r=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var A=e.substring(0,256);return new Promise(function(s,i){var a=bt.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")s(l.response);else{var h=new FileReader;h.addEventListener("load",function(){return s(h.result)},!1),h.addEventListener("error",function(f){return i(f)},!1),h.readAsDataURL(l.response)}else i("Failed to proxy resource "+A+" with status code "+l.status)},l.onerror=i;var u=n.indexOf("?")>-1?"&":"?";if(l.open("GET",""+n+u+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),r._options.imageTimeout){var d=r._options.imageTimeout;l.timeout=d,l.ontimeout=function(){return i("Timed out ("+d+"ms) proxying "+A)}}l.send()})},t}(),P3=/^data:image\/svg\+xml/i,D3=/^data:image\/.*;base64,/i,L3=/^data:image\/.*/i,H3=function(t){return bt.SUPPORT_SVG_DRAWING||!O3(t)},Df=function(t){return L3.test(t)},M3=function(t){return D3.test(t)},Lf=function(t){return t.substr(0,4)==="blob"},O3=function(t){return t.substr(-3).toLowerCase()==="svg"||P3.test(t)},re=function(){function t(e,r){this.type=0,this.x=e,this.y=r}return t.prototype.add=function(e,r){return new t(this.x+e,this.y+r)},t}(),$s=function(t,e,r){return new re(t.x+(e.x-t.x)*r,t.y+(e.y-t.y)*r)},_c=function(){function t(e,r,n,A){this.type=1,this.start=e,this.startControl=r,this.endControl=n,this.end=A}return t.prototype.subdivide=function(e,r){var n=$s(this.start,this.startControl,e),A=$s(this.startControl,this.endControl,e),s=$s(this.endControl,this.end,e),i=$s(n,A,e),a=$s(A,s,e),l=$s(i,a,e);return r?new t(this.start,n,i,l):new t(l,a,s,this.end)},t.prototype.add=function(e,r){return new t(this.start.add(e,r),this.startControl.add(e,r),this.endControl.add(e,r),this.end.add(e,r))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Nr=function(t){return t.type===1},V3=function(){function t(e){var r=e.styles,n=e.bounds,A=zo(r.borderTopLeftRadius,n.width,n.height),s=A[0],i=A[1],a=zo(r.borderTopRightRadius,n.width,n.height),l=a[0],u=a[1],d=zo(r.borderBottomRightRadius,n.width,n.height),h=d[0],f=d[1],w=zo(r.borderBottomLeftRadius,n.width,n.height),v=w[0],_=w[1],Q=[];Q.push((s+l)/n.width),Q.push((v+h)/n.width),Q.push((i+_)/n.height),Q.push((u+f)/n.height);var B=Math.max.apply(Math,Q);B>1&&(s/=B,i/=B,l/=B,u/=B,h/=B,f/=B,v/=B,_/=B);var m=n.width-l,y=n.height-f,C=n.width-h,F=n.height-_,T=r.borderTopWidth,E=r.borderRightWidth,x=r.borderBottomWidth,I=r.borderLeftWidth,b=De(r.paddingTop,e.bounds.width),S=De(r.paddingRight,e.bounds.width),R=De(r.paddingBottom,e.bounds.width),N=De(r.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||i>0?Ge(n.left+I/3,n.top+T/3,s-I/3,i-T/3,Te.TOP_LEFT):new re(n.left+I/3,n.top+T/3),this.topRightBorderDoubleOuterBox=s>0||i>0?Ge(n.left+m,n.top+T/3,l-E/3,u-T/3,Te.TOP_RIGHT):new re(n.left+n.width-E/3,n.top+T/3),this.bottomRightBorderDoubleOuterBox=h>0||f>0?Ge(n.left+C,n.top+y,h-E/3,f-x/3,Te.BOTTOM_RIGHT):new re(n.left+n.width-E/3,n.top+n.height-x/3),this.bottomLeftBorderDoubleOuterBox=v>0||_>0?Ge(n.left+I/3,n.top+F,v-I/3,_-x/3,Te.BOTTOM_LEFT):new re(n.left+I/3,n.top+n.height-x/3),this.topLeftBorderDoubleInnerBox=s>0||i>0?Ge(n.left+I*2/3,n.top+T*2/3,s-I*2/3,i-T*2/3,Te.TOP_LEFT):new re(n.left+I*2/3,n.top+T*2/3),this.topRightBorderDoubleInnerBox=s>0||i>0?Ge(n.left+m,n.top+T*2/3,l-E*2/3,u-T*2/3,Te.TOP_RIGHT):new re(n.left+n.width-E*2/3,n.top+T*2/3),this.bottomRightBorderDoubleInnerBox=h>0||f>0?Ge(n.left+C,n.top+y,h-E*2/3,f-x*2/3,Te.BOTTOM_RIGHT):new re(n.left+n.width-E*2/3,n.top+n.height-x*2/3),this.bottomLeftBorderDoubleInnerBox=v>0||_>0?Ge(n.left+I*2/3,n.top+F,v-I*2/3,_-x*2/3,Te.BOTTOM_LEFT):new re(n.left+I*2/3,n.top+n.height-x*2/3),this.topLeftBorderStroke=s>0||i>0?Ge(n.left+I/2,n.top+T/2,s-I/2,i-T/2,Te.TOP_LEFT):new re(n.left+I/2,n.top+T/2),this.topRightBorderStroke=s>0||i>0?Ge(n.left+m,n.top+T/2,l-E/2,u-T/2,Te.TOP_RIGHT):new re(n.left+n.width-E/2,n.top+T/2),this.bottomRightBorderStroke=h>0||f>0?Ge(n.left+C,n.top+y,h-E/2,f-x/2,Te.BOTTOM_RIGHT):new re(n.left+n.width-E/2,n.top+n.height-x/2),this.bottomLeftBorderStroke=v>0||_>0?Ge(n.left+I/2,n.top+F,v-I/2,_-x/2,Te.BOTTOM_LEFT):new re(n.left+I/2,n.top+n.height-x/2),this.topLeftBorderBox=s>0||i>0?Ge(n.left,n.top,s,i,Te.TOP_LEFT):new re(n.left,n.top),this.topRightBorderBox=l>0||u>0?Ge(n.left+m,n.top,l,u,Te.TOP_RIGHT):new re(n.left+n.width,n.top),this.bottomRightBorderBox=h>0||f>0?Ge(n.left+C,n.top+y,h,f,Te.BOTTOM_RIGHT):new re(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=v>0||_>0?Ge(n.left,n.top+F,v,_,Te.BOTTOM_LEFT):new re(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||i>0?Ge(n.left+I,n.top+T,Math.max(0,s-I),Math.max(0,i-T),Te.TOP_LEFT):new re(n.left+I,n.top+T),this.topRightPaddingBox=l>0||u>0?Ge(n.left+Math.min(m,n.width-E),n.top+T,m>n.width+E?0:Math.max(0,l-E),Math.max(0,u-T),Te.TOP_RIGHT):new re(n.left+n.width-E,n.top+T),this.bottomRightPaddingBox=h>0||f>0?Ge(n.left+Math.min(C,n.width-I),n.top+Math.min(y,n.height-x),Math.max(0,h-E),Math.max(0,f-x),Te.BOTTOM_RIGHT):new re(n.left+n.width-E,n.top+n.height-x),this.bottomLeftPaddingBox=v>0||_>0?Ge(n.left+I,n.top+Math.min(F,n.height-x),Math.max(0,v-I),Math.max(0,_-x),Te.BOTTOM_LEFT):new re(n.left+I,n.top+n.height-x),this.topLeftContentBox=s>0||i>0?Ge(n.left+I+N,n.top+T+b,Math.max(0,s-(I+N)),Math.max(0,i-(T+b)),Te.TOP_LEFT):new re(n.left+I+N,n.top+T+b),this.topRightContentBox=l>0||u>0?Ge(n.left+Math.min(m,n.width+I+N),n.top+T+b,m>n.width+I+N?0:l-I+N,u-(T+b),Te.TOP_RIGHT):new re(n.left+n.width-(E+S),n.top+T+b),this.bottomRightContentBox=h>0||f>0?Ge(n.left+Math.min(C,n.width-(I+N)),n.top+Math.min(y,n.height+T+b),Math.max(0,h-(E+S)),f-(x+R),Te.BOTTOM_RIGHT):new re(n.left+n.width-(E+S),n.top+n.height-(x+R)),this.bottomLeftContentBox=v>0||_>0?Ge(n.left+I+N,n.top+F,Math.max(0,v-(I+N)),_-(x+R),Te.BOTTOM_LEFT):new re(n.left+I+N,n.top+n.height-(x+R))}return t}(),Te;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Te||(Te={}));var Ge=function(t,e,r,n,A){var s=4*((Math.sqrt(2)-1)/3),i=r*s,a=n*s,l=t+r,u=e+n;switch(A){case Te.TOP_LEFT:return new _c(new re(t,u),new re(t,u-a),new re(l-i,e),new re(l,e));case Te.TOP_RIGHT:return new _c(new re(t,e),new re(t+i,e),new re(l,u-a),new re(l,u));case Te.BOTTOM_RIGHT:return new _c(new re(l,e),new re(l,e+a),new re(t+i,u),new re(t,u));case Te.BOTTOM_LEFT:default:return new _c(new re(l,u),new re(l-i,u),new re(t,e+a),new re(t,e))}},ed=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},K3=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},td=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},G3=function(){function t(e,r,n){this.offsetX=e,this.offsetY=r,this.matrix=n,this.type=0,this.target=6}return t}(),Ic=function(){function t(e,r){this.path=e,this.target=r,this.type=1}return t}(),z3=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),W3=function(t){return t.type===0},Z1=function(t){return t.type===1},$3=function(t){return t.type===2},Mx=function(t,e){return t.length===e.length?t.some(function(r,n){return r===e[n]}):!1},q3=function(t,e,r,n,A){return t.map(function(s,i){switch(i){case 0:return s.add(e,r);case 1:return s.add(e+n,r);case 2:return s.add(e+n,r+A);case 3:return s.add(e,r+A)}return s})},eU=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),tU=function(){function t(e,r){if(this.container=e,this.parent=r,this.effects=[],this.curves=new V3(this.container),this.container.styles.opacity<1&&this.effects.push(new z3(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,A=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new G3(n,A,s))}if(this.container.styles.overflowX!==0){var i=ed(this.curves),a=td(this.curves);Mx(i,a)?this.effects.push(new Ic(i,6)):(this.effects.push(new Ic(i,2)),this.effects.push(new Ic(a,4)))}}return t.prototype.getEffects=function(e){for(var r=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,A=this.effects.slice(0);n;){var s=n.effects.filter(function(l){return!Z1(l)});if(r||n.container.styles.position!==0||!n.parent){if(A.unshift.apply(A,s),r=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var i=ed(n.curves),a=td(n.curves);Mx(i,a)||A.unshift(new Ic(a,6))}}else A.unshift.apply(A,s);n=n.parent}return A.filter(function(l){return ft(l.target,e)})},t}(),Lm=function(t,e,r,n){t.container.elements.forEach(function(A){var s=ft(A.flags,4),i=ft(A.flags,2),a=new tU(A,t);ft(A.styles.display,2048)&&n.push(a);var l=ft(A.flags,8)?[]:n;if(s||i){var u=s||A.styles.isPositioned()?r:e,d=new eU(a);if(A.styles.isPositioned()||A.styles.opacity<1||A.styles.isTransformed()){var h=A.styles.zIndex.order;if(h<0){var f=0;u.negativeZIndex.some(function(v,_){return h>v.element.container.styles.zIndex.order?(f=_,!1):f>0}),u.negativeZIndex.splice(f,0,d)}else if(h>0){var w=0;u.positiveZIndex.some(function(v,_){return h>=v.element.container.styles.zIndex.order?(w=_+1,!1):w>0}),u.positiveZIndex.splice(w,0,d)}else u.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else A.styles.isFloating()?u.nonPositionedFloats.push(d):u.nonPositionedInlineLevel.push(d);Lm(a,d,s?d:r,l)}else A.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),Lm(a,e,r,l);ft(A.flags,8)&&rU(A,l)})},rU=function(t,e){for(var r=t instanceof Rm?t.start:1,n=t instanceof Rm?t.reversed:!1,A=0;A<e.length;A++){var s=e[A];s.container instanceof L1&&typeof s.container.value=="number"&&s.container.value!==0&&(r=s.container.value),s.listValue=qa(r,s.container.styles.listStyleType,!0),r+=n?-1:1}},J3=function(t){var e=new tU(t,null),r=new eU(e),n=[];return Lm(e,r,r,n),rU(e.container,n),r},Ox=function(t,e){switch(e){case 0:return kr(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return kr(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return kr(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return kr(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},X3=function(t,e){switch(e){case 0:return kr(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return kr(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return kr(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return kr(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},Y3=function(t,e){switch(e){case 0:return kr(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return kr(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return kr(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return kr(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},Z3=function(t,e){switch(e){case 0:return Uc(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Uc(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Uc(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Uc(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Uc=function(t,e){var r=[];return Nr(t)?r.push(t.subdivide(.5,!1)):r.push(t),Nr(e)?r.push(e.subdivide(.5,!0)):r.push(e),r},kr=function(t,e,r,n){var A=[];return Nr(t)?A.push(t.subdivide(.5,!1)):A.push(t),Nr(r)?A.push(r.subdivide(.5,!0)):A.push(r),Nr(n)?A.push(n.subdivide(.5,!0).reverse()):A.push(n),Nr(e)?A.push(e.subdivide(.5,!1).reverse()):A.push(e),A},nU=function(t){var e=t.bounds,r=t.styles;return e.add(r.borderLeftWidth,r.borderTopWidth,-(r.borderRightWidth+r.borderLeftWidth),-(r.borderTopWidth+r.borderBottomWidth))},rd=function(t){var e=t.styles,r=t.bounds,n=De(e.paddingLeft,r.width),A=De(e.paddingRight,r.width),s=De(e.paddingTop,r.width),i=De(e.paddingBottom,r.width);return r.add(n+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+A),-(e.borderTopWidth+e.borderBottomWidth+s+i))},eV=function(t,e){return t===0?e.bounds:t===2?rd(e):nU(e)},tV=function(t,e){return t===0?e.bounds:t===2?rd(e):nU(e)},Hf=function(t,e,r){var n=eV(ei(t.styles.backgroundOrigin,e),t),A=tV(ei(t.styles.backgroundClip,e),t),s=rV(ei(t.styles.backgroundSize,e),r,n),i=s[0],a=s[1],l=zo(ei(t.styles.backgroundPosition,e),n.width-i,n.height-a),u=nV(ei(t.styles.backgroundRepeat,e),l,s,n,A),d=Math.round(n.left+l[0]),h=Math.round(n.top+l[1]);return[u,d,h,i,a]},qs=function(t){return ke(t)&&t.value===bi.AUTO},Fc=function(t){return typeof t=="number"},rV=function(t,e,r){var n=e[0],A=e[1],s=e[2],i=t[0],a=t[1];if(!i)return[0,0];if(lt(i)&&a&&lt(a))return[De(i,r.width),De(a,r.height)];var l=Fc(s);if(ke(i)&&(i.value===bi.CONTAIN||i.value===bi.COVER)){if(Fc(s)){var u=r.width/r.height;return u<s!=(i.value===bi.COVER)?[r.width,r.width/s]:[r.height*s,r.height]}return[r.width,r.height]}var d=Fc(n),h=Fc(A),f=d||h;if(qs(i)&&(!a||qs(a))){if(d&&h)return[n,A];if(!l&&!f)return[r.width,r.height];if(f&&l){var w=d?n:A*s,v=h?A:n/s;return[w,v]}var _=d?n:r.width,Q=h?A:r.height;return[_,Q]}if(l){var B=0,m=0;return lt(i)?B=De(i,r.width):lt(a)&&(m=De(a,r.height)),qs(i)?B=m*s:(!a||qs(a))&&(m=B/s),[B,m]}var y=null,C=null;if(lt(i)?y=De(i,r.width):a&&lt(a)&&(C=De(a,r.height)),y!==null&&(!a||qs(a))&&(C=d&&h?y/n*A:r.height),C!==null&&qs(i)&&(y=d&&h?C/A*n:r.width),y!==null&&C!==null)return[y,C];throw new Error("Unable to calculate background-size for element")},ei=function(t,e){var r=t[e];return typeof r>"u"?t[0]:r},nV=function(t,e,r,n,A){var s=e[0],i=e[1],a=r[0],l=r[1];switch(t){case 2:return[new re(Math.round(n.left),Math.round(n.top+i)),new re(Math.round(n.left+n.width),Math.round(n.top+i)),new re(Math.round(n.left+n.width),Math.round(l+n.top+i)),new re(Math.round(n.left),Math.round(l+n.top+i))];case 3:return[new re(Math.round(n.left+s),Math.round(n.top)),new re(Math.round(n.left+s+a),Math.round(n.top)),new re(Math.round(n.left+s+a),Math.round(n.height+n.top)),new re(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new re(Math.round(n.left+s),Math.round(n.top+i)),new re(Math.round(n.left+s+a),Math.round(n.top+i)),new re(Math.round(n.left+s+a),Math.round(n.top+i+l)),new re(Math.round(n.left+s),Math.round(n.top+i+l))];default:return[new re(Math.round(A.left),Math.round(A.top)),new re(Math.round(A.left+A.width),Math.round(A.top)),new re(Math.round(A.left+A.width),Math.round(A.height+A.top)),new re(Math.round(A.left),Math.round(A.height+A.top))]}},AV="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Vx="Hidden Text",sV=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,r){var n=this._document.createElement("div"),A=this._document.createElement("img"),s=this._document.createElement("span"),i=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=r,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",i.appendChild(n),A.src=AV,A.width=1,A.height=1,A.style.margin="0",A.style.padding="0",A.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=r,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(Vx)),n.appendChild(s),n.appendChild(A);var a=A.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(Vx)),n.style.lineHeight="normal",A.style.verticalAlign="super";var l=A.offsetTop-n.offsetTop+2;return i.removeChild(n),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,r){var n=e+" "+r;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,r)),this._data[n]},t}(),AU=function(){function t(e,r){this.context=e,this.options=r}return t}(),iV=1e4,oV=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A._activeEffects=[],A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),n.canvas||(A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px"),A.fontMetrics=new sV(document),A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.ctx.textBaseline="bottom",A._activeEffects=[],A.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),A}return e.prototype.applyEffects=function(r){for(var n=this;this._activeEffects.length;)this.popEffect();r.forEach(function(A){return n.applyEffect(A)})},e.prototype.applyEffect=function(r){this.ctx.save(),$3(r)&&(this.ctx.globalAlpha=r.opacity),W3(r)&&(this.ctx.translate(r.offsetX,r.offsetY),this.ctx.transform(r.matrix[0],r.matrix[1],r.matrix[2],r.matrix[3],r.matrix[4],r.matrix[5]),this.ctx.translate(-r.offsetX,-r.offsetY)),Z1(r)&&(this.path(r.path),this.ctx.clip()),this._activeEffects.push(r)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(r){return Zt(this,void 0,void 0,function(){var n;return Ht(this,function(A){switch(A.label){case 0:return n=r.element.container.styles,n.isVisible()?[4,this.renderStackContent(r)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(r){return Zt(this,void 0,void 0,function(){return Ht(this,function(n){switch(n.label){case 0:if(ft(r.container.flags,16))debugger;return r.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(r)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(r)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(r,n,A){var s=this;if(n===0)this.ctx.fillText(r.text,r.bounds.left,r.bounds.top+A);else{var i=q0(r.text);i.reduce(function(a,l){return s.ctx.fillText(l,a,r.bounds.top+A),a+s.ctx.measureText(l).width},r.bounds.left)}},e.prototype.createFontStyle=function(r){var n=r.fontVariant.filter(function(i){return i==="normal"||i==="small-caps"}).join(""),A=dV(r.fontFamily).join(", "),s=wl(r.fontSize)?""+r.fontSize.number+r.fontSize.unit:r.fontSize.number+"px";return[[r.fontStyle,n,r.fontWeight,s,A].join(" "),A,s]},e.prototype.renderTextNode=function(r,n){return Zt(this,void 0,void 0,function(){var A,s,i,a,l,u,d,h,f=this;return Ht(this,function(w){return A=this.createFontStyle(n),s=A[0],i=A[1],a=A[2],this.ctx.font=s,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(i,a),u=l.baseline,d=l.middle,h=n.paintOrder,r.textBounds.forEach(function(v){h.forEach(function(_){switch(_){case 0:f.ctx.fillStyle=wt(n.color),f.renderTextWithLetterSpacing(v,n.letterSpacing,u);var Q=n.textShadow;Q.length&&v.text.trim().length&&(Q.slice(0).reverse().forEach(function(B){f.ctx.shadowColor=wt(B.color),f.ctx.shadowOffsetX=B.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=B.offsetY.number*f.options.scale,f.ctx.shadowBlur=B.blur.number,f.renderTextWithLetterSpacing(v,n.letterSpacing,u)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),n.textDecorationLine.length&&(f.ctx.fillStyle=wt(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(B){switch(B){case 1:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top+u),v.bounds.width,1);break;case 2:f.ctx.fillRect(v.bounds.left,Math.round(v.bounds.top),v.bounds.width,1);break;case 3:f.ctx.fillRect(v.bounds.left,Math.ceil(v.bounds.top+d),v.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&v.text.trim().length&&(f.ctx.strokeStyle=wt(n.webkitTextStrokeColor),f.ctx.lineWidth=n.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(v.text,v.bounds.left,v.bounds.top+u)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(r,n,A){if(A&&r.intrinsicWidth>0&&r.intrinsicHeight>0){var s=rd(r),i=td(n);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,r.intrinsicWidth,r.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(r){return Zt(this,void 0,void 0,function(){var n,A,s,i,a,l,m,m,u,d,h,f,C,w,v,F,_,Q,B,m,y,C,F;return Ht(this,function(T){switch(T.label){case 0:this.applyEffects(r.getEffects(4)),n=r.container,A=r.curves,s=n.styles,i=0,a=n.textNodes,T.label=1;case 1:return i<a.length?(l=a[i],[4,this.renderTextNode(l,s)]):[3,4];case 2:T.sent(),T.label=3;case 3:return i++,[3,1];case 4:if(!(n instanceof j1))return[3,8];T.label=5;case 5:return T.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return m=T.sent(),this.renderReplacedElement(n,A,m),[3,8];case 7:return T.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof P1&&this.renderReplacedElement(n,A,n.canvas),!(n instanceof D1))return[3,12];T.label=9;case 9:return T.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return m=T.sent(),this.renderReplacedElement(n,A,m),[3,12];case 11:return T.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof O1&&n.tree?(u=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,u.render(n.tree)]):[3,14];case 13:d=T.sent(),n.width&&n.height&&this.ctx.drawImage(d,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),T.label=14;case 14:if(n instanceof J0&&(h=Math.min(n.bounds.width,n.bounds.height),n.type===Ju?n.checked&&(this.ctx.save(),this.path([new re(n.bounds.left+h*.39363,n.bounds.top+h*.79),new re(n.bounds.left+h*.16,n.bounds.top+h*.5549),new re(n.bounds.left+h*.27347,n.bounds.top+h*.44071),new re(n.bounds.left+h*.39694,n.bounds.top+h*.5649),new re(n.bounds.left+h*.72983,n.bounds.top+h*.23),new re(n.bounds.left+h*.84,n.bounds.top+h*.34085),new re(n.bounds.left+h*.39363,n.bounds.top+h*.79)]),this.ctx.fillStyle=wt(Qx),this.ctx.fill(),this.ctx.restore()):n.type===Xu&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+h/2,n.bounds.top+h/2,h/4,0,Math.PI*2,!0),this.ctx.fillStyle=wt(Qx),this.ctx.fill(),this.ctx.restore())),aV(n)&&n.value.length){switch(f=this.createFontStyle(s),C=f[0],w=f[1],v=this.fontMetrics.getMetrics(C,w).baseline,this.ctx.font=C,this.ctx.fillStyle=wt(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=cV(n.styles.textAlign),F=rd(n),_=0,n.styles.textAlign){case 1:_+=F.width/2;break;case 2:_+=F.width;break}Q=F.add(_,0,0,-F.height/2+1),this.ctx.save(),this.path([new re(F.left,F.top),new re(F.left+F.width,F.top),new re(F.left+F.width,F.top+F.height),new re(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ha(n.value,Q),s.letterSpacing,v),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ft(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(B=n.styles.listStyleImage,B.type!==0)return[3,18];m=void 0,y=B.url,T.label=15;case 15:return T.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return m=T.sent(),this.ctx.drawImage(m,n.bounds.left-(m.width+10),n.bounds.top),[3,18];case 17:return T.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:r.listValue&&n.styles.listStyleType!==-1&&(C=this.createFontStyle(s)[0],this.ctx.font=C,this.ctx.fillStyle=wt(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new Jn(n.bounds.left,n.bounds.top+De(n.styles.paddingTop,n.bounds.width),n.bounds.width,hx(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ha(r.listValue,F),s.letterSpacing,hx(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),T.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(r){return Zt(this,void 0,void 0,function(){var n,A,B,s,i,B,a,l,B,u,d,B,h,f,B,w,v,B,_,Q,B;return Ht(this,function(m){switch(m.label){case 0:if(ft(r.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(r.element)];case 1:m.sent(),n=0,A=r.negativeZIndex,m.label=2;case 2:return n<A.length?(B=A[n],[4,this.renderStack(B)]):[3,5];case 3:m.sent(),m.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(r.element)];case 6:m.sent(),s=0,i=r.nonInlineLevel,m.label=7;case 7:return s<i.length?(B=i[s],[4,this.renderNode(B)]):[3,10];case 8:m.sent(),m.label=9;case 9:return s++,[3,7];case 10:a=0,l=r.nonPositionedFloats,m.label=11;case 11:return a<l.length?(B=l[a],[4,this.renderStack(B)]):[3,14];case 12:m.sent(),m.label=13;case 13:return a++,[3,11];case 14:u=0,d=r.nonPositionedInlineLevel,m.label=15;case 15:return u<d.length?(B=d[u],[4,this.renderStack(B)]):[3,18];case 16:m.sent(),m.label=17;case 17:return u++,[3,15];case 18:h=0,f=r.inlineLevel,m.label=19;case 19:return h<f.length?(B=f[h],[4,this.renderNode(B)]):[3,22];case 20:m.sent(),m.label=21;case 21:return h++,[3,19];case 22:w=0,v=r.zeroOrAutoZIndexOrTransformedOrOpacity,m.label=23;case 23:return w<v.length?(B=v[w],[4,this.renderStack(B)]):[3,26];case 24:m.sent(),m.label=25;case 25:return w++,[3,23];case 26:_=0,Q=r.positiveZIndex,m.label=27;case 27:return _<Q.length?(B=Q[_],[4,this.renderStack(B)]):[3,30];case 28:m.sent(),m.label=29;case 29:return _++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(r){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(r.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(r){this.ctx.beginPath(),this.formatPath(r),this.ctx.closePath()},e.prototype.formatPath=function(r){var n=this;r.forEach(function(A,s){var i=Nr(A)?A.start:A;s===0?n.ctx.moveTo(i.x,i.y):n.ctx.lineTo(i.x,i.y),Nr(A)&&n.ctx.bezierCurveTo(A.startControl.x,A.startControl.y,A.endControl.x,A.endControl.y,A.end.x,A.end.y)})},e.prototype.renderRepeat=function(r,n,A,s){this.path(r),this.ctx.fillStyle=n,this.ctx.translate(A,s),this.ctx.fill(),this.ctx.translate(-A,-s)},e.prototype.resizeImage=function(r,n,A){var s;if(r.width===n&&r.height===A)return r;var i=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=i.createElement("canvas");a.width=Math.max(1,n),a.height=Math.max(1,A);var l=a.getContext("2d");return l.drawImage(r,0,0,r.width,r.height,0,0,n,A),a},e.prototype.renderBackgroundImage=function(r){return Zt(this,void 0,void 0,function(){var n,A,s,i,a,l;return Ht(this,function(u){switch(u.label){case 0:n=r.styles.backgroundImage.length-1,A=function(d){var h,f,w,b,ee,ne,N,J,x,v,b,ee,ne,N,J,_,Q,B,m,y,C,F,T,E,x,I,b,S,R,N,J,te,ee,ne,L,M,V,q,X,K,oe,ae;return Ht(this,function(z){switch(z.label){case 0:if(d.type!==0)return[3,5];h=void 0,f=d.url,z.label=1;case 1:return z.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return h=z.sent(),[3,4];case 3:return z.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return h&&(w=Hf(r,n,[h.width,h.height,h.width/h.height]),b=w[0],ee=w[1],ne=w[2],N=w[3],J=w[4],x=s.ctx.createPattern(s.resizeImage(h,N,J),"repeat"),s.renderRepeat(b,x,ee,ne)),[3,6];case 5:WH(d)?(v=Hf(r,n,[null,null,null]),b=v[0],ee=v[1],ne=v[2],N=v[3],J=v[4],_=OH(d.angle,N,J),Q=_[0],B=_[1],m=_[2],y=_[3],C=_[4],F=document.createElement("canvas"),F.width=N,F.height=J,T=F.getContext("2d"),E=T.createLinearGradient(B,y,m,C),ux(d.stops,Q).forEach(function(Z){return E.addColorStop(Z.stop,wt(Z.color))}),T.fillStyle=E,T.fillRect(0,0,N,J),N>0&&J>0&&(x=s.ctx.createPattern(F,"repeat"),s.renderRepeat(b,x,ee,ne))):$H(d)&&(I=Hf(r,n,[null,null,null]),b=I[0],S=I[1],R=I[2],N=I[3],J=I[4],te=d.position.length===0?[z0]:d.position,ee=De(te[0],N),ne=De(te[te.length-1],J),L=VH(d,ee,ne,N,J),M=L[0],V=L[1],M>0&&V>0&&(q=s.ctx.createRadialGradient(S+ee,R+ne,0,S+ee,R+ne,M),ux(d.stops,M*2).forEach(function(Z){return q.addColorStop(Z.stop,wt(Z.color))}),s.path(b),s.ctx.fillStyle=q,M!==V?(X=r.bounds.left+.5*r.bounds.width,K=r.bounds.top+.5*r.bounds.height,oe=V/M,ae=1/oe,s.ctx.save(),s.ctx.translate(X,K),s.ctx.transform(1,0,0,oe,0,0),s.ctx.translate(-X,-K),s.ctx.fillRect(S,ae*(R-K)+K,N,J*ae),s.ctx.restore()):s.ctx.fill())),z.label=6;case 6:return n--,[2]}})},s=this,i=0,a=r.styles.backgroundImage.slice(0).reverse(),u.label=1;case 1:return i<a.length?(l=a[i],[5,A(l)]):[3,4];case 2:u.sent(),u.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(r,n,A){return Zt(this,void 0,void 0,function(){return Ht(this,function(s){return this.path(Ox(A,n)),this.ctx.fillStyle=wt(r),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(r,n,A,s){return Zt(this,void 0,void 0,function(){var i,a;return Ht(this,function(l){switch(l.label){case 0:return n<3?[4,this.renderSolidBorder(r,A,s)]:[3,2];case 1:return l.sent(),[2];case 2:return i=X3(s,A),this.path(i),this.ctx.fillStyle=wt(r),this.ctx.fill(),a=Y3(s,A),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(r){return Zt(this,void 0,void 0,function(){var n,A,s,i,a,l,u,d,h=this;return Ht(this,function(f){switch(f.label){case 0:return this.applyEffects(r.getEffects(2)),n=r.container.styles,A=!kA(n.backgroundColor)||n.backgroundImage.length,s=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],i=lV(ei(n.backgroundClip,0),r.curves),A||n.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),kA(n.backgroundColor)||(this.ctx.fillStyle=wt(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(r.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(w){h.ctx.save();var v=ed(r.curves),_=w.inset?0:iV,Q=q3(v,-_+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(h.path(v),h.ctx.clip(),h.mask(Q)):(h.mask(v),h.ctx.clip(),h.path(Q)),h.ctx.shadowOffsetX=w.offsetX.number+_,h.ctx.shadowOffsetY=w.offsetY.number,h.ctx.shadowColor=wt(w.color),h.ctx.shadowBlur=w.blur.number,h.ctx.fillStyle=w.inset?wt(w.color):"rgba(0,0,0,1)",h.ctx.fill(),h.ctx.restore()}),f.label=2;case 2:a=0,l=0,u=s,f.label=3;case 3:return l<u.length?(d=u[l],d.style!==0&&!kA(d.color)&&d.width>0?d.style!==2?[3,5]:[4,this.renderDashedDottedBorder(d.color,d.width,a,r.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return d.style!==3?[3,7]:[4,this.renderDashedDottedBorder(d.color,d.width,a,r.curves,3)];case 6:return f.sent(),[3,11];case 7:return d.style!==4?[3,9]:[4,this.renderDoubleBorder(d.color,d.width,a,r.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(d.color,a,r.curves)];case 10:f.sent(),f.label=11;case 11:a++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(r,n,A,s,i){return Zt(this,void 0,void 0,function(){var a,l,u,d,h,f,w,v,_,Q,B,m,y,C,F,T,F,T;return Ht(this,function(E){return this.ctx.save(),a=Z3(s,A),l=Ox(s,A),i===2&&(this.path(l),this.ctx.clip()),Nr(l[0])?(u=l[0].start.x,d=l[0].start.y):(u=l[0].x,d=l[0].y),Nr(l[1])?(h=l[1].end.x,f=l[1].end.y):(h=l[1].x,f=l[1].y),A===0||A===2?w=Math.abs(u-h):w=Math.abs(d-f),this.ctx.beginPath(),i===3?this.formatPath(a):this.formatPath(l.slice(0,2)),v=n<3?n*3:n*2,_=n<3?n*2:n,i===3&&(v=n,_=n),Q=!0,w<=v*2?Q=!1:w<=v*2+_?(B=w/(2*v+_),v*=B,_*=B):(m=Math.floor((w+_)/(v+_)),y=(w-m*v)/(m-1),C=(w-(m+1)*v)/m,_=C<=0||Math.abs(_-y)<Math.abs(_-C)?y:C),Q&&(i===3?this.ctx.setLineDash([0,v+_]):this.ctx.setLineDash([v,_])),i===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=wt(r),this.ctx.stroke(),this.ctx.setLineDash([]),i===2&&(Nr(l[0])&&(F=l[3],T=l[0],this.ctx.beginPath(),this.formatPath([new re(F.end.x,F.end.y),new re(T.start.x,T.start.y)]),this.ctx.stroke()),Nr(l[1])&&(F=l[1],T=l[2],this.ctx.beginPath(),this.formatPath([new re(F.end.x,F.end.y),new re(T.start.x,T.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(r){return Zt(this,void 0,void 0,function(){var n;return Ht(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=wt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=J3(r),[4,this.renderStack(n)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(AU),aV=function(t){return t instanceof M1||t instanceof H1?!0:t instanceof J0&&t.type!==Xu&&t.type!==Ju},lV=function(t,e){switch(t){case 0:return ed(e);case 2:return K3(e);case 1:default:return td(e)}},cV=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},uV=["-apple-system","system-ui"],dV=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return uV.indexOf(e)===-1}):t},hV=function(t){nn(e,t);function e(r,n){var A=t.call(this,r,n)||this;return A.canvas=n.canvas?n.canvas:document.createElement("canvas"),A.ctx=A.canvas.getContext("2d"),A.options=n,A.canvas.width=Math.floor(n.width*n.scale),A.canvas.height=Math.floor(n.height*n.scale),A.canvas.style.width=n.width+"px",A.canvas.style.height=n.height+"px",A.ctx.scale(A.options.scale,A.options.scale),A.ctx.translate(-n.x,-n.y),A.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),A}return e.prototype.render=function(r){return Zt(this,void 0,void 0,function(){var n,A;return Ht(this,function(s){switch(s.label){case 0:return n=Sm(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,r),[4,fV(n)];case 1:return A=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=wt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(AU),fV=function(t){return new Promise(function(e,r){var n=new Image;n.onload=function(){e(n)},n.onerror=r,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},gV=function(){function t(e){var r=e.id,n=e.enabled;this.id=r,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,oc([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,oc([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,oc([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,oc([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),mV=function(){function t(e,r){var n;this.windowBounds=r,this.instanceName="#"+t.instanceCount++,this.logger=new gV({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new j3(this,e)}return t.instanceCount=1,t}(),pV=function(t,e){return e===void 0&&(e={}),wV(t,e)};typeof window<"u"&&Y1.setContext(window);var wV=function(t,e){return Zt(void 0,void 0,void 0,function(){var r,n,A,s,i,a,l,u,d,h,f,w,v,_,Q,B,m,y,C,F,E,T,E,x,I,b,S,R,N,J,te,ee,ne,L,M,V,q,X,K,oe;return Ht(this,function(ae){switch(ae.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(r=t.ownerDocument,!r)throw new Error("Element is not attached to a Document");if(n=r.defaultView,!n)throw new Error("Document is not attached to a Window");return A={allowTaint:(x=e.allowTaint)!==null&&x!==void 0?x:!1,imageTimeout:(I=e.imageTimeout)!==null&&I!==void 0?I:15e3,proxy:e.proxy,useCORS:(b=e.useCORS)!==null&&b!==void 0?b:!1},s=wm({logging:(S=e.logging)!==null&&S!==void 0?S:!0,cache:e.cache},A),i={windowWidth:(R=e.windowWidth)!==null&&R!==void 0?R:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(J=e.scrollX)!==null&&J!==void 0?J:n.pageXOffset,scrollY:(te=e.scrollY)!==null&&te!==void 0?te:n.pageYOffset},a=new Jn(i.scrollX,i.scrollY,i.windowWidth,i.windowHeight),l=new mV(s,a),u=(ee=e.foreignObjectRendering)!==null&&ee!==void 0?ee:!1,d={allowTaint:(ne=e.allowTaint)!==null&&ne!==void 0?ne:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:u,copyStyles:u},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),h=new Lx(l,t,d),f=h.clonedReferenceElement,f?[4,h.toIFrame(r,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=ae.sent(),v=X0(f)||y3(f)?qD(f.ownerDocument):eh(l,f),_=v.width,Q=v.height,B=v.left,m=v.top,y=yV(l,f,e.backgroundColor),C={canvas:e.canvas,backgroundColor:y,scale:(M=(L=e.scale)!==null&&L!==void 0?L:n.devicePixelRatio)!==null&&M!==void 0?M:1,x:((V=e.x)!==null&&V!==void 0?V:0)+B,y:((q=e.y)!==null&&q!==void 0?q:0)+m,width:(X=e.width)!==null&&X!==void 0?X:Math.ceil(_),height:(K=e.height)!==null&&K!==void 0?K:Math.ceil(Q)},u?(l.logger.debug("Document cloned, using foreign object rendering"),E=new hV(l,C),[4,E.render(f)]):[3,3];case 2:return F=ae.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+B+","+m+" with size "+_+"x"+Q+" using computed rendering"),l.logger.debug("Starting DOM parsing"),T=K1(l,f),y===T.styles.backgroundColor&&(T.styles.backgroundColor=Ln.TRANSPARENT),l.logger.debug("Starting renderer for element at "+C.x+","+C.y+" with size "+C.width+"x"+C.height),E=new oV(l,C),[4,E.render(T)];case 4:F=ae.sent(),ae.label=5;case 5:return(!((oe=e.removeContainer)!==null&&oe!==void 0)||oe)&&(Lx.destroy(w)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,F]}})})},yV=function(t,e,r){var n=e.ownerDocument,A=n.documentElement?ua(t,getComputedStyle(n.documentElement).backgroundColor):Ln.TRANSPARENT,s=n.body?ua(t,getComputedStyle(n.body).backgroundColor):Ln.TRANSPARENT,i=typeof r=="string"?ua(t,r):r===null?Ln.TRANSPARENT:4294967295;return e===n.documentElement?kA(A)?kA(s)?i:s:A:i};const BV=({booking:t,onClose:e,isModal:r=!0})=>{const{id:n}=Ed(),A=rn(),[s,i]=k.useState(t),[a,l]=k.useState(!t),[u,d]=k.useState(""),[h,f]=k.useState("");k.useEffect(()=>{!t&&n&&w()},[n,t]),k.useEffect(()=>{s&&v()},[s]);const w=async()=>{var F;if(n)try{l(!0);const T=await ar(ve(se,"bookings",n));if(T.exists()){const E=T.data(),x=await ar(ve(se,"cards",E.cardId));let I={};x.exists()&&(I=x.data());const b=await ar(ve(se,"users",E.userId));let S="user@example.com";b.exists()&&(S=b.data().email||S);const R=E.joinedSlots||E.originalBookingId;let N=0,J=[],te=0;if(R){const ne=E.joinedSlots||1;if(te=E.perSlotPrice||0,!te&&E.originalBookingId)try{const L=await ar(ve(se,"bookings",E.originalBookingId));L.exists()&&(te=L.data().perSlotPrice||0)}catch(L){console.error("Error fetching original booking:",L)}N=ne*te,J=[E.timeSlot]}else N=I.pricePerHour||0,J=[E.timeSlot],te=E.perSlotPrice||0;const ee={id:T.id,cardTitle:I.title||"Unknown Card",cardType:I.type||"Unknown Type",date:E.date,timeSlots:J,pricePerHour:I.pricePerHour||0,totalAmount:N,openSlots:E.openSlots||0,perSlotPrice:te,joinedSlots:E.joinedSlots||0,originalBookingId:E.originalBookingId||"",userEmail:S,bookingTime:((F=E.bookingTime)==null?void 0:F.toDate())||new Date,location:I.location||""};i(ee)}}catch(T){console.error("Error fetching booking:",T)}finally{l(!1)}},v=async()=>{if(s)try{const F=document.createElement("div");F.style.position="absolute",F.style.left="-9999px",F.style.width="400px",F.style.padding="20px",F.style.backgroundColor="white",F.style.fontFamily="Arial, sans-serif";const T=s.joinedSlots&&s.joinedSlots>0,E=s.openSlots&&s.openSlots>0&&!T;F.innerHTML=`
        <div style="text-align: center; margin-bottom: 20px;">
          <h2 style="color: #059669; margin: 0;">Booking Confirmed!</h2>
          <p style="color: #6b7280; margin: 5px 0;">TURFION</p>
        </div>
        
        <div style="border: 2px solid #e5e7eb; border-radius: 8px; padding: 15px; margin-bottom: 20px;">
          <h3 style="margin: 0 0 10px 0; color: #1f2937;">${s.cardTitle}</h3>
          <p style="margin: 5px 0; color: #6b7280;"><strong>Type:</strong> ${s.cardType}</p>
          <p style="margin: 5px 0; color: #6b7280;"><strong>Date:</strong> ${_(s.date)}</p>
          <p style="margin: 5px 0; color: #6b7280;"><strong>Time:</strong> ${s.timeSlots.join(", ")}</p>
          ${s.location?`<p style="margin: 5px 0; color: #6b7280;"><strong>Location:</strong> ${s.location}</p>`:""}
          ${T?`<p style="margin: 5px 0; color: #059669;"><strong>Slots Joined:</strong> ${s.joinedSlots}</p>`:""}
          ${E?`<p style="margin: 5px 0; color: #059669;"><strong>Open Slots Created:</strong> ${s.openSlots} @ ₹${s.perSlotPrice}/slot</p>`:""}
        </div>
        
        <div style="border-top: 1px solid #e5e7eb; padding-top: 15px;">
          <p style="margin: 5px 0; color: #6b7280;"><strong>Total Amount:</strong> <span style="color: #059669; font-size: 18px;">₹${s.totalAmount}</span></p>
          <p style="margin: 5px 0; color: #6b7280; font-size: 12px;">Booking ID: ${s.id.slice(-8).toUpperCase()}</p>
          <p style="margin: 5px 0; color: #6b7280; font-size: 12px;">Booked by: ${s.userEmail}</p>
          <p style="margin: 5px 0; color: #6b7280; font-size: 12px;">Booked: ${Q(s.bookingTime)}</p>
        </div>
        
        <div style="text-align: center; margin-top: 20px; padding: 10px; background-color: #f3f4f6; border-radius: 8px;">
          <p style="margin: 0; font-size: 12px; color: #6b7280;">Show this receipt at the venue</p>
        </div>
      `,document.body.appendChild(F);const x=await pV(F,{backgroundColor:"#ffffff",scale:2});document.body.removeChild(F),x.toBlob(async I=>{if(I)try{const b=yD(bD,`receipts/${s.id}.png`);await pD(b,I);const S=await wD(b);f(S);const R=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(S)}`;d(R)}catch(b){console.error("Error uploading receipt image:",b);const S=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(`${window.location.origin}/receipt/${s.id}`)}`;d(S)}},"image/png")}catch(F){console.error("Error generating receipt image:",F);const T=`https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=${encodeURIComponent(`${window.location.origin}/receipt/${s.id}`)}`;d(T)}},_=F=>new Date(F).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),Q=F=>F.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}),B=()=>{if(h){const F=document.createElement("a");F.href=h,F.download=`booking-receipt-${s==null?void 0:s.id}.png`,F.click()}else window.print()},m=async()=>{const F=h||`${window.location.origin}/receipt/${s==null?void 0:s.id}`;if(navigator.share)try{await navigator.share({title:"Booking Confirmation",text:`Booking confirmed for ${s==null?void 0:s.cardTitle} on ${_((s==null?void 0:s.date)||"")}`,url:F})}catch(T){console.log("Error sharing:",T)}else navigator.clipboard.writeText(F),alert("Booking receipt link copied to clipboard!")};if(a)return o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});if(!s)return o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"text-center",children:[o.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Booking Not Found"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"The booking receipt you're looking for could not be found."}),o.jsxs("button",{onClick:()=>A("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Return Home"]})]})});const y=s.joinedSlots&&s.joinedSlots>0,C=()=>{var F;return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(qr,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Payment Successful"}),o.jsx("p",{className:"text-gray-600",children:"Your booking has been confirmed"})]}),u&&o.jsxs("div",{className:"text-center bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center justify-center mb-2",children:[o.jsx(gm,{className:"w-5 h-5 text-gray-600 mr-2"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Booking QR Code"})]}),o.jsx("img",{src:u,alt:"Booking QR Code",className:"mx-auto mb-2 border border-gray-200 rounded"}),o.jsx("p",{className:"text-xs text-gray-500",children:"Scan this QR code to view receipt image"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Details"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(yn,{className:"w-4 h-4 text-gray-400 mr-3"}),o.jsxs("div",{children:[o.jsx("p",{className:"font-medium text-gray-900",children:s.cardTitle}),o.jsx("p",{className:"text-sm text-gray-600",children:s.cardType}),s.location&&o.jsx("p",{className:"text-sm text-gray-500",children:s.location})]})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(qr,{className:"w-4 h-4 text-gray-400 mr-3"}),o.jsx("div",{children:o.jsx("p",{className:"font-medium text-gray-900",children:_(s.date)})})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 text-gray-400 mr-3"}),o.jsx("div",{children:((F=s.timeSlots)==null?void 0:F.filter(Boolean).length)>0&&o.jsx("p",{className:"font-medium text-gray-900",children:s.timeSlots.filter(Boolean).join(", ")})})]}),Number(s.joinedSlots)>0&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded-full mr-3"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[Number(s.joinedSlots)," Slots Joined"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Joined existing game"})]})]}),Number(s.openSlots)>0&&Number(s.joinedSlots)===0&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-4 h-4 bg-green-500 rounded-full mr-3"}),o.jsxs("div",{children:[o.jsxs("p",{className:"font-medium text-gray-900",children:[s.openSlots," Open Slots Created"]}),o.jsx("p",{className:"text-sm text-gray-600",children:"Available for other players"}),s.perSlotPrice&&s.perSlotPrice>0&&o.jsxs("p",{className:"text-sm text-green-600",children:["₹",s.perSlotPrice," per slot"]})]})]})]})]}),o.jsxs("div",{className:"border-b border-gray-200 pb-4",children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Payment Summary"}),o.jsxs("div",{className:"space-y-2",children:[y?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Slots joined"}),o.jsx("span",{className:"text-gray-900",children:s.joinedSlots})]}),s.perSlotPrice&&s.perSlotPrice>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Price per slot"}),o.jsxs("span",{className:"text-gray-900",children:["₹",s.perSlotPrice]})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Price per hour"}),o.jsxs("span",{className:"text-gray-900",children:["₹",s.pricePerHour]})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Number of time slots booked"}),o.jsx("span",{className:"text-gray-900",children:s.timeSlots.length})]}),s.openSlots&&s.openSlots>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Open slots created"}),o.jsx("span",{className:"text-gray-900",children:s.openSlots})]}),s.openSlots&&s.openSlots>0&&s.perSlotPrice&&s.perSlotPrice>0&&o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Open slots revenue potential"}),o.jsxs("span",{className:"text-green-600",children:["₹",s.openSlots*s.perSlotPrice]})]})]}),o.jsxs("div",{className:"flex justify-between font-semibold text-lg border-t border-gray-200 pt-2",children:[o.jsx("span",{className:"text-gray-900",children:"Total Amount"}),o.jsxs("span",{className:"text-green-600",children:["₹",s.totalAmount]})]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Booking Information"}),o.jsxs("div",{className:"space-y-2 text-sm",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Booking ID"}),o.jsx("span",{className:"text-gray-900 font-mono",children:s.id.slice(-8).toUpperCase()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Booked by"}),o.jsx("span",{className:"text-gray-900",children:s.userEmail})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Booking time"}),o.jsx("span",{className:"text-gray-900",children:Q(s.bookingTime)})]})]})]})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("button",{onClick:B,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium flex items-center justify-center",children:[o.jsx(SD,{className:"w-5 h-5 mr-2"}),"Download Receipt"]}),o.jsxs("button",{onClick:m,className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium flex items-center justify-center",children:[o.jsx(LD,{className:"w-5 h-5 mr-2"}),"Share Booking"]})]}),o.jsxs("div",{className:"text-center text-xs text-gray-500 bg-gray-50 rounded-lg p-3",children:[o.jsx("p",{children:"Please save this receipt for your records."}),o.jsx("p",{children:"Show the QR code at the venue for verification."})]})]})};return r?o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-2xl font-bold text-green-600",children:"Booking Confirmed!"}),o.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(et,{className:"w-5 h-5 text-gray-500"})})]}),o.jsx("div",{className:"p-6",children:o.jsx(C,{})})]})}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("button",{onClick:()=>A("/"),className:"mb-6 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200 font-medium",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to home"]}),o.jsxs("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-lg",children:[o.jsx("div",{className:"p-6 border-b border-gray-200 text-center",children:o.jsx("h1",{className:"text-2xl font-bold text-green-600",children:"Booking Receipt"})}),o.jsx("div",{className:"p-6",children:o.jsx(C,{})})]})]})},vV=()=>{const{user:t,userProfile:e}=xt(),r=rn(),[n,A]=k.useState(!1),[s,i]=k.useState({displayName:"",phoneNumber:"",photoURL:"",mfaEnabled:!1}),[a,l]=k.useState({displayName:"",phoneNumber:"",photoURL:"",mfaEnabled:!1}),[u,d]=k.useState(!0),[h,f]=k.useState(!1),[w,v]=k.useState(""),[_,Q]=k.useState(""),[B,m]=k.useState(!1),[y,C]=k.useState(""),[F,T]=k.useState(null),[E,x]=k.useState(!1);k.useEffect(()=>{(async()=>{if(t)try{const oe=await ar(ve(se,"users",t.uid));if(oe.exists()){const ae=oe.data(),z={displayName:ae.displayName||"",phoneNumber:ae.phoneNumber||"",photoURL:ae.photoURL||"",mfaEnabled:ae.mfaEnabled||!1,mfaSecret:ae.mfaSecret||""};i(z),l(z)}}catch(oe){console.error("Error fetching profile:",oe),v("Failed to load profile data")}finally{d(!1)}})()},[t]);const I=(K,oe)=>{const ae=Math.floor(Date.now()/3e4);for(let z=-1;z<=1;z++){const Z=ae+z;if(b(K,Z)===oe)return!0}return!1},b=(K,oe)=>{const ae=S(K),z=Math.floor(oe),Z=new ArrayBuffer(8);new DataView(Z).setUint32(4,z,!1);const j=R(ae,new Uint8Array(Z)),W=j[j.length-1]&15;return(((j[W]&127)<<24|(j[W+1]&255)<<16|(j[W+2]&255)<<8|j[W+3]&255)%1e6).toString().padStart(6,"0")},S=K=>{const oe="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let ae=0,z=0,Z=[];for(let H=0;H<K.length;H++){const j=K[H];if(j==="=")break;const W=oe.indexOf(j.toUpperCase());W!==-1&&(z=z<<5|W,ae+=5,ae>=8&&(Z.push(z>>>ae-8&255),ae-=8))}return new Uint8Array(Z)},R=(K,oe)=>{const ae=new Uint8Array(20);for(let z=0;z<20;z++)ae[z]=(K[z%K.length]^oe[z%oe.length])&255;return ae},N=()=>{A(!0),v(""),Q(""),x(!1)},J=()=>{A(!1),l(s),v(""),Q(""),x(!1)},te=async()=>{if(t){if(a.photoURL&&a.photoURL.trim())try{if(!new URL(a.photoURL.trim()).protocol.startsWith("http")){v("Please enter a valid image URL (must start with http:// or https://)");return}}catch{v("Please enter a valid image URL");return}if(s.mfaEnabled&&s.mfaSecret){T(a),m(!0);return}await ee(a)}},ee=async K=>{f(!0),v(""),Q("");try{await Gt(ve(se,"users",t.uid),{displayName:K.displayName||"",phoneNumber:K.phoneNumber||"",photoURL:K.photoURL||"",updatedAt:new Date}),i(K),A(!1),x(!1),Q("Profile updated successfully!")}catch(oe){console.error("Error updating profile:",oe),v("Failed to update profile. Please try again.")}finally{f(!1)}},ne=async()=>{if(!y||y.length!==6){v("Please enter a valid 6-digit MFA code");return}if(!s.mfaSecret||!I(s.mfaSecret,y)){v("Invalid MFA code. Please try again.");return}F&&(await ee(F),T(null),m(!1),C(""))},L=(K,oe)=>{l(ae=>({...ae,[K]:oe})),K==="photoURL"&&x(!1)},M=()=>{r("/mfa-settings")},V=()=>{r("/dashboard"),setTimeout(()=>{const K=new CustomEvent("setDashboardTab",{detail:"mfa-reset"});window.dispatchEvent(K)},100)},q=()=>{x(!0)},X=()=>{x(!1)};return t?u?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl p-6 sm:p-8 mb-8",children:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-4 sm:space-y-0 sm:space-x-6",children:[o.jsx("div",{className:"relative",children:o.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full overflow-hidden border-4 border-white/20",children:s.photoURL&&!E?o.jsx("img",{src:s.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:q,onLoad:X}):o.jsx("div",{className:"w-full h-full bg-white/20 flex items-center justify-center",children:o.jsx(Ei,{className:"w-10 h-10 sm:w-12 sm:h-12 text-white"})})})}),o.jsxs("div",{className:"text-center sm:text-left",children:[o.jsx("h1",{className:"text-2xl sm:text-3xl font-bold",children:"Welcome back!"}),o.jsx("p",{className:"text-blue-100 text-lg",children:s.displayName||t.email})]})]})}),_&&o.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:_}),w&&o.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:w}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[o.jsx("div",{className:"lg:col-span-2",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 sm:p-8",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Profile Information"}),n?o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-2",children:[o.jsxs("button",{onClick:te,disabled:h,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 disabled:opacity-50",children:[o.jsx(V0,{className:"w-4 h-4"}),o.jsx("span",{children:h?"Saving...":"Save"})]}),o.jsxs("button",{onClick:J,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200",children:[o.jsx(et,{className:"w-4 h-4"}),o.jsx("span",{children:"Cancel"})]})]}):o.jsxs("button",{onClick:N,className:"flex items-center justify-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[o.jsx(K0,{className:"w-4 h-4"}),o.jsx("span",{children:"Edit"})]})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(XI,{className:"w-6 h-6 text-blue-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Email Address"}),o.jsx("p",{className:"text-gray-600 break-all",children:t.email})]})]}),o.jsxs("div",{className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(QD,{className:"w-6 h-6 text-purple-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Profile Picture"}),n?o.jsxs("div",{className:"space-y-3",children:[o.jsx("input",{type:"url",value:a.photoURL||"",onChange:K=>L("photoURL",K.target.value),placeholder:"Enter image URL (e.g., https://example.com/image.jpg)",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.photoURL&&o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border border-gray-200",children:E?o.jsx("div",{className:"w-full h-full bg-gray-100 flex items-center justify-center",children:o.jsx(ml,{className:"w-6 h-6 text-gray-400"})}):o.jsx("img",{src:a.photoURL,alt:"Preview",className:"w-full h-full object-cover",onError:q,onLoad:X})}),o.jsx("div",{className:"text-sm",children:E?o.jsx("span",{className:"text-red-600",children:"Invalid image URL"}):o.jsx("span",{className:"text-green-600",children:"Preview"})})]}),o.jsx("p",{className:"text-xs text-gray-500",children:"Enter a direct link to an image (JPG, PNG, GIF). The image should be publicly accessible."})]}):o.jsxs("div",{className:"flex items-center space-x-3",children:[s.photoURL&&!E?o.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden border border-gray-200",children:o.jsx("img",{src:s.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:q})}):o.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-lg flex items-center justify-center border border-gray-200",children:o.jsx(Ei,{className:"w-8 h-8 text-gray-400"})}),o.jsx("p",{className:"text-gray-600",children:s.photoURL?"Custom image set":"No image set"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx(Ei,{className:"w-6 h-6 text-green-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Display Name"}),n?o.jsx("input",{type:"text",value:a.displayName||"",onChange:K=>L("displayName",K.target.value),placeholder:"Enter your display name",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-gray-600",children:s.displayName||"Not set"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center",children:o.jsx(PD,{className:"w-6 h-6 text-yellow-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Phone Number"}),n?o.jsx("input",{type:"tel",value:a.phoneNumber||"",onChange:K=>L("phoneNumber",K.target.value),placeholder:"Enter your phone number",className:"w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}):o.jsx("p",{className:"text-gray-600",children:s.phoneNumber||"Not set"})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[o.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:o.jsx(Dr,{className:"w-6 h-6 text-orange-600"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-gray-900",children:"Multi-Factor Authentication"}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:"Add an extra layer of security to your account"}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${s.mfaEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.mfaEnabled?"Enabled":"Disabled"}),o.jsxs("button",{onClick:M,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm",children:[o.jsx(YI,{className:"w-4 h-4"}),o.jsx("span",{children:"Manage MFA"})]}),s.mfaEnabled&&o.jsxs("button",{onClick:V,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 text-sm",children:[o.jsx(OA,{className:"w-4 h-4"}),o.jsx("span",{children:"Request Reset"})]})]})]})]})]})]})}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Security"}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Email Verified"}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${t.emailVerified?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:t.emailVerified?"Verified":"Pending"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"MFA Status"}),o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${s.mfaEnabled?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:s.mfaEnabled?"Enabled":"Disabled"})]})]})]}),s.mfaEnabled&&o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(OA,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-yellow-800",children:"MFA Issues?"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1 mb-3",children:"If you've lost access to your authenticator app or device, you can request an MFA reset from administrators."}),o.jsx("button",{onClick:V,className:"text-sm bg-yellow-600 text-white px-3 py-1 rounded hover:bg-yellow-700 transition-colors duration-200",children:"Request MFA Reset"})]})]})})]})]})]}),B&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Verify Changes"}),o.jsx("button",{onClick:()=>{m(!1),C(""),T(null)},className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(et,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Dr,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"MFA Verification Required"}),o.jsx("p",{className:"text-gray-600",children:"Enter your MFA code to confirm profile changes"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter 6-digit code from Google Authenticator"}),o.jsx("input",{type:"text",placeholder:"000000",maxLength:6,value:y,onChange:K=>C(K.target.value.replace(/\D/g,"")),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-lg font-mono"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:ne,disabled:h,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium disabled:opacity-50",children:h?"Verifying...":"Verify & Save Changes"}),o.jsx("button",{onClick:()=>{m(!1),C(""),T(null)},className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"})]})]})]})})]}):o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"text-center",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Please log in to view your profile"})})})};var yl={},xV=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},sU={},Ur={};let Y0;const CV=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ur.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};Ur.getSymbolTotalCodewords=function(e){return CV[e]};Ur.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};Ur.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');Y0=e};Ur.isKanjiModeEnabled=function(){return typeof Y0<"u"};Ur.toSJIS=function(e){return Y0(e)};var ch={};(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,A){if(t.isValid(n))return n;try{return e(n)}catch{return A}}})(ch);function iU(){this.buffer=[],this.length=0}iU.prototype={get:function(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let r=0;r<e;r++)this.putBit((t>>>e-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};var EV=iU;function Bl(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Bl.prototype.set=function(t,e,r,n){const A=t*this.size+e;this.data[A]=r,n&&(this.reservedBit[A]=!0)};Bl.prototype.get=function(t,e){return this.data[t*this.size+e]};Bl.prototype.xor=function(t,e,r){this.data[t*this.size+e]^=r};Bl.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};var bV=Bl,oU={};(function(t){const e=Ur.getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const A=Math.floor(n/7)+2,s=e(n),i=s===145?26:Math.ceil((s-13)/(2*A-2))*2,a=[s-7];for(let l=1;l<A-1;l++)a[l]=a[l-1]-i;return a.push(6),a.reverse()},t.getPositions=function(n){const A=[],s=t.getRowColCoords(n),i=s.length;for(let a=0;a<i;a++)for(let l=0;l<i;l++)a===0&&l===0||a===0&&l===i-1||a===i-1&&l===0||A.push([s[a],s[l]]);return A}})(oU);var aU={};const _V=Ur.getSymbolSize,Kx=7;aU.getPositions=function(e){const r=_V(e);return[[0,0],[r-Kx,0],[0,r-Kx]]};var lU={};(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(A){return A!=null&&A!==""&&!isNaN(A)&&A>=0&&A<=7},t.from=function(A){return t.isValid(A)?parseInt(A,10):void 0},t.getPenaltyN1=function(A){const s=A.size;let i=0,a=0,l=0,u=null,d=null;for(let h=0;h<s;h++){a=l=0,u=d=null;for(let f=0;f<s;f++){let w=A.get(h,f);w===u?a++:(a>=5&&(i+=e.N1+(a-5)),u=w,a=1),w=A.get(f,h),w===d?l++:(l>=5&&(i+=e.N1+(l-5)),d=w,l=1)}a>=5&&(i+=e.N1+(a-5)),l>=5&&(i+=e.N1+(l-5))}return i},t.getPenaltyN2=function(A){const s=A.size;let i=0;for(let a=0;a<s-1;a++)for(let l=0;l<s-1;l++){const u=A.get(a,l)+A.get(a,l+1)+A.get(a+1,l)+A.get(a+1,l+1);(u===4||u===0)&&i++}return i*e.N2},t.getPenaltyN3=function(A){const s=A.size;let i=0,a=0,l=0;for(let u=0;u<s;u++){a=l=0;for(let d=0;d<s;d++)a=a<<1&2047|A.get(u,d),d>=10&&(a===1488||a===93)&&i++,l=l<<1&2047|A.get(d,u),d>=10&&(l===1488||l===93)&&i++}return i*e.N3},t.getPenaltyN4=function(A){let s=0;const i=A.data.length;for(let l=0;l<i;l++)s+=A.data[l];return Math.abs(Math.ceil(s*100/i/5)-10)*e.N4};function r(n,A,s){switch(n){case t.Patterns.PATTERN000:return(A+s)%2===0;case t.Patterns.PATTERN001:return A%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(A+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(A/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return A*s%2+A*s%3===0;case t.Patterns.PATTERN110:return(A*s%2+A*s%3)%2===0;case t.Patterns.PATTERN111:return(A*s%3+(A+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(A,s){const i=s.size;for(let a=0;a<i;a++)for(let l=0;l<i;l++)s.isReserved(l,a)||s.xor(l,a,r(A,l,a))},t.getBestMask=function(A,s){const i=Object.keys(t.Patterns).length;let a=0,l=1/0;for(let u=0;u<i;u++){s(u),t.applyMask(u,A);const d=t.getPenaltyN1(A)+t.getPenaltyN2(A)+t.getPenaltyN3(A)+t.getPenaltyN4(A);t.applyMask(u,A),d<l&&(l=d,a=u)}return a}})(lU);var uh={};const xA=ch,Qc=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Tc=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];uh.getBlocksCount=function(e,r){switch(r){case xA.L:return Qc[(e-1)*4+0];case xA.M:return Qc[(e-1)*4+1];case xA.Q:return Qc[(e-1)*4+2];case xA.H:return Qc[(e-1)*4+3];default:return}};uh.getTotalCodewordsCount=function(e,r){switch(r){case xA.L:return Tc[(e-1)*4+0];case xA.M:return Tc[(e-1)*4+1];case xA.Q:return Tc[(e-1)*4+2];case xA.H:return Tc[(e-1)*4+3];default:return}};var cU={},dh={};const ga=new Uint8Array(512),nd=new Uint8Array(256);(function(){let e=1;for(let r=0;r<255;r++)ga[r]=e,nd[e]=r,e<<=1,e&256&&(e^=285);for(let r=255;r<512;r++)ga[r]=ga[r-255]})();dh.log=function(e){if(e<1)throw new Error("log("+e+")");return nd[e]};dh.exp=function(e){return ga[e]};dh.mul=function(e,r){return e===0||r===0?0:ga[nd[e]+nd[r]]};(function(t){const e=dh;t.mul=function(n,A){const s=new Uint8Array(n.length+A.length-1);for(let i=0;i<n.length;i++)for(let a=0;a<A.length;a++)s[i+a]^=e.mul(n[i],A[a]);return s},t.mod=function(n,A){let s=new Uint8Array(n);for(;s.length-A.length>=0;){const i=s[0];for(let l=0;l<A.length;l++)s[l]^=e.mul(A[l],i);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let A=new Uint8Array([1]);for(let s=0;s<n;s++)A=t.mul(A,new Uint8Array([1,e.exp(s)]));return A}})(cU);const uU=cU;function Z0(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}Z0.prototype.initialize=function(e){this.degree=e,this.genPoly=uU.generateECPolynomial(this.degree)};Z0.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(e.length+this.degree);r.set(e);const n=uU.mod(r,this.genPoly),A=this.degree-n.length;if(A>0){const s=new Uint8Array(this.degree);return s.set(n,A),s}return n};var IV=Z0,dU={},XA={},ew={};ew.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40};var Cn={};const hU="[0-9]+",UV="[A-Z $%*+\\-./:]+";let Ja="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ja=Ja.replace(/u/g,"\\u");const FV="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ja+`)(?:.|[\r
]))+`;Cn.KANJI=new RegExp(Ja,"g");Cn.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Cn.BYTE=new RegExp(FV,"g");Cn.NUMERIC=new RegExp(hU,"g");Cn.ALPHANUMERIC=new RegExp(UV,"g");const QV=new RegExp("^"+Ja+"$"),TV=new RegExp("^"+hU+"$"),NV=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Cn.testKanji=function(e){return QV.test(e)};Cn.testNumeric=function(e){return TV.test(e)};Cn.testAlphanumeric=function(e){return NV.test(e)};(function(t){const e=ew,r=Cn;t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,i){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(i))throw new Error("Invalid version: "+i);return i>=1&&i<10?s.ccBits[0]:i<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(A){if(typeof A!="string")throw new Error("Param is not a string");switch(A.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+A)}}t.from=function(s,i){if(t.isValid(s))return s;try{return n(s)}catch{return i}}})(XA);(function(t){const e=Ur,r=uh,n=ch,A=XA,s=ew,i=7973,a=e.getBCHDigit(i);function l(f,w,v){for(let _=1;_<=40;_++)if(w<=t.getCapacity(_,v,f))return _}function u(f,w){return A.getCharCountIndicator(f,w)+4}function d(f,w){let v=0;return f.forEach(function(_){const Q=u(_.mode,w);v+=Q+_.getBitsLength()}),v}function h(f,w){for(let v=1;v<=40;v++)if(d(f,v)<=t.getCapacity(v,w,A.MIXED))return v}t.from=function(w,v){return s.isValid(w)?parseInt(w,10):v},t.getCapacity=function(w,v,_){if(!s.isValid(w))throw new Error("Invalid QR Code version");typeof _>"u"&&(_=A.BYTE);const Q=e.getSymbolTotalCodewords(w),B=r.getTotalCodewordsCount(w,v),m=(Q-B)*8;if(_===A.MIXED)return m;const y=m-u(_,w);switch(_){case A.NUMERIC:return Math.floor(y/10*3);case A.ALPHANUMERIC:return Math.floor(y/11*2);case A.KANJI:return Math.floor(y/13);case A.BYTE:default:return Math.floor(y/8)}},t.getBestVersionForData=function(w,v){let _;const Q=n.from(v,n.M);if(Array.isArray(w)){if(w.length>1)return h(w,Q);if(w.length===0)return 1;_=w[0]}else _=w;return l(_.mode,_.getLength(),Q)},t.getEncodedBits=function(w){if(!s.isValid(w)||w<7)throw new Error("Invalid QR Code version");let v=w<<12;for(;e.getBCHDigit(v)-a>=0;)v^=i<<e.getBCHDigit(v)-a;return w<<12|v}})(dU);var fU={};const Hm=Ur,gU=1335,SV=21522,Gx=Hm.getBCHDigit(gU);fU.getEncodedBits=function(e,r){const n=e.bit<<3|r;let A=n<<10;for(;Hm.getBCHDigit(A)-Gx>=0;)A^=gU<<Hm.getBCHDigit(A)-Gx;return(n<<10|A)^SV};var mU={};const RV=XA;function Mi(t){this.mode=RV.NUMERIC,this.data=t.toString()}Mi.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};Mi.prototype.getLength=function(){return this.data.length};Mi.prototype.getBitsLength=function(){return Mi.getBitsLength(this.data.length)};Mi.prototype.write=function(e){let r,n,A;for(r=0;r+3<=this.data.length;r+=3)n=this.data.substr(r,3),A=parseInt(n,10),e.put(A,10);const s=this.data.length-r;s>0&&(n=this.data.substr(r),A=parseInt(n,10),e.put(A,s*3+1))};var kV=Mi;const jV=XA,Mf=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Oi(t){this.mode=jV.ALPHANUMERIC,this.data=t}Oi.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};Oi.prototype.getLength=function(){return this.data.length};Oi.prototype.getBitsLength=function(){return Oi.getBitsLength(this.data.length)};Oi.prototype.write=function(e){let r;for(r=0;r+2<=this.data.length;r+=2){let n=Mf.indexOf(this.data[r])*45;n+=Mf.indexOf(this.data[r+1]),e.put(n,11)}this.data.length%2&&e.put(Mf.indexOf(this.data[r]),6)};var PV=Oi;const DV=XA;function Vi(t){this.mode=DV.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}Vi.getBitsLength=function(e){return e*8};Vi.prototype.getLength=function(){return this.data.length};Vi.prototype.getBitsLength=function(){return Vi.getBitsLength(this.data.length)};Vi.prototype.write=function(t){for(let e=0,r=this.data.length;e<r;e++)t.put(this.data[e],8)};var LV=Vi;const HV=XA,MV=Ur;function Ki(t){this.mode=HV.KANJI,this.data=t}Ki.getBitsLength=function(e){return e*13};Ki.prototype.getLength=function(){return this.data.length};Ki.prototype.getBitsLength=function(){return Ki.getBitsLength(this.data.length)};Ki.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let r=MV.toSJIS(this.data[e]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),t.put(r,13)}};var OV=Ki,pU={exports:{}};(function(t){var e={single_source_shortest_paths:function(r,n,A){var s={},i={};i[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var l,u,d,h,f,w,v,_,Q;!a.empty();){l=a.pop(),u=l.value,h=l.cost,f=r[u]||{};for(d in f)f.hasOwnProperty(d)&&(w=f[d],v=h+w,_=i[d],Q=typeof i[d]>"u",(Q||_>v)&&(i[d]=v,a.push(d,v),s[d]=u))}if(typeof A<"u"&&typeof i[A]>"u"){var B=["Could not find a path from ",n," to ",A,"."].join("");throw new Error(B)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var A=[],s=n;s;)A.push(s),r[s],s=r[s];return A.reverse(),A},find_path:function(r,n,A){var s=e.single_source_shortest_paths(r,n,A);return e.extract_shortest_path_from_predecessor_list(s,A)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,A={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(A[s]=n[s]);return A.queue=[],A.sorter=r.sorter||n.default_sorter,A},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var A={value:r,cost:n};this.queue.push(A),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(pU);var VV=pU.exports;(function(t){const e=XA,r=kV,n=PV,A=LV,s=OV,i=Cn,a=Ur,l=VV;function u(B){return unescape(encodeURIComponent(B)).length}function d(B,m,y){const C=[];let F;for(;(F=B.exec(y))!==null;)C.push({data:F[0],index:F.index,mode:m,length:F[0].length});return C}function h(B){const m=d(i.NUMERIC,e.NUMERIC,B),y=d(i.ALPHANUMERIC,e.ALPHANUMERIC,B);let C,F;return a.isKanjiModeEnabled()?(C=d(i.BYTE,e.BYTE,B),F=d(i.KANJI,e.KANJI,B)):(C=d(i.BYTE_KANJI,e.BYTE,B),F=[]),m.concat(y,C,F).sort(function(E,x){return E.index-x.index}).map(function(E){return{data:E.data,mode:E.mode,length:E.length}})}function f(B,m){switch(m){case e.NUMERIC:return r.getBitsLength(B);case e.ALPHANUMERIC:return n.getBitsLength(B);case e.KANJI:return s.getBitsLength(B);case e.BYTE:return A.getBitsLength(B)}}function w(B){return B.reduce(function(m,y){const C=m.length-1>=0?m[m.length-1]:null;return C&&C.mode===y.mode?(m[m.length-1].data+=y.data,m):(m.push(y),m)},[])}function v(B){const m=[];for(let y=0;y<B.length;y++){const C=B[y];switch(C.mode){case e.NUMERIC:m.push([C,{data:C.data,mode:e.ALPHANUMERIC,length:C.length},{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.ALPHANUMERIC:m.push([C,{data:C.data,mode:e.BYTE,length:C.length}]);break;case e.KANJI:m.push([C,{data:C.data,mode:e.BYTE,length:u(C.data)}]);break;case e.BYTE:m.push([{data:C.data,mode:e.BYTE,length:u(C.data)}])}}return m}function _(B,m){const y={},C={start:{}};let F=["start"];for(let T=0;T<B.length;T++){const E=B[T],x=[];for(let I=0;I<E.length;I++){const b=E[I],S=""+T+I;x.push(S),y[S]={node:b,lastCount:0},C[S]={};for(let R=0;R<F.length;R++){const N=F[R];y[N]&&y[N].node.mode===b.mode?(C[N][S]=f(y[N].lastCount+b.length,b.mode)-f(y[N].lastCount,b.mode),y[N].lastCount+=b.length):(y[N]&&(y[N].lastCount=b.length),C[N][S]=f(b.length,b.mode)+4+e.getCharCountIndicator(b.mode,m))}}F=x}for(let T=0;T<F.length;T++)C[F[T]].end=0;return{map:C,table:y}}function Q(B,m){let y;const C=e.getBestModeForData(B);if(y=e.from(m,C),y!==e.BYTE&&y.bit<C.bit)throw new Error('"'+B+'" cannot be encoded with mode '+e.toString(y)+`.
 Suggested mode is: `+e.toString(C));switch(y===e.KANJI&&!a.isKanjiModeEnabled()&&(y=e.BYTE),y){case e.NUMERIC:return new r(B);case e.ALPHANUMERIC:return new n(B);case e.KANJI:return new s(B);case e.BYTE:return new A(B)}}t.fromArray=function(m){return m.reduce(function(y,C){return typeof C=="string"?y.push(Q(C,null)):C.data&&y.push(Q(C.data,C.mode)),y},[])},t.fromString=function(m,y){const C=h(m,a.isKanjiModeEnabled()),F=v(C),T=_(F,y),E=l.find_path(T.map,"start","end"),x=[];for(let I=1;I<E.length-1;I++)x.push(T.table[E[I]].node);return t.fromArray(w(x))},t.rawSplit=function(m){return t.fromArray(h(m,a.isKanjiModeEnabled()))}})(mU);const hh=Ur,Of=ch,KV=EV,GV=bV,zV=oU,WV=aU,Mm=lU,Om=uh,$V=IV,Ad=dU,qV=fU,JV=XA,Vf=mU;function XV(t,e){const r=t.size,n=WV.getPositions(e);for(let A=0;A<n.length;A++){const s=n[A][0],i=n[A][1];for(let a=-1;a<=7;a++)if(!(s+a<=-1||r<=s+a))for(let l=-1;l<=7;l++)i+l<=-1||r<=i+l||(a>=0&&a<=6&&(l===0||l===6)||l>=0&&l<=6&&(a===0||a===6)||a>=2&&a<=4&&l>=2&&l<=4?t.set(s+a,i+l,!0,!0):t.set(s+a,i+l,!1,!0))}}function YV(t){const e=t.size;for(let r=8;r<e-8;r++){const n=r%2===0;t.set(r,6,n,!0),t.set(6,r,n,!0)}}function ZV(t,e){const r=zV.getPositions(e);for(let n=0;n<r.length;n++){const A=r[n][0],s=r[n][1];for(let i=-2;i<=2;i++)for(let a=-2;a<=2;a++)i===-2||i===2||a===-2||a===2||i===0&&a===0?t.set(A+i,s+a,!0,!0):t.set(A+i,s+a,!1,!0)}}function e6(t,e){const r=t.size,n=Ad.getEncodedBits(e);let A,s,i;for(let a=0;a<18;a++)A=Math.floor(a/3),s=a%3+r-8-3,i=(n>>a&1)===1,t.set(A,s,i,!0),t.set(s,A,i,!0)}function Kf(t,e,r){const n=t.size,A=qV.getEncodedBits(e,r);let s,i;for(s=0;s<15;s++)i=(A>>s&1)===1,s<6?t.set(s,8,i,!0):s<8?t.set(s+1,8,i,!0):t.set(n-15+s,8,i,!0),s<8?t.set(8,n-s-1,i,!0):s<9?t.set(8,15-s-1+1,i,!0):t.set(8,15-s-1,i,!0);t.set(n-8,8,1,!0)}function t6(t,e){const r=t.size;let n=-1,A=r-1,s=7,i=0;for(let a=r-1;a>0;a-=2)for(a===6&&a--;;){for(let l=0;l<2;l++)if(!t.isReserved(A,a-l)){let u=!1;i<e.length&&(u=(e[i]>>>s&1)===1),t.set(A,a-l,u),s--,s===-1&&(i++,s=7)}if(A+=n,A<0||r<=A){A-=n,n=-n;break}}}function r6(t,e,r){const n=new KV;r.forEach(function(l){n.put(l.mode.bit,4),n.put(l.getLength(),JV.getCharCountIndicator(l.mode,t)),l.write(n)});const A=hh.getSymbolTotalCodewords(t),s=Om.getTotalCodewordsCount(t,e),i=(A-s)*8;for(n.getLengthInBits()+4<=i&&n.put(0,4);n.getLengthInBits()%8!==0;)n.putBit(0);const a=(i-n.getLengthInBits())/8;for(let l=0;l<a;l++)n.put(l%2?17:236,8);return n6(n,t,e)}function n6(t,e,r){const n=hh.getSymbolTotalCodewords(e),A=Om.getTotalCodewordsCount(e,r),s=n-A,i=Om.getBlocksCount(e,r),a=n%i,l=i-a,u=Math.floor(n/i),d=Math.floor(s/i),h=d+1,f=u-d,w=new $V(f);let v=0;const _=new Array(i),Q=new Array(i);let B=0;const m=new Uint8Array(t.buffer);for(let E=0;E<i;E++){const x=E<l?d:h;_[E]=m.slice(v,v+x),Q[E]=w.encode(_[E]),v+=x,B=Math.max(B,x)}const y=new Uint8Array(n);let C=0,F,T;for(F=0;F<B;F++)for(T=0;T<i;T++)F<_[T].length&&(y[C++]=_[T][F]);for(F=0;F<f;F++)for(T=0;T<i;T++)y[C++]=Q[T][F];return y}function A6(t,e,r,n){let A;if(Array.isArray(t))A=Vf.fromArray(t);else if(typeof t=="string"){let u=e;if(!u){const d=Vf.rawSplit(t);u=Ad.getBestVersionForData(d,r)}A=Vf.fromString(t,u||40)}else throw new Error("Invalid data");const s=Ad.getBestVersionForData(A,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=s;else if(e<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const i=r6(e,r,A),a=hh.getSymbolSize(e),l=new GV(a);return XV(l,e),YV(l),ZV(l,e),Kf(l,r,0),e>=7&&e6(l,e),t6(l,i),isNaN(n)&&(n=Mm.getBestMask(l,Kf.bind(null,l,r))),Mm.applyMask(n,l),Kf(l,r,n),{modules:l,version:e,errorCorrectionLevel:r,maskPattern:n,segments:A}}sU.create=function(e,r){if(typeof e>"u"||e==="")throw new Error("No input text");let n=Of.M,A,s;return typeof r<"u"&&(n=Of.from(r.errorCorrectionLevel,Of.M),A=Ad.from(r.version),s=Mm.from(r.maskPattern),r.toSJISFunc&&hh.setToSJISFunction(r.toSJISFunc)),A6(e,A,n,s)};var wU={},tw={};(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const A=parseInt(n.join(""),16);return{r:A>>24&255,g:A>>16&255,b:A>>8&255,a:A&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const A=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,i=n.scale||4;return{width:s,scale:s?4:i,margin:A,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,A){return A.width&&A.width>=n+A.margin*2?A.width/(n+A.margin*2):A.scale},t.getImageWidth=function(n,A){const s=t.getScale(n,A);return Math.floor((n+A.margin*2)*s)},t.qrToImageData=function(n,A,s){const i=A.modules.size,a=A.modules.data,l=t.getScale(i,s),u=Math.floor((i+s.margin*2)*l),d=s.margin*l,h=[s.color.light,s.color.dark];for(let f=0;f<u;f++)for(let w=0;w<u;w++){let v=(f*u+w)*4,_=s.color.light;if(f>=d&&w>=d&&f<u-d&&w<u-d){const Q=Math.floor((f-d)/l),B=Math.floor((w-d)/l);_=h[a[Q*i+B]?1:0]}n[v++]=_.r,n[v++]=_.g,n[v++]=_.b,n[v]=_.a}}})(tw);(function(t){const e=tw;function r(A,s,i){A.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=i,s.width=i,s.style.height=i+"px",s.style.width=i+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,i,a){let l=a,u=i;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),i||(u=n()),l=e.getOptions(l);const d=e.getImageWidth(s.modules.size,l),h=u.getContext("2d"),f=h.createImageData(d,d);return e.qrToImageData(f.data,s,l),r(h,u,d),h.putImageData(f,0,0),u},t.renderToDataURL=function(s,i,a){let l=a;typeof l>"u"&&(!i||!i.getContext)&&(l=i,i=void 0),l||(l={});const u=t.render(s,i,l),d=l.type||"image/png",h=l.rendererOpts||{};return u.toDataURL(d,h.quality)}})(wU);var yU={};const s6=tw;function zx(t,e){const r=t.a/255,n=e+'="'+t.hex+'"';return r<1?n+" "+e+'-opacity="'+r.toFixed(2).slice(1)+'"':n}function Gf(t,e,r){let n=t+e;return typeof r<"u"&&(n+=" "+r),n}function i6(t,e,r){let n="",A=0,s=!1,i=0;for(let a=0;a<t.length;a++){const l=Math.floor(a%e),u=Math.floor(a/e);!l&&!s&&(s=!0),t[a]?(i++,a>0&&l>0&&t[a-1]||(n+=s?Gf("M",l+r,.5+u+r):Gf("m",A,0),A=0,s=!1),l+1<e&&t[a+1]||(n+=Gf("h",i),i=0)):A++}return n}yU.render=function(e,r,n){const A=s6.getOptions(r),s=e.modules.size,i=e.modules.data,a=s+A.margin*2,l=A.color.light.a?"<path "+zx(A.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+zx(A.color.dark,"stroke")+' d="'+i6(i,s,A.margin)+'"/>',d='viewBox="0 0 '+a+" "+a+'"',f='<svg xmlns="http://www.w3.org/2000/svg" '+(A.width?'width="'+A.width+'" height="'+A.width+'" ':"")+d+' shape-rendering="crispEdges">'+l+u+`</svg>
`;return typeof n=="function"&&n(null,f),f};const o6=xV,Vm=sU,BU=wU,a6=yU;function rw(t,e,r,n,A){const s=[].slice.call(arguments,1),i=s.length,a=typeof s[i-1]=="function";if(!a&&!o6())throw new Error("Callback required as last argument");if(a){if(i<2)throw new Error("Too few arguments provided");i===2?(A=r,r=e,e=n=void 0):i===3&&(e.getContext&&typeof A>"u"?(A=n,n=void 0):(A=n,n=r,r=e,e=void 0))}else{if(i<1)throw new Error("Too few arguments provided");return i===1?(r=e,e=n=void 0):i===2&&!e.getContext&&(n=r,r=e,e=void 0),new Promise(function(l,u){try{const d=Vm.create(r,n);l(t(d,e,n))}catch(d){u(d)}})}try{const l=Vm.create(r,n);A(null,t(l,e,n))}catch(l){A(l)}}yl.create=Vm.create;yl.toCanvas=rw.bind(null,BU.render);yl.toDataURL=rw.bind(null,BU.renderToDataURL);yl.toString=rw.bind(null,function(t,e,r){return a6.render(t,r)});const l6=()=>{const{user:t,userProfile:e}=xt(),r=rn(),[n,A]=k.useState(!0),[s,i]=k.useState(!1),[a,l]=k.useState(""),[u,d]=k.useState(""),[h,f]=k.useState(!1),[w,v]=k.useState(""),[_,Q]=k.useState(""),[B,m]=k.useState(""),[y,C]=k.useState(!1),[F,T]=k.useState(!1),[E,x]=k.useState("");k.useEffect(()=>{(async()=>{if(t)try{const V=await ar(ve(se,"users",t.uid));if(V.exists()){const q=V.data();f(q.mfaEnabled||!1),v(q.mfaSecret||"")}}catch(V){console.error("Error fetching MFA status:",V),l("Failed to load MFA settings")}finally{A(!1)}})()},[t]);const I=()=>{const M="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let V="";for(let q=0;q<32;q++)V+=M.charAt(Math.floor(Math.random()*M.length));return V},b=async M=>{if(!t)return;const V="TURFION",q=t.email,X=`otpauth://totp/${encodeURIComponent(V)}:${encodeURIComponent(q)}?secret=${M}&issuer=${encodeURIComponent(V)}`;try{const K=await yl.toDataURL(X);Q(K)}catch(K){console.error("Error generating QR code:",K),l("Failed to generate QR code")}},S=(M,V)=>{if(!M||!V||V.length!==6)return!1;const q=Math.floor(Date.now()/3e4);for(let X=-2;X<=2;X++){const K=q+X;if(R(M,K)===V)return!0}return!1},R=(M,V)=>{try{const q=N(M),X=new ArrayBuffer(8);new DataView(X).setUint32(4,V,!1);const oe=J(q,new Uint8Array(X)),ae=oe[oe.length-1]&15;return(((oe[ae]&127)<<24|(oe[ae+1]&255)<<16|(oe[ae+2]&255)<<8|oe[ae+3]&255)%1e6).toString().padStart(6,"0")}catch(q){return console.error("Error generating TOTP:",q),"000000"}},N=M=>{const V="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";let q=0,X=0,K=[];const oe=M.replace(/=/g,"").toUpperCase();for(let ae=0;ae<oe.length;ae++){const z=oe[ae],Z=V.indexOf(z);Z!==-1&&(X=X<<5|Z,q+=5,q>=8&&(K.push(X>>>q-8&255),q-=8))}return new Uint8Array(K)},J=(M,V)=>{let X=new Uint8Array(64);if(M.length>64){const Z=te(M);X.set(Z.slice(0,64))}else X.set(M);const K=new Uint8Array(64),oe=new Uint8Array(64);for(let Z=0;Z<64;Z++)K[Z]=X[Z]^54,oe[Z]=X[Z]^92;const ae=te(new Uint8Array([...K,...V]));return te(new Uint8Array([...oe,...ae]))},te=M=>{const V=new Uint8Array(20);let q=1732584193,X=4023233417,K=2562383102,oe=271733878,ae=3285377520;for(let Z=0;Z<M.length;Z+=64){const H=M.slice(Z,Z+64);for(let j=0;j<H.length;j++)q=(q<<5|q>>>27)+H[j]+X,X=K,K=oe<<30|oe>>>2,oe=ae,ae=q}const z=new DataView(V.buffer);return z.setUint32(0,q,!1),z.setUint32(4,X,!1),z.setUint32(8,K,!1),z.setUint32(12,oe,!1),z.setUint32(16,ae,!1),V},ee=async()=>{const M=I();v(M),await b(M),C(!0),l(""),d("")},ne=async()=>{if(!B||B.length!==6){l("Please enter a valid 6-digit code");return}if(!S(w,B)){l("Invalid verification code. Please check your authenticator app and try again.");return}i(!0);try{await Gt(ve(se,"users",t.uid),{mfaEnabled:!0,mfaSecret:w,updatedAt:new Date}),f(!0),C(!1),m(""),d("MFA has been enabled successfully!")}catch(M){console.error("Error enabling MFA:",M),l("Failed to enable MFA. Please try again.")}finally{i(!1)}},L=async()=>{if(!E||E.length!==6){l("Please enter a valid 6-digit code to disable MFA");return}if(!S(w,E)){l("Invalid verification code. Please try again.");return}i(!0);try{await Gt(ve(se,"users",t.uid),{mfaEnabled:!1,mfaSecret:"",updatedAt:new Date}),f(!1),v(""),T(!1),x(""),d("MFA has been disabled successfully!")}catch(M){console.error("Error disabling MFA:",M),l("Failed to disable MFA. Please try again.")}finally{i(!1)}};return t?n?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"max-w-2xl mx-auto",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("button",{onClick:()=>r("/profile"),className:"mb-4 inline-flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[o.jsx(yr,{className:"w-4 h-4 mr-2"}),"Back to Profile"]}),o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Multi-Factor Authentication"}),o.jsx("p",{className:"text-gray-600",children:"Secure your account with two-factor authentication"})]}),u&&o.jsx("div",{className:"mb-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:u}),a&&o.jsx("div",{className:"mb-6 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:a}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 mb-8",children:[o.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[o.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center ${h?"bg-green-100":"bg-red-100"}`,children:o.jsx(Dr,{className:`w-8 h-8 ${h?"text-green-600":"text-red-600"}`})}),o.jsxs("div",{children:[o.jsxs("h2",{className:"text-2xl font-semibold text-gray-900",children:["MFA is ",h?"Enabled":"Disabled"]}),o.jsx("p",{className:"text-gray-600",children:h?"Your account is protected with two-factor authentication":"Add an extra layer of security to your account"})]})]}),h?o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-green-800 mb-2",children:"MFA is Active"}),o.jsx("p",{className:"text-sm text-green-700",children:"Your account is protected with Google Authenticator. You'll need to enter a code from your authenticator app when signing in."})]}),o.jsx("button",{onClick:()=>T(!0),className:"w-full bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium",children:"Disable MFA"})]}):o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-blue-800 mb-2",children:"Why enable MFA?"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:"• Protects your account even if your password is compromised"}),o.jsx("li",{children:"• Prevents unauthorized access to your bookings and personal data"}),o.jsx("li",{children:"• Required for certain administrative functions"}),o.jsx("li",{children:"• Industry standard security practice"})]})]}),o.jsx("button",{onClick:ee,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Enable MFA"})]})]}),y&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(gm,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Setup Google Authenticator"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Scan this QR code with your Google Authenticator app"})]}),o.jsx("div",{className:"bg-gray-100 rounded-lg p-8 text-center mb-6",children:_?o.jsx("img",{src:_,alt:"MFA QR Code",className:"mx-auto"}):o.jsx("div",{className:"w-32 h-32 bg-white border-2 border-dashed border-gray-300 rounded-lg mx-auto flex items-center justify-center",children:o.jsx(gm,{className:"w-12 h-12 text-gray-400"})})}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Manual Entry"}),o.jsx("p",{className:"text-xs text-gray-600 mb-2",children:"If you can't scan the QR code, enter this secret manually:"}),o.jsx("code",{className:"text-xs bg-white px-2 py-1 rounded border break-all",children:w})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"Setup Instructions:"}),o.jsxs("ol",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:"1. Download Google Authenticator app"}),o.jsx("li",{children:"2. Scan the QR code above or enter the secret manually"}),o.jsx("li",{children:"3. Enter the 6-digit code below"}),o.jsx("li",{children:'4. Click "Enable MFA" to complete setup'})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter 6-digit code from Google Authenticator"}),o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"000000",maxLength:6,value:B,onChange:M=>m(M.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-center text-lg font-mono",autoFocus:!0})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:ne,disabled:s||B.length!==6,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium disabled:opacity-50",children:s?"Enabling...":"Enable MFA"}),o.jsx("button",{onClick:()=>{C(!1),m(""),l("")},className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"})]})]})})}),F&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsx("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(OA,{className:"w-8 h-8 text-red-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Disable MFA"}),o.jsx("p",{className:"text-gray-600 text-sm",children:"Enter your current MFA code to disable two-factor authentication"})]}),o.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:o.jsxs("p",{className:"text-sm text-red-700",children:[o.jsx("strong",{children:"Warning:"})," Disabling MFA will make your account less secure. You can re-enable it at any time."]})}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Enter 6-digit code from Google Authenticator"}),o.jsx("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"000000",maxLength:6,value:E,onChange:M=>x(M.target.value.replace(/\D/g,"").slice(0,6)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 text-center text-lg font-mono"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:L,disabled:s||E.length!==6,className:"w-full bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 transition-colors duration-200 font-medium disabled:opacity-50",children:s?"Disabling...":"Disable MFA"}),o.jsx("button",{onClick:()=>{T(!1),x(""),l("")},className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"})]})]})})})]})}):o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"text-center",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Please log in to access MFA settings"})})})};function c6({onSuccess:t}){const[e,r]=k.useState({title:"",imageUrl:"",type:"",openingTime:"00:00",closingTime:"23:00",pricePerHour:0,description:"",location:""}),[n,A]=k.useState(!1),[s,i]=k.useState(""),[a,l]=k.useState(""),{user:u,hasRole:d}=xt(),f=(()=>{const y=[];for(let C=0;C<24;C++){const F=`${C.toString().padStart(2,"0")}:00`;y.push(F)}return y})(),w=()=>{const y="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let C="";for(let F=0;F<30;F++)C+=y.charAt(Math.floor(Math.random()*y.length));return C},v=async y=>{const C=Wt(Ne(se,"cards"),xr("Card_ID","==",y));return(await Ku(C)).empty},_=async()=>{let y,C=!1;do y=w(),C=await v(y);while(!C);return y},Q=async y=>{if(y.preventDefault(),!u){i("You must be logged in to add a card");return}if(!d("admin")){i("Only admins can create cards");return}if(e.pricePerHour<=0){i("Price per hour must be greater than 0");return}if(!e.title||!e.type||!e.location){i("Title, type, and location are required");return}A(!0),i(""),l("");try{const C=await _();await lr(Ne(se,"cards"),{...e,Card_ID:C,userId:u.uid,createdAt:new Date,updatedAt:new Date}),r({title:"",imageUrl:"",type:"",openingTime:"00:00",closingTime:"23:00",pricePerHour:0,description:"",location:""}),l("Card created successfully!"),t&&t()}catch(C){console.error("Error adding card:",C),i("Failed to add card. Please try again.")}finally{A(!1)}},B=y=>{const{name:C,value:F,type:T}=y.target;r(E=>({...E,[C]:T==="number"?parseFloat(F)||0:F}))},m=y=>y.charAt(0).toUpperCase()+y.slice(1);return d("admin")?o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-6 text-gray-900",children:"Add New Card"}),o.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[s&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:s}),a&&o.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg",children:a}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-2",children:"Title *"}),o.jsx("input",{type:"text",id:"title",name:"title",placeholder:"Enter card title",value:e.title,onChange:y=>{const C=m(y.target.value);r(F=>({...F,title:C}))},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"imageUrl",className:"block text-sm font-medium text-gray-700 mb-2",children:"Image URL"}),o.jsx("input",{type:"url",id:"imageUrl",name:"imageUrl",placeholder:"https://example.com/image.jpg",value:e.imageUrl,onChange:B,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-2",children:"Type *"}),o.jsx("input",{type:"text",id:"type",name:"type",placeholder:"e.g., Football, Cricket, Tennis",value:e.type,onChange:y=>{const C=m(y.target.value);r(F=>({...F,type:C}))},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-2",children:"Location *"}),o.jsx("input",{type:"text",id:"location",name:"location",placeholder:"e.g., Banjara Hills, Hyderabad",value:e.location,onChange:y=>{const C=m(y.target.value);r(F=>({...F,location:C}))},required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{id:"description",name:"description",placeholder:"Describe the venue, facilities, and amenities...",value:e.description,onChange:y=>{const C=m(y.target.value);r(F=>({...F,description:C}))},rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"pricePerHour",className:"block text-sm font-medium text-gray-700 mb-2",children:"Price per Hour (₹) *"}),o.jsx("input",{type:"number",id:"pricePerHour",name:"pricePerHour",placeholder:"Enter price per hour",value:e.pricePerHour||"",onChange:B,min:"1",step:"1",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"openingTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Opening Time"}),o.jsx("select",{id:"openingTime",name:"openingTime",value:e.openingTime,onChange:B,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:f.map(y=>o.jsx("option",{value:y,children:y},y))})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"closingTime",className:"block text-sm font-medium text-gray-700 mb-2",children:"Closing Time"}),o.jsx("select",{id:"closingTime",name:"closingTime",value:e.closingTime,onChange:B,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:f.map(y=>o.jsx("option",{value:y,children:y},y))})]})]}),o.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:n?"Adding Card...":"Add Card"})]})]}):o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:"Only administrators can create cards."})}function u6(){const[t,e]=k.useState([]),[r,n]=k.useState(!0),[A,s]=k.useState(null),[i,a]=k.useState({}),[l,u]=k.useState(!1),[d,h]=k.useState(null),{user:f,hasRole:w}=xt(),v=rn(),Q=(()=>{const b=[];for(let S=0;S<24;S++){const R=`${S.toString().padStart(2,"0")}:00`;b.push(R)}return b})();k.useEffect(()=>{if(!f){e([]),n(!1);return}let b;w("admin")?b=Wt(Ne(se,"cards")):w("host")?b=Wt(Ne(se,"cards"),xr("assignedHost","==",f.uid)):b=Wt(Ne(se,"cards"),xr("userId","==",f.uid));const S=Zr(b,R=>{const N=R.docs.map(J=>({id:J.id,...J.data()}));N.sort((J,te)=>{var L,M,V,q;const ee=((M=(L=J.createdAt)==null?void 0:L.toDate)==null?void 0:M.call(L))||new Date(0);return(((q=(V=te.createdAt)==null?void 0:V.toDate)==null?void 0:q.call(V))||new Date(0)).getTime()-ee.getTime()}),e(N),n(!1)},R=>{console.error("Error fetching cards:",R),n(!1)});return()=>S()},[f,w]);const B=b=>{s(b.id),a({title:b.title,imageUrl:b.imageUrl,type:b.type,openingTime:b.openingTime,closingTime:b.closingTime,pricePerHour:b.pricePerHour,location:b.location,description:b.description})},m=()=>{s(null),a({})},y=async b=>{if(!i.title||!i.type||!i.pricePerHour){alert("Please fill in all required fields");return}if(i.pricePerHour<=0){alert("Price per hour must be greater than 0");return}u(!0);try{const S=ve(se,"cards",b);await Gt(S,{title:i.title,imageUrl:i.imageUrl||"",type:i.type,openingTime:i.openingTime||"00:00",closingTime:i.closingTime||"23:00",pricePerHour:i.pricePerHour,location:i.location||"",description:i.description||"",updatedAt:new Date}),s(null),a({})}catch(S){console.error("Error updating card:",S),alert("Failed to update card. Please try again.")}finally{u(!1)}},C=async(b,S)=>{if(confirm(`Are you sure you want to delete "${S}"? This action cannot be undone.`)){h(b);try{await Gu(ve(se,"cards",b))}catch(R){console.error("Error deleting card:",R),alert("Failed to delete card. Please try again.")}finally{h(null)}}},F=(b,S)=>{a(R=>({...R,[b]:S}))},T=b=>{v(`/card/${b}`)},E=b=>b.charAt(0).toUpperCase()+b.slice(1),x=b=>!!(w("admin")||w("host")&&b.assignedHost===(f==null?void 0:f.uid)||w("user")&&b.userId===(f==null?void 0:f.uid)),I=b=>w("admin");return r?o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):f?t.length===0?o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500 text-lg",children:w("admin")?"No cards in the system yet.":w("host")?"No cards assigned to you yet.":"No cards yet. Add your first card!"})}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(b=>{var S,R,N;return o.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"relative h-48 bg-gray-200",children:[A===b.id?o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"w-full",children:[o.jsxs("label",{className:"block text-white text-sm mb-2 flex items-center",children:[o.jsx(ml,{className:"w-4 h-4 mr-1"}),"Image URL"]}),o.jsx("input",{type:"url",value:i.imageUrl||"",onChange:J=>F("imageUrl",J.target.value),placeholder:"Image URL",className:"w-full px-3 py-2 bg-white rounded text-sm"})]})}):o.jsx("img",{src:b.imageUrl,alt:b.title,className:"w-full h-full object-cover cursor-pointer",onClick:()=>T(b.id),onError:J=>{const te=J.target;te.src="https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}}),o.jsx("div",{className:"absolute top-2 left-2",children:w("admin")?o.jsx("span",{className:"bg-red-600 text-white px-2 py-1 rounded text-sm",children:"Admin View"}):w("host")&&b.assignedHost===(f==null?void 0:f.uid)?o.jsx("span",{className:"bg-purple-600 text-white px-2 py-1 rounded text-sm",children:"Assigned to You"}):o.jsx("span",{className:"bg-blue-600 text-white px-2 py-1 rounded text-sm",children:"Your Card"})}),o.jsx("div",{className:"absolute top-2 right-2",children:A===b.id?o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("button",{onClick:()=>y(b.id),disabled:l,className:"p-2 bg-green-600 text-white rounded-full hover:bg-green-700 transition-colors duration-200 disabled:opacity-50",children:o.jsx(V0,{className:"w-4 h-4"})}),o.jsx("button",{onClick:m,className:"p-2 bg-gray-600 text-white rounded-full hover:bg-gray-700 transition-colors duration-200",children:o.jsx(et,{className:"w-4 h-4"})})]}):o.jsxs("div",{className:"flex space-x-1",children:[x(b)&&o.jsx("button",{onClick:()=>B(b),className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors duration-200",children:o.jsx(K0,{className:"w-4 h-4"})}),I()&&o.jsx("button",{onClick:()=>C(b.id,b.title),disabled:d===b.id,className:"p-2 bg-red-600 text-white rounded-full hover:bg-red-700 transition-colors duration-200 disabled:opacity-50",children:d===b.id?o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):o.jsx(e1,{className:"w-4 h-4"})})]})})]}),o.jsx("div",{className:"p-6",children:A===b.id?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),o.jsx("input",{type:"text",value:i.title||"",onChange:J=>F("title",E(J.target.value)),placeholder:"Card title",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type *"}),o.jsx("input",{type:"text",value:i.type||"",onChange:J=>F("type",E(J.target.value)),placeholder:"Card type",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[o.jsx(yn,{className:"w-4 h-4 mr-1"}),"Location"]}),o.jsx("input",{type:"text",value:i.location||"",onChange:J=>F("location",E(J.target.value)),placeholder:"Location",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[o.jsx(zu,{className:"w-4 h-4 mr-1"}),"Price per Hour (₹) *"]}),o.jsx("input",{type:"number",value:i.pricePerHour||"",onChange:J=>F("pricePerHour",parseFloat(J.target.value)||0),placeholder:"Price per hour",min:"1",step:"1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1 flex items-center",children:[o.jsx(cn,{className:"w-4 h-4 mr-1"}),"Description"]}),o.jsx("textarea",{value:i.description||"",onChange:J=>F("description",E(J.target.value)),placeholder:"Description",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Time"}),o.jsx("select",{value:i.openingTime||"00:00",onChange:J=>F("openingTime",J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:Q.map(J=>o.jsx("option",{value:J,children:J},J))})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Closing Time"}),o.jsx("select",{value:i.closingTime||"23:00",onChange:J=>F("closingTime",J.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:Q.map(J=>o.jsx("option",{value:J,children:J},J))})]})]})]}):o.jsxs(o.Fragment,{children:[o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2 cursor-pointer hover:text-blue-600 transition-colors",onClick:()=>T(b.id),children:b.title}),o.jsxs("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full",children:b.type}),o.jsx("span",{className:"text-gray-500 text-sm",children:((N=(R=(S=b.createdAt)==null?void 0:S.toDate)==null?void 0:R.call(S))==null?void 0:N.toLocaleDateString())||"Recently added"})]}),b.location&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[o.jsx(yn,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:b.location})]}),b.pricePerHour>0&&o.jsxs("div",{className:"flex items-center text-green-600 text-sm mb-2",children:[o.jsx(zu,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{className:"font-semibold",children:["₹",b.pricePerHour," per hour"]})]}),(b.openingTime||b.closingTime)&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:b.openingTime&&b.closingTime?`${b.openingTime} - ${b.closingTime}`:b.openingTime||b.closingTime})]}),b.description&&o.jsx("div",{className:"text-gray-600 text-sm mb-2",children:o.jsx("p",{className:"line-clamp-2",children:b.description})}),o.jsx("div",{className:"text-xs text-gray-500 mb-3",children:o.jsxs("span",{className:"font-mono",children:["ID: ",b.Card_ID]})}),w("admin")&&o.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-200",children:[o.jsxs("p",{className:"text-xs text-gray-500",children:["Created by: ",b.userId]}),b.assignedHost&&o.jsxs("p",{className:"text-xs text-purple-600",children:["Assigned to: ",b.assignedHost]})]})]})})]},b.id)})}):o.jsx("div",{className:"text-center py-12",children:o.jsx("p",{className:"text-gray-500",children:"Please log in to view cards."})})}const d6=()=>{const{user:t}=xt(),[e,r]=k.useState(""),[n,A]=k.useState({title:"",imageUrl:"",type:"",openingTime:"00:00",closingTime:"23:00",pricePerHour:0,description:"",location:""}),[s,i]=k.useState(!1),[a,l]=k.useState(""),[u,d]=k.useState(!1),f=(()=>{const Q=[];for(let B=0;B<24;B++){const m=`${B.toString().padStart(2,"0")}:00`;Q.push(m)}return Q})(),w=async Q=>{if(Q.preventDefault(),!t){l("You must be logged in to submit a request");return}if(!e.trim()){l("Please provide a message for your request");return}if(!n.title||!n.type||!n.pricePerHour){l("Please fill in all required card details");return}if(n.pricePerHour<=0){l("Price per hour must be greater than 0");return}i(!0),l("");try{await lr(Ne(se,"Requests"),{userId:t.uid,userEmail:t.email,message:e,status:"pending",cardData:n,requestType:"new-card",createdAt:Pe(),updatedAt:Pe()}),r(""),A({title:"",imageUrl:"",type:"",openingTime:"00:00",closingTime:"23:00",pricePerHour:0,description:"",location:""}),d(!0),setTimeout(()=>d(!1),5e3)}catch(B){console.error("Error submitting request:",B),l("Failed to submit request. Please try again.")}finally{i(!1)}},v=(Q,B)=>{A(m=>({...m,[Q]:B}))},_=Q=>Q.charAt(0).toUpperCase()+Q.slice(1);return u?o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(gl,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Request Submitted Successfully!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your request for a new card has been sent to the administrators. You will be notified once it's reviewed."}),o.jsx("button",{onClick:()=>d(!1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Submit Another Request"})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Request New Card"}),a&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:a}),o.jsxs("form",{onSubmit:w,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Why do you want to add this card? *"}),o.jsx("textarea",{value:e,onChange:Q=>r(Q.target.value),placeholder:"Please explain why you want to add this card and how it will benefit users...",rows:4,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(cn,{className:"w-5 h-5 mr-2 text-blue-600"}),"New Card Details"]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Guidelines:"})," Opening time starts from 00:00 (midnight) and closing time ends at 23:00 (11 PM). Please select appropriate times for your venue."]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Title *"}),o.jsx("input",{type:"text",value:n.title,onChange:Q=>v("title",_(Q.target.value)),placeholder:"e.g., Victory Sports Arena",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sport/Activity Type *"}),o.jsx("input",{type:"text",value:n.type,onChange:Q=>v("type",_(Q.target.value)),placeholder:"e.g., Football, Cricket, Tennis",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(zu,{className:"w-4 h-4 mr-1"}),"Price per Hour (₹) *"]}),o.jsx("input",{type:"number",value:n.pricePerHour||"",onChange:Q=>v("pricePerHour",parseFloat(Q.target.value)||0),placeholder:"Enter price per hour",min:"1",step:"1",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Opening Time"]}),o.jsx("select",{value:n.openingTime,onChange:Q=>v("openingTime",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:f.map(Q=>o.jsx("option",{value:Q,children:Q},Q))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Closing Time"]}),o.jsx("select",{value:n.closingTime,onChange:Q=>v("closingTime",Q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:f.map(Q=>o.jsx("option",{value:Q,children:Q},Q))})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(yn,{className:"w-4 h-4 mr-1"}),"Location"]}),o.jsx("input",{type:"text",value:n.location,onChange:Q=>v("location",_(Q.target.value)),placeholder:"e.g., Banjara Hills, Hyderabad",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(ml,{className:"w-4 h-4 mr-1"}),"Image URL"]}),o.jsx("input",{type:"url",value:n.imageUrl,onChange:Q=>v("imageUrl",Q.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:n.description,onChange:Q=>v("description",_(Q.target.value)),placeholder:"Describe your venue, facilities, and what makes it special...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:s?"Submitting Request...":"Submit Card Request"})]})]})},h6=({onSuccess:t})=>{const{user:e}=xt(),[r,n]=k.useState(""),[A,s]=k.useState({title:"",imageUrl:"",type:"",openingTime:"00:00",closingTime:"23:00",pricePerHour:0,description:"",location:""}),[i,a]=k.useState(!1),[l,u]=k.useState(""),[d,h]=k.useState(!1),w=(()=>{const B=[];for(let m=0;m<24;m++){const y=`${m.toString().padStart(2,"0")}:00`;B.push(y)}return B})(),v=async B=>{if(B.preventDefault(),!e){u("You must be logged in to submit a request");return}if(!r.trim()){u("Please provide a message for your request");return}if(!A.title||!A.type||!A.pricePerHour){u("Please fill in all required card details");return}if(A.pricePerHour<=0){u("Price per hour must be greater than 0");return}a(!0),u("");try{await lr(Ne(se,"Requests"),{userId:e.uid,userEmail:e.email,message:r,status:"pending",cardData:A,requestType:"host-request",createdAt:Pe(),updatedAt:Pe()}),n(""),s({title:"",imageUrl:"",type:"",openingTime:"00:00",closingTime:"23:00",pricePerHour:0,description:"",location:""}),h(!0),setTimeout(()=>h(!1),5e3),t&&t()}catch(m){console.error("Error submitting request:",m),u("Failed to submit request. Please try again.")}finally{a(!1)}},_=(B,m)=>{s(y=>({...y,[B]:m}))},Q=B=>B.charAt(0).toUpperCase()+B.slice(1);return d?o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(gl,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Request Submitted Successfully!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your request to become a host has been sent to the administrators. You will be notified once it's reviewed."}),o.jsx("button",{onClick:()=>h(!1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Submit Another Request"})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Request to Become a Host"}),l&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:l}),o.jsxs("form",{onSubmit:v,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Why do you want to become a host? *"}),o.jsx("textarea",{value:r,onChange:B=>n(B.target.value),placeholder:"Please explain why you want to become a host and how you plan to contribute...",rows:4,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[o.jsxs("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[o.jsx(cn,{className:"w-5 h-5 mr-2 text-blue-600"}),"Card Details (What you want to host)"]}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("strong",{children:"Guidelines:"})," Opening time starts from 00:00 (midnight) and closing time ends at 23:00 (11 PM). Please select appropriate times for your venue."]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Card Title *"}),o.jsx("input",{type:"text",value:A.title,onChange:B=>_("title",Q(B.target.value)),placeholder:"e.g., Victory Sports Arena",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sport/Activity Type *"}),o.jsx("input",{type:"text",value:A.type,onChange:B=>_("type",Q(B.target.value)),placeholder:"e.g., Football, Cricket, Tennis",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(zu,{className:"w-4 h-4 mr-1"}),"Price per Hour (₹) *"]}),o.jsx("input",{type:"number",value:A.pricePerHour||"",onChange:B=>_("pricePerHour",parseFloat(B.target.value)||0),placeholder:"Enter price per hour",min:"1",step:"1",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Opening Time"]}),o.jsx("select",{value:A.openingTime,onChange:B=>_("openingTime",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(B=>o.jsx("option",{value:B,children:B},B))})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Closing Time"]}),o.jsx("select",{value:A.closingTime,onChange:B=>_("closingTime",B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(B=>o.jsx("option",{value:B,children:B},B))})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(yn,{className:"w-4 h-4 mr-1"}),"Location"]}),o.jsx("input",{type:"text",value:A.location,onChange:B=>_("location",Q(B.target.value)),placeholder:"e.g., Banjara Hills, Hyderabad",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(ml,{className:"w-4 h-4 mr-1"}),"Image URL"]}),o.jsx("input",{type:"url",value:A.imageUrl,onChange:B=>_("imageUrl",B.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),o.jsx("textarea",{value:A.description,onChange:B=>_("description",Q(B.target.value)),placeholder:"Describe your venue, facilities, and what makes it special...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),o.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:i?"Submitting Request...":"Submit Host Request"})]})]})},f6=()=>{const{hasRole:t}=xt(),[e,r]=k.useState({title:"Welcome to TURFION",subtitle:"Discover and book amazing sports venues and activities",backgroundImage:"https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",buttonText:"Explore Now",buttonLink:"#cards"}),[n,A]=k.useState(!0),[s,i]=k.useState(!1),[a,l]=k.useState(""),[u,d]=k.useState("");k.useEffect(()=>{(async()=>{try{const v=await ar(ve(se,"settings","hero"));if(v.exists()){const _=v.data();r(_)}}catch(v){console.error("Error fetching hero data:",v),l("Failed to load homepage data")}finally{A(!1)}})()},[]);const h=async()=>{if(!e.title.trim()||!e.subtitle.trim()){l("Title and subtitle are required");return}i(!0),l(""),d("");try{await dm(ve(se,"settings","hero"),{...e,updatedAt:Pe()}),d("Homepage updated successfully!")}catch(w){console.error("Error saving hero data:",w),l("Failed to save homepage data")}finally{i(!1)}},f=(w,v)=>{r(_=>({..._,[w]:v})),l(""),d("")};return t("admin")?n?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-6",children:"Manage Homepage Hero Section"}),a&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4",children:a}),u&&o.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-4",children:u}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(Kv,{className:"w-4 h-4 mr-2"}),"Hero Title *"]}),o.jsx("input",{type:"text",value:e.title,onChange:w=>f("title",w.target.value),placeholder:"Enter hero title",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(Kv,{className:"w-4 h-4 mr-2"}),"Hero Subtitle *"]}),o.jsx("textarea",{value:e.subtitle,onChange:w=>f("subtitle",w.target.value),placeholder:"Enter hero subtitle",rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(ml,{className:"w-4 h-4 mr-2"}),"Background Image URL"]}),o.jsx("input",{type:"url",value:e.backgroundImage,onChange:w=>f("backgroundImage",w.target.value),placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Button Text"}),o.jsx("input",{type:"text",value:e.buttonText,onChange:w=>f("buttonText",w.target.value),placeholder:"Enter button text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(RD,{className:"w-4 h-4 mr-2"}),"Button Link"]}),o.jsx("input",{type:"text",value:e.buttonLink,onChange:w=>f("buttonLink",w.target.value),placeholder:"Enter button link (e.g., #cards or https://example.com)",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),o.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Use #cards to scroll to cards section, or enter a full URL for external links"})]}),o.jsxs("button",{onClick:h,disabled:s,className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium flex items-center justify-center",children:[o.jsx(V0,{className:"w-5 h-5 mr-2"}),s?"Saving...":"Save Changes"]})]})]}),o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[o.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Preview"}),o.jsxs("div",{className:"relative h-64 rounded-lg overflow-hidden",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${e.backgroundImage})`},children:o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})}),o.jsx("div",{className:"relative h-full flex items-center justify-center text-center text-white px-4",children:o.jsxs("div",{className:"max-w-2xl",children:[o.jsx("h1",{className:"text-2xl md:text-4xl font-bold mb-2",children:e.title}),o.jsx("p",{className:"text-sm md:text-lg mb-4 text-gray-200",children:e.subtitle}),o.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-lg text-sm transition-all duration-300",children:e.buttonText})]})})]})]})]}):o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:"Only administrators can manage the homepage."})},g6=()=>{const{hasRole:t}=xt(),[e,r]=k.useState([]),[n,A]=k.useState(!0),[s,i]=k.useState(null),[a,l]=k.useState(""),[u,d]=k.useState("");k.useEffect(()=>{if(!t("admin"))return;const w=Wt(Ne(se,"users"),xr("role","==","host"));return Zr(w,_=>{const Q=_.docs.map(B=>({id:B.id,...B.data()}));Q.sort((B,m)=>{var F,T,E,x;const y=((T=(F=B.createdAt)==null?void 0:F.toDate)==null?void 0:T.call(F))||new Date(0);return(((x=(E=m.createdAt)==null?void 0:E.toDate)==null?void 0:x.call(E))||new Date(0)).getTime()-y.getTime()}),r(Q),A(!1)},_=>{console.error("Error fetching hosts:",_),l("Failed to load hosts"),A(!1)})},[t]);const h=async(w,v)=>{if(confirm(`Are you sure you want to revoke host privileges for ${v}? This action will also delete all cards created by this host and any open slots associated with those cards.`)){i(w),l(""),d("");try{const _=Wt(Ne(se,"cards"),xr("userId","==",w)),Q=await Ku(_),B=Q.docs.map(C=>C.id);for(const C of B){const F=Wt(Ne(se,"bookings"),xr("cardId","==",C),xr("openSlots",">",0)),E=(await Ku(F)).docs.map(x=>Gu(ve(se,"bookings",x.id)));await Promise.all(E)}const m=Q.docs.map(C=>Gu(ve(se,"cards",C.id)));await Promise.all(m);const y=ve(se,"users",w);await Gt(y,{role:"user",updatedAt:Pe()}),d(`Host privileges revoked for ${v}. Deleted ${Q.docs.length} card(s) and associated open slots.`)}catch(_){console.error("Error revoking host:",_),l("Failed to revoke host privileges. Please try again.")}finally{i(null)}}},f=w=>w!=null&&w.toDate?w.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown";return t("admin")?n?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h3",{className:"text-xl font-semibold flex items-center",children:[o.jsx(fr,{className:"w-6 h-6 mr-2 text-blue-600"}),"Manage Hosts (",e.length,")"]})}),a&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4",children:a}),u&&o.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-4",children:u}),e.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(fr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No hosts found"}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Users with host privileges will appear here"})]}):o.jsx("div",{className:"space-y-4",children:e.map(w=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center",children:o.jsx(fr,{className:"w-5 h-5 text-purple-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:w.displayName||w.email}),w.displayName&&o.jsx("p",{className:"text-sm text-gray-600",children:w.email}),o.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500 mt-1",children:[o.jsxs("span",{children:["ID: ",w.id]}),o.jsx("span",{children:"•"}),o.jsxs("span",{children:["Host since: ",f(w.createdAt)]}),w.updatedAt&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"•"}),o.jsxs("span",{children:["Updated: ",f(w.updatedAt)]})]})]})]})]})}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm font-medium",children:"Host"}),o.jsx("button",{onClick:()=>h(w.id,w.email),disabled:s===w.id,className:"flex items-center space-x-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:s===w.id?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Revoking..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(MD,{className:"w-4 h-4"}),o.jsx("span",{children:"Revoke Host"})]})})]})]})},w.id))}),o.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(OA,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-yellow-800",children:"Important Notice"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:`Revoking host privileges will change the user's role back to "user" and automatically delete all cards created by that host, including any open slots associated with those cards. This action cannot be undone.`})]})]})})]})}):o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:"Only administrators can manage hosts."})},m6=()=>{const{hasRole:t}=xt(),[e,r]=k.useState([]),[n,A]=k.useState([]),[s,i]=k.useState(!0),[a,l]=k.useState(null),[u,d]=k.useState(""),[h,f]=k.useState(""),[w,v]=k.useState("");k.useEffect(()=>{if(!t("admin"))return;const y=[],C=Wt(Ne(se,"users"),xr("role","==","host")),F=Zr(C,x=>{const I=x.docs.map(b=>({id:b.id,...b.data()}));r(I)});y.push(F);const T=Wt(Ne(se,"cards")),E=Zr(T,x=>{const I=x.docs.map(b=>({id:b.id,...b.data()}));A(I),i(!1)});return y.push(E),()=>{y.forEach(x=>x())}},[t]);const _=async(y,C)=>{l(y),d(""),f("");try{await Gt(ve(se,"cards",y),{assignedHost:C,updatedAt:Pe()});const F=e.find(E=>E.id===C),T=n.find(E=>E.id===y);f(`Successfully assigned "${T==null?void 0:T.title}" to ${(F==null?void 0:F.displayName)||(F==null?void 0:F.email)}`)}catch(F){console.error("Error assigning card:",F),d("Failed to assign card. Please try again.")}finally{l(null)}},Q=async y=>{l(y),d(""),f("");try{await Gt(ve(se,"cards",y),{assignedHost:null,updatedAt:Pe()});const C=n.find(F=>F.id===y);f(`Successfully unassigned "${C==null?void 0:C.title}"`)}catch(C){console.error("Error unassigning card:",C),d("Failed to unassign card. Please try again.")}finally{l(null)}},B=y=>{const C=e.find(F=>F.id===y);return(C==null?void 0:C.displayName)||(C==null?void 0:C.email)||"Unknown Host"},m=n.filter(y=>{var C;return y.title.toLowerCase().includes(w.toLowerCase())||y.type.toLowerCase().includes(w.toLowerCase())||((C=y.location)==null?void 0:C.toLowerCase().includes(w.toLowerCase()))});return t("admin")?s?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("h3",{className:"text-xl font-semibold flex items-center",children:[o.jsx(mm,{className:"w-6 h-6 mr-2 text-blue-600"}),"Assign Cards to Hosts"]}),o.jsxs("div",{className:"text-sm text-gray-600",children:[n.length," total cards • ",e.length," hosts available"]})]}),u&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4",children:u}),h&&o.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-4",children:h}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search cards by title, type, or location...",value:w,onChange:y=>v(y.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),m.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(mm,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:w?"No cards match your search":"No cards found"})]}):o.jsx("div",{className:"space-y-4",children:m.map(y=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("div",{className:"flex-1",children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 font-semibold text-sm",children:y.type.charAt(0).toUpperCase()})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:y.title}),o.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[o.jsx("span",{children:y.type}),y.location&&o.jsxs(o.Fragment,{children:[o.jsx("span",{children:"•"}),o.jsx("span",{children:y.location})]}),o.jsx("span",{children:"•"}),o.jsxs("span",{className:"font-mono text-xs",children:["ID: ",y.Card_ID]})]}),y.assignedHost&&o.jsx("div",{className:"mt-1",children:o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[o.jsx(fr,{className:"w-3 h-3 mr-1"}),"Assigned to: ",B(y.assignedHost)]})})]})]})}),o.jsx("div",{className:"flex items-center space-x-2",children:y.assignedHost?o.jsx("button",{onClick:()=>Q(y.id),disabled:a===y.id,className:"px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:a===y.id?"Unassigning...":"Unassign"}):o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsxs("select",{onChange:C=>{C.target.value&&(_(y.id,C.target.value),C.target.value="")},disabled:a===y.id,className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm disabled:opacity-50",children:[o.jsx("option",{value:"",children:"Select Host"}),e.map(C=>o.jsx("option",{value:C.id,children:C.displayName||C.email},C.id))]}),a===y.id&&o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})]})})]})},y.id))}),o.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(OA,{className:"w-5 h-5 text-blue-600 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-800",children:"Assignment Guidelines"}),o.jsxs("ul",{className:"text-sm text-blue-700 mt-1 space-y-1",children:[o.jsx("li",{children:"• Assigned hosts can edit and manage their assigned cards"}),o.jsx("li",{children:"• Hosts cannot book their own assigned cards"}),o.jsx("li",{children:"• Only one host can be assigned per card"}),o.jsx("li",{children:"• Unassigned cards can be managed by any admin"})]})]})]})})]})}):o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:"Only administrators can assign cards to hosts."})},p6=()=>{const{hasRole:t}=xt(),[e,r]=k.useState([]),[n,A]=k.useState(!0),[s,i]=k.useState(null),[a,l]=k.useState(""),[u,d]=k.useState(""),[h,f]=k.useState("");k.useEffect(()=>{if(!t("admin"))return;const m=Wt(Ne(se,"users"));return Zr(m,C=>{const F=C.docs.map(T=>({id:T.id,...T.data()}));F.sort((T,E)=>{var b,S,R,N;const x=((S=(b=T.createdAt)==null?void 0:b.toDate)==null?void 0:S.call(b))||new Date(0);return(((N=(R=E.createdAt)==null?void 0:R.toDate)==null?void 0:N.call(R))||new Date(0)).getTime()-x.getTime()}),r(F),A(!1)},C=>{console.error("Error fetching users:",C),l("Failed to load users"),A(!1)})},[t]);const w=async(m,y)=>{if(confirm(`Are you sure you want to reset MFA for ${y}? This will disable their MFA and remove their secret key.`)){i(m),l(""),d("");try{await Gt(ve(se,"users",m),{mfaEnabled:!1,mfaSecret:"",updatedAt:Pe()}),await lr(Ne(se,"notifications"),{userId:m,type:"mfa_reset",title:"MFA Reset by Administrator",message:"Your Multi-Factor Authentication has been reset by an administrator. You can set up MFA again from your profile settings if needed.",read:!1,createdAt:Pe()}),d(`MFA has been reset for ${y}`)}catch(C){console.error("Error resetting MFA:",C),l("Failed to reset MFA. Please try again.")}finally{i(null)}}},v=async(m,y,C)=>{const F=["user","host","admin"],T=prompt(`Change role for ${y}. Current role: ${C}

Enter new role (user/host/admin):`,C);if(!(!T||!F.includes(T.toLowerCase())||T.toLowerCase()===C)&&confirm(`Are you sure you want to change ${y}'s role from ${C} to ${T.toLowerCase()}?`)){i(m),l(""),d("");try{await Gt(ve(se,"users",m),{role:T.toLowerCase(),updatedAt:Pe()}),await lr(Ne(se,"notifications"),{userId:m,type:"role_changed",title:"Account Role Updated",message:`Your account role has been changed from ${C} to ${T.toLowerCase()} by an administrator.`,read:!1,createdAt:Pe()}),d(`Role changed for ${y} from ${C} to ${T.toLowerCase()}`)}catch(E){console.error("Error changing role:",E),l("Failed to change role. Please try again.")}finally{i(null)}}},_=m=>m!=null&&m.toDate?m.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",Q=m=>{switch(m){case"admin":return"bg-red-100 text-red-800";case"host":return"bg-purple-100 text-purple-800";default:return"bg-blue-100 text-blue-800"}},B=e.filter(m=>{var y;return m.email.toLowerCase().includes(h.toLowerCase())||((y=m.displayName)==null?void 0:y.toLowerCase().includes(h.toLowerCase()))||m.role.toLowerCase().includes(h.toLowerCase())});return t("admin")?n?o.jsx("div",{className:"flex justify-center py-8",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):o.jsx("div",{className:"space-y-6",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("h3",{className:"text-xl font-semibold flex items-center",children:[o.jsx(fr,{className:"w-6 h-6 mr-2 text-blue-600"}),"User Settings (",e.length," users)"]})}),a&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-4",children:a}),u&&o.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg mb-4",children:u}),o.jsx("div",{className:"mb-6",children:o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search users by email, name, or role...",value:h,onChange:m=>f(m.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),B.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(fr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:h?"No users match your search":"No users found"})]}):o.jsx("div",{className:"space-y-4",children:B.map(m=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:o.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-2 sm:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx(fr,{className:"w-5 h-5 text-blue-600"})}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:m.displayName||m.email}),m.displayName&&o.jsx("p",{className:"text-sm text-gray-600",children:m.email}),m.phoneNumber&&o.jsxs("p",{className:"text-sm text-gray-500",children:["📞 ",m.phoneNumber]})]})]}),o.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${Q(m.role)}`,children:m.role.charAt(0).toUpperCase()+m.role.slice(1)}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center ${m.mfaEnabled?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:m.mfaEnabled?o.jsxs(o.Fragment,{children:[o.jsx(Dr,{className:"w-3 h-3 mr-1"}),"MFA Enabled"]}):o.jsxs(o.Fragment,{children:[o.jsx(Vv,{className:"w-3 h-3 mr-1"}),"MFA Disabled"]})})]})]}),o.jsxs("div",{className:"mt-2 text-xs text-gray-500 space-y-1",children:[o.jsxs("p",{children:["User ID: ",m.id]}),o.jsxs("p",{children:["Created: ",_(m.createdAt)]}),m.updatedAt&&o.jsxs("p",{children:["Updated: ",_(m.updatedAt)]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[o.jsxs("button",{onClick:()=>v(m.id,m.email,m.role),disabled:s===m.id,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[o.jsx(OD,{className:"w-4 h-4"}),o.jsx("span",{children:"Change Role"})]}),m.mfaEnabled&&o.jsx("button",{onClick:()=>w(m.id,m.email),disabled:s===m.id,className:"flex items-center justify-center space-x-2 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:s===m.id?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),o.jsx("span",{children:"Resetting..."})]}):o.jsxs(o.Fragment,{children:[o.jsx(Vv,{className:"w-4 h-4"}),o.jsx("span",{children:"Reset MFA"})]})})]})]})},m.id))}),o.jsx("div",{className:"mt-6 bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(OA,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-yellow-800",children:"Admin Actions"}),o.jsxs("ul",{className:"text-sm text-yellow-700 mt-1 space-y-1",children:[o.jsx("li",{children:"• Reset MFA: Disables MFA and removes secret key for the user"}),o.jsx("li",{children:"• Change Role: Modify user permissions (user/host/admin)"}),o.jsx("li",{children:"• Users will be notified of any changes made to their account"}),o.jsx("li",{children:"• All actions are logged and cannot be undone"})]})]})]})})]})}):o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg",children:"Only administrators can access user settings."})},w6=({onSuccess:t})=>{const{user:e,userProfile:r}=xt(),[n,A]=k.useState(""),[s,i]=k.useState(!1),[a,l]=k.useState(""),[u,d]=k.useState(!1),h=async f=>{if(f.preventDefault(),!e){l("You must be logged in to submit a request");return}if(!n.trim()){l("Please provide a reason for your MFA reset request");return}i(!0),l("");try{await lr(Ne(se,"Requests"),{userId:e.uid,userEmail:e.email,userDisplayName:(r==null?void 0:r.displayName)||"",userPhoneNumber:(r==null?void 0:r.phoneNumber)||"",message:n,status:"pending",requestType:"mfa-reset",createdAt:Pe(),updatedAt:Pe()}),A(""),d(!0),setTimeout(()=>d(!1),5e3),t&&t()}catch(w){console.error("Error submitting MFA reset request:",w),l("Failed to submit request. Please try again.")}finally{i(!1)}};return r!=null&&r.mfaEnabled?u?o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[o.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(gl,{className:"w-8 h-8 text-green-600"})}),o.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"MFA Reset Request Submitted!"}),o.jsx("p",{className:"text-gray-600 mb-6",children:"Your request to reset Multi-Factor Authentication has been sent to the administrators. You will be notified once it's reviewed."}),o.jsx("button",{onClick:()=>d(!1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Submit Another Request"})]}):o.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[o.jsxs("div",{className:"flex items-center mb-6",children:[o.jsx(Dr,{className:"w-6 h-6 mr-2 text-red-600"}),o.jsx("h3",{className:"text-xl font-semibold",children:"Request MFA Reset"})]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(OA,{className:"w-5 h-5 text-yellow-600 mr-3 mt-0.5"}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-sm font-semibold text-yellow-800",children:"Important Notice"}),o.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This request will be reviewed by administrators. Only submit this request if you've lost access to your authenticator app or device. Once approved, your MFA will be completely reset and you'll need to set it up again."})]})]})}),a&&o.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:a}),o.jsxs("form",{onSubmit:h,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason for MFA Reset Request *"}),o.jsx("textarea",{value:n,onChange:f=>A(f.target.value),placeholder:"Please explain why you need your MFA reset (e.g., lost device, new phone, authenticator app issues, etc.)",rows:4,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[o.jsx("h4",{className:"text-sm font-semibold text-blue-800 mb-2",children:"What happens next?"}),o.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[o.jsx("li",{children:"• Your request will be reviewed by an administrator"}),o.jsx("li",{children:"• You'll receive a notification with the decision"}),o.jsx("li",{children:"• If approved, your MFA will be reset immediately"}),o.jsx("li",{children:"• You can then set up MFA again from your profile"})]})]}),o.jsx("button",{type:"submit",disabled:s,className:"w-full bg-red-600 text-white py-3 px-6 rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 font-medium",children:s?"Submitting Request...":"Submit MFA Reset Request"})]})]}):o.jsx("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded-lg",children:o.jsxs("div",{className:"flex items-center",children:[o.jsx(Dr,{className:"w-5 h-5 mr-2"}),o.jsx("span",{children:"MFA is not enabled on your account. You can enable it from your profile settings."})]})})},zf=10,y6=()=>{const{user:t,hasRole:e,userProfile:r}=xt(),n=rn(),[A,s]=k.useState("bookings"),[i,a]=k.useState("host-requests"),[l,u]=k.useState([]),[d,h]=k.useState([]),[f,w]=k.useState([]),[v,_]=k.useState(!0),[Q,B]=k.useState(new Set),[m,y]=k.useState(1),[C,F]=k.useState(1),[T,E]=k.useState(1);k.useEffect(()=>{if(!t){n("/");return}const j=[],W=Wt(Ne(se,"bookings"),xr("userId","==",t.uid),Yc("bookingTime","desc")),ue=Zr(W,async ye=>{const Be=[];for(const Ke of ye.docs){const dt={id:Ke.id,...Ke.data()};try{const nt=await ar(ve(se,"cards",dt.cardId));if(nt.exists()){const Ds=nt.data();dt.cardTitle=Ds.title,dt.cardType=Ds.type,dt.cardLocation=Ds.location}}catch(nt){console.error("Error fetching card details:",nt)}Be.push(dt)}u(Be),_(!1)});if(j.push(ue),e("admin")){const ye=Wt(Ne(se,"Requests"),Yc("createdAt","desc")),Be=Zr(ye,Ke=>{const dt=Ke.docs.map(nt=>({id:nt.id,...nt.data()}));h(dt)});j.push(Be)}const he=Wt(Ne(se,"notifications"),xr("userId","==",t.uid),Yc("createdAt","desc")),be=Zr(he,ye=>{const Be=ye.docs.map(Ke=>({id:Ke.id,...Ke.data()}));w(Be)});return j.push(be),()=>{j.forEach(ye=>ye())}},[t,e,n]);const x=()=>{const j="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let W="";for(let ue=0;ue<30;ue++)W+=j.charAt(Math.floor(Math.random()*j.length));return W},I=async(j,W,ue)=>{if(!ue.trim()){alert("Please provide a response message");return}try{if(W.requestType==="host-request"){if(await Gt(ve(se,"users",W.userId),{role:"host",updatedAt:Pe()}),W.cardData){const be=x();await lr(Ne(se,"cards"),{...W.cardData,Card_ID:be,userId:W.userId,assignedHost:W.userId,createdAt:Pe(),updatedAt:Pe()})}}else if(W.requestType==="new-card"&&W.cardData){const be=x();await lr(Ne(se,"cards"),{...W.cardData,Card_ID:be,userId:W.userId,createdAt:Pe(),updatedAt:Pe()})}else W.requestType==="mfa-reset"&&await Gt(ve(se,"users",W.userId),{mfaEnabled:!1,mfaSecret:"",updatedAt:Pe()});await Gt(ve(se,"Requests",j),{status:"approved",adminResponse:ue,updatedAt:Pe()});let he=ue;W.requestType==="host-request"?he+=`

Your request to become a host has been approved. You can now create and manage cards.`:W.requestType==="new-card"?he+=`

Your card request has been approved and the card has been created.`:W.requestType==="mfa-reset"&&(he+=`

Your MFA has been reset. You can set up MFA again from your profile settings.`),await lr(Ne(se,"notifications"),{userId:W.userId,type:"request_approved",title:"Request Approved!",message:he,read:!1,createdAt:Pe()})}catch(he){console.error("Error approving request:",he),alert("Failed to approve request. Please try again.")}},b=async(j,W,ue)=>{if(!ue.trim()){alert("Please provide a response message");return}try{await Gt(ve(se,"Requests",j),{status:"rejected",adminResponse:ue,updatedAt:Pe()});let he=ue;W.requestType==="host-request"?he+=`

Your request to become a host has been rejected.`:W.requestType==="new-card"?he+=`

Your card request has been rejected.`:W.requestType==="mfa-reset"&&(he+=`

Your MFA reset request has been rejected.`),await lr(Ne(se,"notifications"),{userId:W.userId,type:"request_rejected",title:"Request Rejected",message:he,read:!1,createdAt:Pe()})}catch(he){console.error("Error rejecting request:",he),alert("Failed to reject request. Please try again.")}},S=async j=>{try{await Gt(ve(se,"notifications",j),{read:!0})}catch(W){console.error("Error marking notification as read:",W)}},R=async j=>{try{await Gu(ve(se,"notifications",j))}catch(W){console.error("Error deleting notification:",W)}},N=j=>{n(`/receipt/${j}`)},J=j=>{B(W=>{const ue=new Set(W);return ue.has(j)?ue.delete(j):ue.add(j),ue})},te=async(j,W)=>{try{await Gt(ve(se,"bookings",j),{openSlots:W})}catch(ue){console.error("Error updating open slots:",ue),alert("Failed to update open slots. Please try again.")}},ee=j=>new Date(j).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),ne=j=>j!=null&&j.toDate?j.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"Unknown",L=j=>new Date(j.date+" "+j.timeSlot)<new Date,M=l.filter(j=>!L(j)),V=l.filter(j=>L(j)),q=f.filter(j=>!j.read),X=d.filter(j=>j.requestType==="host-request"||j.requestType==="new-card"),K=d.filter(j=>j.requestType==="mfa-reset"),oe=(j,W)=>{const ue=(W-1)*zf,he=ue+zf;return j.slice(ue,he)},ae=j=>Math.ceil(j.length/zf),z=({currentPage:j,totalPages:W,onPageChange:ue})=>W<=1?null:o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4 mt-6",children:[o.jsxs("button",{onClick:()=>ue(j-1),disabled:j===1,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[o.jsx(Xd,{className:"w-4 h-4 mr-1"}),"Previous"]}),o.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:Array.from({length:Math.min(5,W)},(he,be)=>{let ye;return W<=5||j<=3?ye=be+1:j>=W-2?ye=W-4+be:ye=j-2+be,o.jsx("button",{onClick:()=>ue(ye),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${ye===j?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700"}`,children:ye},ye)})}),o.jsxs("button",{onClick:()=>ue(j+1),disabled:j===W,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["Next",o.jsx(Yd,{className:"w-4 h-4 ml-1"})]})]}),Z=j=>{const W={user:"bg-blue-100 text-blue-800",host:"bg-purple-100 text-purple-800",admin:"bg-red-100 text-red-800"};return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${W[j]||"bg-gray-100 text-gray-800"}`,children:j.charAt(0).toUpperCase()+j.slice(1)})};if(!t)return o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"text-center",children:o.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Please log in to access your dashboard"})})});if(v)return o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});const H=[{id:"bookings",label:"Your Bookings",icon:qr},{id:"notifications",label:`Notifications ${q.length>0?`(${q.length})`:""}`,icon:Lv},...e("user")?[{id:"host-request",label:"Become a Host",icon:t1},{id:"mfa-reset",label:"MFA Reset",icon:Dr}]:[],...e("host")?[{id:"cards",label:"Your Cards",icon:cn},{id:"request-card",label:"Request New Card",icon:cn},{id:"mfa-reset",label:"MFA Reset",icon:Dr}]:[],...e("admin")?[{id:"cards",label:"All Cards",icon:cn},{id:"add-card",label:"Add Card",icon:DD},{id:"requests",label:"Requests",icon:cn},{id:"assign-cards",label:"Assign Cards",icon:mm},{id:"user-settings",label:"User Settings",icon:fr},{id:"manage-homepage",label:"Manage Homepage",icon:YI},{id:"manage-hosts",label:"Manage Hosts",icon:fr}]:[]];return o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Dashboard"}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[o.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(r==null?void 0:r.displayName)||t.email]}),(r==null?void 0:r.role)&&Z(r.role)]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-lg mb-8",children:[o.jsx("div",{className:"border-b border-gray-200",children:o.jsx("nav",{className:"flex space-x-2 sm:space-x-8 px-4 sm:px-6 overflow-x-auto","aria-label":"Tabs",children:H.map(j=>{const W=j.icon;return o.jsxs("button",{onClick:()=>s(j.id),className:`py-4 px-1 border-b-2 font-medium text-xs sm:text-sm flex items-center space-x-2 transition-colors duration-200 whitespace-nowrap ${A===j.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[o.jsx(W,{className:"w-4 h-4"}),o.jsx("span",{className:"hidden sm:inline",children:j.label}),o.jsx("span",{className:"sm:hidden",children:j.label.split(" ")[0]})]},j.id)})})}),o.jsxs("div",{className:"p-4 sm:p-6",children:[A==="bookings"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Your Bookings"}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Upcoming Bookings (",M.length,")"]}),M.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[o.jsx(qr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No upcoming bookings"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4",children:oe(M,m).map(j=>o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:j.cardTitle||"Unknown Card"}),o.jsxs("div",{className:"text-sm text-gray-600 mt-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(qr,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:ee(j.date)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:j.timeSlot})]}),j.cardLocation&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-4 h-4 mr-2",children:"📍"}),o.jsx("span",{children:j.cardLocation})]}),j.openSlots&&j.openSlots>0&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(fr,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:[j.openSlots," open slots"]}),j.perSlotPrice&&o.jsxs("span",{className:"ml-2 text-green-600",children:["@ ₹",j.perSlotPrice,"/slot"]})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[o.jsxs("button",{onClick:()=>N(j.id),className:"flex items-center justify-center space-x-1 px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm",children:[o.jsx(Mv,{className:"w-4 h-4"}),o.jsx("span",{children:"Receipt"})]}),j.openSlots&&j.openSlots>0&&o.jsxs("button",{onClick:()=>J(j.id),className:"flex items-center justify-center space-x-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200 text-sm",children:[o.jsx(K0,{className:"w-4 h-4"}),o.jsx("span",{children:"Edit Slots"}),Q.has(j.id)?o.jsx(ND,{className:"w-4 h-4"}):o.jsx(qI,{className:"w-4 h-4"})]})]})]}),Q.has(j.id)&&j.openSlots&&j.openSlots>0&&o.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[o.jsx("h5",{className:"font-medium text-gray-800 mb-3",children:"Edit Open Slots"}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[o.jsxs("span",{className:"text-sm text-gray-600",children:["Current open slots: ",j.openSlots]}),o.jsx("div",{className:"flex flex-wrap gap-2",children:Array.from({length:j.openSlots},(W,ue)=>o.jsxs("button",{onClick:()=>te(j.id,j.openSlots-1),className:"flex items-center space-x-1 px-2 py-1 bg-red-100 text-red-700 rounded hover:bg-red-200 transition-colors duration-200 text-sm",children:[o.jsx(jD,{className:"w-3 h-3"}),o.jsx("span",{children:"Remove 1"})]},ue))})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"You can only decrease the number of open slots. Once removed, slots cannot be added back."})]})]},j.id))}),o.jsx(z,{currentPage:m,totalPages:ae(M),onPageChange:y})]})]}),o.jsxs("div",{children:[o.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:["Completed Bookings (",V.length,")"]}),V.length===0?o.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg",children:[o.jsx(gl,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500",children:"No completed bookings"})]}):o.jsx("div",{className:"space-y-4",children:oe(V,m).map(j=>o.jsx("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-700",children:j.cardTitle||"Unknown Card"}),o.jsxs("div",{className:"text-sm text-gray-500 mt-1 space-y-1",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(qr,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:ee(j.date)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:j.timeSlot})]}),j.cardLocation&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"w-4 h-4 mr-2",children:"📍"}),o.jsx("span",{children:j.cardLocation})]})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[o.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs font-medium text-center",children:"Completed"}),o.jsxs("button",{onClick:()=>N(j.id),className:"flex items-center justify-center space-x-1 px-3 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200 text-sm",children:[o.jsx(Mv,{className:"w-4 h-4"}),o.jsx("span",{children:"Receipt"})]})]})]})},j.id))})]})]}),A==="notifications"&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Notifications"}),f.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(Lv,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No notifications"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4",children:oe(f,C).map(j=>o.jsx("div",{className:`border rounded-lg p-4 ${j.read?"border-gray-200 bg-white":"border-blue-200 bg-blue-50"}`,children:o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start space-y-4 sm:space-y-0",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:j.title}),o.jsx("p",{className:"text-gray-600 mt-1 text-sm sm:text-base",children:j.message}),(j.joinedByDisplayName||j.joinedByEmail||j.bookedByDisplayName||j.bookedByEmail)&&o.jsxs("div",{className:"mt-2 text-sm text-blue-600",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Player:"})," ",j.joinedByDisplayName||j.bookedByDisplayName||j.joinedByEmail||j.bookedByEmail]}),j.joinedByPhoneNumber||j.bookedByPhoneNumber?o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," ",j.joinedByPhoneNumber||j.bookedByPhoneNumber]}):o.jsxs("p",{children:[o.jsx("strong",{children:"Phone:"})," N/A"]}),j.joinedSlots&&o.jsxs("p",{children:[o.jsx("strong",{children:"Slots Joined:"})," ",j.joinedSlots]}),j.bookingTimeSlots&&o.jsxs("p",{children:[o.jsx("strong",{children:"Time Slots:"})," ",j.bookingTimeSlots.join(", ")]})]}),o.jsx("p",{className:"text-xs text-gray-500 mt-2",children:ne(j.createdAt)})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-2",children:[!j.read&&o.jsx("button",{onClick:()=>S(j.id),className:"text-blue-600 hover:text-blue-800 text-sm px-3 py-1 border border-blue-300 rounded hover:bg-blue-50 transition-colors duration-200",children:"Mark as read"}),o.jsx("button",{onClick:()=>R(j.id),className:"text-red-600 hover:text-red-800 p-2 hover:bg-red-50 rounded transition-colors duration-200",children:o.jsx(e1,{className:"w-4 h-4"})})]})]})},j.id))}),o.jsx(z,{currentPage:C,totalPages:ae(f),onPageChange:F})]})]}),A==="host-request"&&e("user")&&o.jsx(h6,{}),A==="mfa-reset"&&(e("user")||e("host"))&&o.jsx(w6,{}),A==="request-card"&&e("host")&&o.jsx(d6,{}),A==="cards"&&(e("host")||e("admin"))&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:e("admin")?"All Cards":"Your Cards"}),o.jsx(u6,{})]}),A==="add-card"&&e("admin")&&o.jsx(c6,{}),A==="assign-cards"&&e("admin")&&o.jsx(m6,{}),A==="user-settings"&&e("admin")&&o.jsx(p6,{}),A==="requests"&&e("admin")&&o.jsxs("div",{className:"space-y-6",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900",children:"Requests"}),o.jsx("div",{className:"border-b border-gray-200",children:o.jsxs("nav",{className:"flex space-x-8","aria-label":"Request Types",children:[o.jsxs("button",{onClick:()=>a("host-requests"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${i==="host-requests"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Host Requests (",X.length,")"]}),o.jsxs("button",{onClick:()=>a("mfa-reset"),className:`py-2 px-1 border-b-2 font-medium text-sm transition-colors duration-200 ${i==="mfa-reset"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["MFA Reset Requests (",K.length,")"]})]})}),i==="host-requests"&&o.jsx("div",{children:X.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(cn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No host requests"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4",children:oe(X,T).map(j=>o.jsx(Wx,{request:j,onApprove:I,onReject:b,formatTime:ne},j.id))}),o.jsx(z,{currentPage:T,totalPages:ae(X),onPageChange:E})]})}),i==="mfa-reset"&&o.jsx("div",{children:K.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx(Dr,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-500 text-lg",children:"No MFA reset requests"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"space-y-4",children:oe(K,T).map(j=>o.jsx(Wx,{request:j,onApprove:I,onReject:b,formatTime:ne},j.id))}),o.jsx(z,{currentPage:T,totalPages:ae(K),onPageChange:E})]})})]}),A==="manage-homepage"&&e("admin")&&o.jsx(f6,{}),A==="manage-hosts"&&e("admin")&&o.jsx(g6,{})]})]})]})},Wx=({request:t,onApprove:e,onReject:r,formatTime:n})=>{const[A,s]=k.useState(""),[i,a]=k.useState(!1),l=()=>{if(!A.trim()){alert("Please provide a response message");return}e(t.id,t,A),s(""),a(!1)},u=()=>{if(!A.trim()){alert("Please provide a response message");return}r(t.id,t,A),s(""),a(!1)},d=f=>{switch(f){case"host-request":return"Host Request";case"new-card":return"New Card Request";case"mfa-reset":return"MFA Reset Request";default:return"Request"}},h=f=>{switch(f){case"host-request":return o.jsx(t1,{className:"w-5 h-5 text-purple-600"});case"new-card":return o.jsx(cn,{className:"w-5 h-5 text-blue-600"});case"mfa-reset":return o.jsx(Dr,{className:"w-5 h-5 text-red-600"});default:return o.jsx(cn,{className:"w-5 h-5 text-gray-600"})}};return o.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 sm:p-6",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start mb-4 space-y-2 sm:space-y-0",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[h(t.requestType),o.jsxs("div",{children:[o.jsx("h4",{className:"font-semibold text-gray-900",children:d(t.requestType)}),o.jsxs("p",{className:"text-sm text-gray-600",children:["From: ",t.userDisplayName||t.userEmail]}),t.userPhoneNumber&&o.jsxs("p",{className:"text-sm text-gray-500",children:["📞 ",t.userPhoneNumber]}),o.jsx("p",{className:"text-xs text-gray-500",children:n(t.createdAt)})]})]}),o.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${t.status==="pending"?"bg-yellow-100 text-yellow-800":t.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Message:"}),o.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded text-sm",children:t.message})]}),t.cardData&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Card Details:"}),o.jsxs("div",{className:"bg-gray-50 p-3 rounded space-y-2 text-sm",children:[o.jsxs("p",{children:[o.jsx("strong",{children:"Title:"})," ",t.cardData.title]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Type:"})," ",t.cardData.type]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Location:"})," ",t.cardData.location]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Price per Hour:"})," ₹",t.cardData.pricePerHour]}),o.jsxs("p",{children:[o.jsx("strong",{children:"Hours:"})," ",t.cardData.openingTime," - ",t.cardData.closingTime]}),t.cardData.description&&o.jsxs("p",{children:[o.jsx("strong",{children:"Description:"})," ",t.cardData.description]})]})]}),t.adminResponse&&o.jsxs("div",{className:"mb-4",children:[o.jsx("h5",{className:"font-medium text-gray-800 mb-2",children:"Admin Response:"}),o.jsx("p",{className:"text-gray-600 bg-blue-50 p-3 rounded border border-blue-200 text-sm",children:t.adminResponse})]}),t.status==="pending"&&o.jsx("div",{className:"space-y-3",children:i?o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Admin Response (Required) *"}),o.jsx("textarea",{value:A,onChange:f=>s(f.target.value),placeholder:"Provide your response to the user...",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3",children:[o.jsxs("button",{onClick:l,disabled:!A.trim(),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[o.jsx(gl,{className:"w-4 h-4"}),o.jsx("span",{children:"Approve"})]}),o.jsxs("button",{onClick:u,disabled:!A.trim(),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed text-sm",children:[o.jsx(VD,{className:"w-4 h-4"}),o.jsx("span",{children:"Reject"})]}),o.jsx("button",{onClick:()=>{a(!1),s("")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors duration-200 text-sm",children:"Cancel"})]})]}):o.jsx("button",{onClick:()=>a(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm",children:"Respond to Request"})})]})},B6=({onSearch:t,onFilterChange:e,availableTypes:r})=>{const[n,A]=k.useState(""),[s,i]=k.useState(!1),[a,l]=k.useState({type:"",minPrice:0,maxPrice:0,date:"",time:""}),u=v=>{A(v),t(v)},d=(v,_)=>{const Q={...a,[v]:_};l(Q),e(Q)},h=()=>{const v={type:"",minPrice:0,maxPrice:0,date:"",time:""};l(v),e(v)},f=a.type||a.minPrice>0||a.maxPrice>0||a.date||a.time,w=[];for(let v=6;v<=22;v++){const _=v>12?`${v-12}:00 PM`:v===12?"12:00 PM":`${v}:00 AM`;w.push(_)}return o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search cards by title, type, or location...",value:n,onChange:v=>u(v.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"})]}),o.jsxs("button",{onClick:()=>i(!s),className:`flex items-center px-4 py-3 border rounded-lg transition-colors duration-200 text-sm sm:text-base ${s||f?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[o.jsx(JI,{className:"w-5 h-5 mr-2"}),"Filters",f&&o.jsx("span",{className:"ml-2 bg-white text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"!"})]})]}),s&&o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),f&&o.jsxs("button",{onClick:h,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[o.jsx(et,{className:"w-4 h-4 mr-1"}),"Clear all"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sport Type"}),o.jsxs("select",{value:a.type,onChange:v=>d("type",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[o.jsx("option",{value:"",children:"All Types"}),r.map(v=>o.jsx("option",{value:v,children:v},v))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(qr,{className:"w-4 h-4 mr-1"}),"Date"]}),o.jsx("input",{type:"date",value:a.date,onChange:v=>d("date",v.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2 flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Time"]}),o.jsxs("select",{value:a.time,onChange:v=>d("time",v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[o.jsx("option",{value:"",children:"Any Time"}),w.map(v=>o.jsx("option",{value:v,children:v},v))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price (₹/hour)"}),o.jsx("input",{type:"number",value:a.minPrice||"",onChange:v=>d("minPrice",parseInt(v.target.value)||0),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (₹/hour)"}),o.jsx("input",{type:"number",value:a.maxPrice||"",onChange:v=>d("maxPrice",parseInt(v.target.value)||0),placeholder:"Any",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),f&&o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.type&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:["Type: ",a.type,o.jsx("button",{onClick:()=>d("type",""),className:"ml-2 text-blue-600 hover:text-blue-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),a.date&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:["Date: ",new Date(a.date).toLocaleDateString(),o.jsx("button",{onClick:()=>d("date",""),className:"ml-2 text-purple-600 hover:text-purple-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),a.time&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800",children:["Time: ",a.time,o.jsx("button",{onClick:()=>d("time",""),className:"ml-2 text-orange-600 hover:text-orange-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),a.minPrice>0&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Min: ₹",a.minPrice,o.jsx("button",{onClick:()=>d("minPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),a.maxPrice>0&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Max: ₹",a.maxPrice,o.jsx("button",{onClick:()=>d("maxPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:o.jsx(et,{className:"w-3 h-3"})})]})]})]})]})},Fo=9;function v6(){const[t,e]=k.useState([]),[r,n]=k.useState(!0),[A,s]=k.useState(""),[i,a]=k.useState(1),[l,u]=k.useState(""),[d,h]=k.useState({type:"",minPrice:0,maxPrice:0,date:"",time:""}),f=rn(),w=k.useMemo(()=>{let C=t;if(l){const F=l.toLowerCase();C=C.filter(T=>{var E,x;return T.title.toLowerCase().includes(F)||T.type.toLowerCase().includes(F)||((E=T.location)==null?void 0:E.toLowerCase().includes(F))||((x=T.description)==null?void 0:x.toLowerCase().includes(F))})}return d.type&&(C=C.filter(F=>F.type===d.type)),d.minPrice>0&&(C=C.filter(F=>F.pricePerHour>=d.minPrice)),d.maxPrice>0&&(C=C.filter(F=>F.pricePerHour<=d.maxPrice)),d.time&&(C=C.filter(F=>{if(!F.openingTime||!F.closingTime)return!0;const T=E=>{const[x,I]=E.split(" "),[b,S]=x.split(":").map(Number);let R=b;return(I==null?void 0:I.toUpperCase())==="PM"&&b!==12?R+=12:(I==null?void 0:I.toUpperCase())==="AM"&&b===12&&(R=0),R*60+(S||0)};try{const E=T(d.time),x=T(F.openingTime),I=T(F.closingTime);return E>=x&&E<I}catch{return!0}})),C},[t,l,d]),v=k.useMemo(()=>{const C=(i-1)*Fo,F=C+Fo;return w.slice(C,F)},[w,i]),_=Math.ceil(w.length/Fo),Q=k.useMemo(()=>[...new Set(t.map(C=>C.type))].filter(Boolean),[t]);k.useEffect(()=>{let C=null;return(()=>{try{n(!0),s("");const T=Wt(Ne(se,"cards"),Yc("createdAt","desc"),sP(100));C=Zr(T,E=>{const x=[];E.forEach(I=>{x.push({id:I.id,...I.data()})}),e(x),n(!1)},E=>{console.error("Error in real-time listener:",E),s("Unable to load community cards at the moment."),n(!1)})}catch(T){console.error("Error setting up real-time listener:",T),s("Unable to load community cards at the moment."),n(!1)}})(),()=>{C&&C()}},[]),k.useEffect(()=>{a(1)},[l,d]);const B=C=>{C>=1&&C<=_&&a(C)},m=C=>{u(C)},y=C=>{h(C)};return r&&t.length===0?o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"Community Cards"}),o.jsx("div",{className:"flex justify-center items-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):A?o.jsxs("div",{className:"mb-12",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6",children:"Community Cards"}),o.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg",children:[o.jsx("p",{children:A}),o.jsx("p",{className:"text-sm mt-1",children:"Please try refreshing the page or contact support if the issue persists."})]})]}):o.jsxs("div",{className:"mb-12",children:[o.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:[o.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Community Cards"}),o.jsx("div",{className:"text-sm text-gray-600",children:w.length>0?o.jsxs(o.Fragment,{children:["Showing ",(i-1)*Fo+1,"-",Math.min(i*Fo,w.length)," of ",w.length," cards"]}):o.jsx(o.Fragment,{children:"No cards found"})})]}),o.jsx(B6,{onSearch:m,onFilterChange:y,availableTypes:Q}),w.length===0?o.jsxs("div",{className:"text-center py-12 bg-gray-50 rounded-lg",children:[o.jsx("p",{className:"text-gray-500 text-lg",children:l||d.type||d.minPrice>0||d.maxPrice>0||d.date||d.time?"No cards match your search criteria.":"No community cards available yet."}),o.jsx("p",{className:"text-gray-400 text-sm mt-2",children:l||d.type||d.minPrice>0||d.maxPrice>0||d.date||d.time?"Try adjusting your search or filters.":"Be the first to create and share a card!"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:v.map(C=>o.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 cursor-pointer transform hover:scale-105",onClick:()=>f(`/card/${C.id}`),children:[o.jsxs("div",{className:"relative h-48 bg-gray-200",children:[o.jsx("img",{src:C.imageUrl,alt:C.title,className:"w-full h-full object-cover",onError:F=>{const T=F.target;T.src="https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}}),o.jsx("div",{className:"absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded text-xs sm:text-sm",children:"Community"}),C.pricePerHour>0&&o.jsxs("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded text-xs sm:text-sm font-semibold",children:["₹",C.pricePerHour,"/hr"]})]}),o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 line-clamp-1",children:C.title}),o.jsx("div",{className:"flex items-center justify-between mb-3",children:o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs sm:text-sm px-3 py-1 rounded-full",children:C.type})}),C.location&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm mb-2",children:[o.jsx(yn,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:C.location})]}),C.pricePerHour>0&&o.jsx("div",{className:"flex items-center text-green-600 text-sm mb-2",children:o.jsxs("span",{className:"font-semibold",children:["₹",C.pricePerHour," per hour"]})}),(C.openingTime||C.closingTime)&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:C.openingTime&&C.closingTime?`${C.openingTime} - ${C.closingTime}`:C.openingTime||C.closingTime})]})]})]},C.id))}),_>1&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[o.jsxs("button",{onClick:()=>B(i-1),disabled:i===1,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[o.jsx(Xd,{className:"w-4 h-4 mr-1"}),"Previous"]}),o.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:Array.from({length:Math.min(5,_)},(C,F)=>{let T;return _<=5||i<=3?T=F+1:i>=_-2?T=_-4+F:T=i-2+F,o.jsx("button",{onClick:()=>B(T),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${T===i?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700"}`,children:T},T)})}),o.jsxs("button",{onClick:()=>B(i+1),disabled:i===_,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["Next",o.jsx(Yd,{className:"w-4 h-4 ml-1"})]})]})]})]})}const Qo=6,x6=()=>{const[t,e]=k.useState([]),[r,n]=k.useState([]),[A,s]=k.useState([]),[i,a]=k.useState(!0),[l,u]=k.useState(""),[d,h]=k.useState(!1),[f,w]=k.useState(null),[v,_]=k.useState(1),[Q,B]=k.useState(!1),[m,y]=k.useState(""),[C,F]=k.useState(!1),[T,E]=k.useState({type:"",location:"",minPrice:0,maxPrice:0,date:""}),[x,I]=k.useState(1),b=rn(),{user:S,hasRole:R,userProfile:N}=xt(),J=Math.ceil(r.length/Qo),te=[...new Set(t.map(H=>H.cardType).filter(Boolean))],ee=[...new Set(t.map(H=>H.cardLocation).filter(Boolean))];k.useEffect(()=>{const j=(()=>{try{a(!0),u("");const W=Wt(Ne(se,"bookings"),xr("openSlots",">",0));return Zr(W,async he=>{const be=[];for(const ye of he.docs){const Be={id:ye.id,...ye.data()};try{const dt=await ar(ve(se,"cards",Be.cardId));if(dt.exists()){const nt=dt.data();Be.cardTitle=nt.title,Be.cardType=nt.type,Be.cardImageUrl=nt.imageUrl,Be.cardOpeningTime=nt.openingTime,Be.cardClosingTime=nt.closingTime,Be.cardLocation=nt.location,Be.cardPricePerHour=nt.pricePerHour}}catch(dt){console.error("Error fetching card details:",dt)}new Date(Be.date+" "+Be.timeSlot)>new Date&&be.push(Be)}be.sort((ye,Be)=>{const Ke=new Date(ye.date+" "+ye.timeSlot),dt=new Date(Be.date+" "+Be.timeSlot);return Ke.getTime()-dt.getTime()}),e(be),a(!1)},he=>{console.error("Error in real-time listener:",he),u("Unable to load games at the moment."),a(!1)})}catch(W){console.error("Error setting up real-time listener:",W),u("Unable to load games at the moment."),a(!1)}})();return()=>{j&&j()}},[]),k.useEffect(()=>{let H=t;m&&(H=H.filter(j=>{var W,ue,he;return((W=j.cardTitle)==null?void 0:W.toLowerCase().includes(m.toLowerCase()))||((ue=j.cardType)==null?void 0:ue.toLowerCase().includes(m.toLowerCase()))||((he=j.cardLocation)==null?void 0:he.toLowerCase().includes(m.toLowerCase()))})),T.type&&(H=H.filter(j=>j.cardType===T.type)),T.location&&(H=H.filter(j=>j.cardLocation===T.location)),T.minPrice>0&&(H=H.filter(j=>(j.perSlotPrice||0)>=T.minPrice)),T.maxPrice>0&&(H=H.filter(j=>(j.perSlotPrice||0)<=T.maxPrice)),T.date&&(H=H.filter(j=>j.date===T.date)),n(H),I(1)},[t,m,T]),k.useEffect(()=>{const H=(x-1)*Qo,j=H+Qo;s(r.slice(H,j))},[x,r]);const ne=H=>{H>=1&&H<=J&&I(H)},L=H=>{y(H)},M=(H,j)=>{E(W=>({...W,[H]:j}))},V=()=>{E({type:"",location:"",minPrice:0,maxPrice:0,date:""}),y("")},q=T.type||T.location||T.minPrice>0||T.maxPrice>0||T.date||m,X=H=>new Date(H).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),K=()=>!S||R("admin")?!1:R("user")||R("host"),oe=H=>{if(!S){h(!0);return}if(!K()){alert("Admins cannot join games");return}w(H),_(1)},ae=async()=>{if(!(!S||!f||!N)){if(v>f.openSlots){alert(`Only ${f.openSlots} slots available`);return}B(!0);try{const H=f.openSlots-v,j=ve(se,"bookings",f.id);await Gt(j,{openSlots:H});const W={userId:S.uid,cardId:f.cardId,Card_ID:f.Card_ID,date:f.date,timeSlot:f.timeSlot,joinedSlots:v,originalBookingId:f.id,bookingTime:new Date},ue=await lr(Ne(se,"bookings"),W);await lr(Ne(se,"notifications"),{userId:f.userId,type:"slot_joined",title:"Someone joined your game!",message:`A player has joined ${v} slot${v>1?"s":""} in your ${f.cardTitle} booking on ${X(f.date)} at ${f.timeSlot}`,bookingId:f.id,joinedByUserId:S.uid,joinedByEmail:S.email,joinedByDisplayName:N.displayName||"",joinedByPhoneNumber:N.phoneNumber||"",joinedSlots:v,read:!1,createdAt:new Date}),w(null),_(1),b(`/receipt/${ue.id}`)}catch(H){console.error("Error joining game:",H),alert("Failed to join game. Please try again.")}finally{B(!1)}}},z=()=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Login Required"}),o.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(et,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"p-6",children:[o.jsxs("div",{className:"text-center mb-6",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Mo,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Ready to Join?"}),o.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"You need to be logged in to join games. Please sign in to continue."})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>{h(!1),b("/"),setTimeout(()=>{const H=document.querySelector("[data-login-trigger]");H&&H.click()},100)},className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Sign In to Join"}),o.jsx("button",{onClick:()=>h(!1),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Maybe Later"})]})]})]})}),Z=()=>o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[o.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"Join Game"}),o.jsx("button",{onClick:()=>w(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(et,{className:"w-5 h-5 text-gray-500"})})]}),o.jsx("div",{className:"p-6",children:f&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:f.cardTitle}),o.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[o.jsxs("div",{className:"flex items-center",children:[o.jsx(qr,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:X(f.date)})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2"}),o.jsx("span",{children:f.timeSlot})]}),o.jsxs("div",{className:"flex items-center",children:[o.jsx(fr,{className:"w-4 h-4 mr-2"}),o.jsxs("span",{children:[f.openSlots," slots available"]})]}),f.perSlotPrice&&o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{className:"font-semibold text-green-600",children:["₹",f.perSlotPrice," per slot"]})})]})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"How many slots do you want to book?"}),o.jsx("select",{value:v,onChange:H=>_(Number(H.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:f.openSlots},(H,j)=>j+1).map(H=>o.jsxs("option",{value:H,children:[H," slot",H>1?"s":"",f.perSlotPrice&&` - ₹${H*f.perSlotPrice}`]},H))})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:ae,disabled:Q,className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium disabled:opacity-50",children:Q?"Joining...":`Join Game (${v} slot${v>1?"s":""}${f.perSlotPrice?` - ₹${v*f.perSlotPrice}`:""})`}),o.jsx("button",{onClick:()=>w(null),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Cancel"})]})]})})]})});return i?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsx("div",{className:"flex justify-center items-center min-h-[400px]",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):l?o.jsx("div",{className:"container mx-auto px-4 py-8",children:o.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg",children:[o.jsx("p",{children:l}),o.jsx("p",{className:"text-sm mt-1",children:"Please try refreshing the page or contact support if the issue persists."})]})}):o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-4",children:"Join Games"}),o.jsx("p",{className:"text-gray-600 text-base sm:text-lg",children:"Find games with open slots and join other players for exciting matches!"}),!S&&o.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4 sm:p-6",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(Mo,{className:"w-6 h-6 text-blue-600 mr-3 mt-1 flex-shrink-0"}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-lg font-semibold text-blue-800 mb-2",children:"Sign In Required"}),o.jsx("p",{className:"text-blue-700 mb-4 text-sm sm:text-base",children:"To view and join available games, you need to be signed in to your account. This helps us ensure a secure and personalized gaming experience."}),o.jsx("button",{onClick:()=>h(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium text-sm sm:text-base",children:"Sign In Now"})]})]})}),R("admin")&&o.jsx("div",{className:"mt-4 bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg",children:o.jsx("p",{className:"text-sm sm:text-base",children:"Admins cannot join games. This page is for viewing purposes only."})})]}),S?o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 sm:p-6 mb-8",children:[o.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[o.jsxs("div",{className:"flex-1 relative",children:[o.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:o.jsx(Zd,{className:"h-5 w-5 text-gray-400"})}),o.jsx("input",{type:"text",placeholder:"Search games by title, type, or location...",value:m,onChange:H=>L(H.target.value),className:"block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm sm:text-base"})]}),o.jsxs("button",{onClick:()=>F(!C),className:`flex items-center px-4 py-3 border rounded-lg transition-colors duration-200 text-sm sm:text-base ${C||q?"bg-blue-600 text-white border-blue-600":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,children:[o.jsx(JI,{className:"w-5 h-5 mr-2"}),"Filters",q&&o.jsx("span",{className:"ml-2 bg-white text-blue-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"!"})]})]}),C&&o.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[o.jsxs("div",{className:"flex justify-between items-center mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Filters"}),q&&o.jsxs("button",{onClick:V,className:"text-sm text-blue-600 hover:text-blue-800 flex items-center",children:[o.jsx(et,{className:"w-4 h-4 mr-1"}),"Clear all"]})]}),o.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Sport Type"}),o.jsxs("select",{value:T.type,onChange:H=>M("type",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[o.jsx("option",{value:"",children:"All Types"}),te.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),o.jsxs("select",{value:T.location,onChange:H=>M("location",H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[o.jsx("option",{value:"",children:"All Locations"}),ee.map(H=>o.jsx("option",{value:H,children:H},H))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),o.jsx("input",{type:"date",value:T.date,onChange:H=>M("date",H.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Min Price (₹/slot)"}),o.jsx("input",{type:"number",value:T.minPrice||"",onChange:H=>M("minPrice",parseInt(H.target.value)||0),placeholder:"0",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Max Price (₹/slot)"}),o.jsx("input",{type:"number",value:T.maxPrice||"",onChange:H=>M("maxPrice",parseInt(H.target.value)||0),placeholder:"Any",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"})]})]}),q&&o.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-gray-100 text-gray-800",children:["Search: ",m,o.jsx("button",{onClick:()=>y(""),className:"ml-2 text-gray-600 hover:text-gray-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),T.type&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:["Type: ",T.type,o.jsx("button",{onClick:()=>M("type",""),className:"ml-2 text-blue-600 hover:text-blue-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),T.location&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-purple-100 text-purple-800",children:["Location: ",T.location,o.jsx("button",{onClick:()=>M("location",""),className:"ml-2 text-purple-600 hover:text-purple-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),T.date&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-orange-100 text-orange-800",children:["Date: ",new Date(T.date).toLocaleDateString(),o.jsx("button",{onClick:()=>M("date",""),className:"ml-2 text-orange-600 hover:text-orange-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),T.minPrice>0&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Min: ₹",T.minPrice,o.jsx("button",{onClick:()=>M("minPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:o.jsx(et,{className:"w-3 h-3"})})]}),T.maxPrice>0&&o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800",children:["Max: ₹",T.maxPrice,o.jsx("button",{onClick:()=>M("maxPrice",0),className:"ml-2 text-green-600 hover:text-green-800",children:o.jsx(et,{className:"w-3 h-3"})})]})]})]})]}),o.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 space-y-4 sm:space-y-0",children:o.jsx("div",{className:"text-sm text-gray-600",children:r.length>0?o.jsxs(o.Fragment,{children:["Showing ",(x-1)*Qo+1,"-",Math.min(x*Qo,r.length)," of ",r.length," games"]}):o.jsx(o.Fragment,{children:"No games found"})})}),r.length===0?o.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[o.jsx(fr,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-600 mb-2",children:q?"No games match your criteria":"No Games Available"}),o.jsx("p",{className:"text-gray-500 mb-6 text-sm sm:text-base px-4",children:q?"Try adjusting your search or filters to find more games.":"There are currently no games with open slots. Check back later or create your own game!"}),q?o.jsx("button",{onClick:V,className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Clear Filters"}):o.jsx("button",{onClick:()=>b("/"),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Browse Cards"})]}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:A.map(H=>o.jsxs("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300",children:[o.jsxs("div",{className:"relative h-48 bg-gray-200",children:[o.jsx("img",{src:H.cardImageUrl,alt:H.cardTitle,className:"w-full h-full object-cover",onError:j=>{const W=j.target;W.src="https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2"}}),o.jsxs("div",{className:"absolute top-2 left-2 bg-green-600 text-white px-2 sm:px-3 py-1 rounded-full text-xs sm:text-sm font-medium",children:[H.openSlots," slots open"]}),o.jsx("div",{className:"absolute top-2 right-2 bg-blue-600 text-white px-2 py-1 rounded text-xs sm:text-sm",children:"Join Game"}),H.perSlotPrice&&o.jsxs("div",{className:"absolute bottom-2 right-2 bg-yellow-500 text-white px-2 py-1 rounded text-xs sm:text-sm font-semibold",children:["₹",H.perSlotPrice,"/slot"]})]}),o.jsxs("div",{className:"p-4 sm:p-6",children:[o.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2 line-clamp-1",children:H.cardTitle}),o.jsxs("div",{className:"space-y-2 mb-4",children:[o.jsx("div",{className:"flex items-center text-gray-600 text-sm",children:o.jsx("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full mr-2",children:H.cardType})}),o.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[o.jsx(qr,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:X(H.date)})]}),o.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:H.timeSlot})]}),H.cardLocation&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[o.jsx(yn,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:H.cardLocation})]}),(H.cardOpeningTime||H.cardClosingTime)&&o.jsxs("div",{className:"flex items-center text-gray-600 text-sm",children:[o.jsx(Tt,{className:"w-4 h-4 mr-2 flex-shrink-0"}),o.jsx("span",{className:"truncate",children:H.cardOpeningTime&&H.cardClosingTime?`${H.cardOpeningTime} - ${H.cardClosingTime}`:H.cardOpeningTime||H.cardClosingTime})]})]}),o.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-4 space-y-2 sm:space-y-0",children:[o.jsxs("div",{className:"flex items-center text-green-600",children:[o.jsx(fr,{className:"w-5 h-5 mr-2"}),o.jsxs("span",{className:"font-semibold text-sm",children:[H.openSlots," slots available"]})]}),H.perSlotPrice&&o.jsx("div",{className:"flex items-center text-blue-600",children:o.jsxs("span",{className:"font-semibold text-sm",children:["₹",H.perSlotPrice,"/slot"]})})]}),o.jsx("button",{onClick:()=>oe(H),disabled:R("admin"),className:"w-full bg-green-600 text-white py-3 px-6 rounded-lg hover:bg-green-700 transition-colors duration-200 font-medium disabled:opacity-50 disabled:cursor-not-allowed text-sm sm:text-base",children:R("admin")?"Admin View Only":"Join Game"})]})]},H.id))}),J>1&&o.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[o.jsxs("button",{onClick:()=>ne(x-1),disabled:x===1,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:[o.jsx(Xd,{className:"w-4 h-4 mr-1"}),"Previous"]}),o.jsx("div",{className:"flex items-center space-x-2 overflow-x-auto",children:Array.from({length:Math.min(5,J)},(H,j)=>{let W;return J<=5||x<=3?W=j+1:x>=J-2?W=J-4+j:W=x-2+j,o.jsx("button",{onClick:()=>ne(W),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 ${W===x?"bg-blue-600 text-white":"text-gray-500 bg-white border border-gray-300 hover:bg-gray-50 hover:text-gray-700"}`,children:W},W)})}),o.jsxs("button",{onClick:()=>ne(x+1),disabled:x===J,className:"flex items-center px-4 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:["Next",o.jsx(Yd,{className:"w-4 h-4 ml-1"})]})]})]})]}):o.jsxs("div",{className:"text-center py-16 bg-white rounded-xl shadow-lg",children:[o.jsx(Mo,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-600 mb-2",children:"Sign In to View Games"}),o.jsx("p",{className:"text-gray-500 mb-6 text-sm sm:text-base px-4",children:"Please sign in to your account to view and join available games."}),o.jsxs("button",{onClick:()=>h(!0),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200",children:[o.jsx(Mo,{className:"w-5 h-5 mr-2"}),"Sign In"]})]}),d&&o.jsx(z,{}),f&&o.jsx(Z,{})]})},C6=()=>{const[t,e]=k.useState({title:"Welcome to TURFION",subtitle:"Discover and book amazing sports venues and activities",backgroundImage:"https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",buttonText:"Explore Now",buttonLink:"#cards"}),[r,n]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const i=await ar(ve(se,"settings","hero"));if(i.exists()){const a=i.data();e(a)}}catch(i){console.error("Error fetching hero data:",i)}finally{n(!1)}})()},[]);const A=()=>{if(t.buttonLink.startsWith("#")){const s=document.querySelector(t.buttonLink);s&&s.scrollIntoView({behavior:"smooth"})}else window.open(t.buttonLink,"_blank")};return r?o.jsx("div",{className:"relative h-64 sm:h-80 md:h-96 bg-gray-200 animate-pulse rounded-xl mb-12",children:o.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:o.jsx("div",{className:"text-gray-400",children:"Loading..."})})}):o.jsxs("div",{className:"relative h-64 sm:h-80 md:h-96 rounded-xl overflow-hidden mb-12 shadow-2xl",children:[o.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${t.backgroundImage})`},children:o.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"})}),o.jsx("div",{className:"relative h-full flex items-center justify-center text-center text-white px-4",children:o.jsxs("div",{className:"max-w-4xl",children:[o.jsx("h1",{className:"text-2xl sm:text-4xl md:text-6xl font-bold mb-4 leading-tight",children:t.title}),o.jsx("p",{className:"text-sm sm:text-xl md:text-2xl mb-6 sm:mb-8 text-gray-200 leading-relaxed px-4",children:t.subtitle}),o.jsx("button",{onClick:A,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-6 sm:py-4 sm:px-8 rounded-lg text-sm sm:text-lg transition-all duration-300 transform hover:scale-105 shadow-lg",children:t.buttonText})]})})]})},E6=()=>o.jsx("footer",{className:"bg-gradient-to-r from-gray-900 to-black text-white py-8 sm:py-12 mt-16",children:o.jsxs("div",{className:"container mx-auto px-4",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 sm:gap-8",children:[o.jsxs("div",{className:"md:col-span-2",children:[o.jsx("h3",{className:"text-xl sm:text-2xl font-bold mb-4",children:"TURFION"}),o.jsx("p",{className:"text-gray-300 mb-4 leading-relaxed text-sm sm:text-base",children:"Your premier destination for booking sports venues and activities. Connect with fellow players and discover amazing facilities in your area."}),o.jsxs("div",{className:"flex items-center space-x-2 text-gray-300 mb-4",children:[o.jsx(XI,{className:"w-4 h-4 flex-shrink-0"}),o.jsx("a",{href:"mailto:info@turfion.com",className:"hover:text-blue-400 transition-colors duration-200 text-sm sm:text-base",children:"info@turfion.com"})]}),o.jsx("p",{className:"text-gray-400 text-xs sm:text-sm",children:"A product of Akxtral"})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-base sm:text-lg font-semibold mb-4",children:"Quick Links"}),o.jsxs("ul",{className:"space-y-2",children:[o.jsx("li",{children:o.jsx("a",{href:"/",className:"text-gray-300 hover:text-blue-400 transition-colors duration-200 text-sm sm:text-base",children:"Home"})}),o.jsx("li",{children:o.jsx("a",{href:"/games",className:"text-gray-300 hover:text-blue-400 transition-colors duration-200 text-sm sm:text-base",children:"Join Games"})}),o.jsx("li",{children:o.jsx("a",{href:"/profile",className:"text-gray-300 hover:text-blue-400 transition-colors duration-200 text-sm sm:text-base",children:"Profile"})}),o.jsx("li",{children:o.jsx("a",{href:"/dashboard",className:"text-gray-300 hover:text-blue-400 transition-colors duration-200 text-sm sm:text-base",children:"Dashboard"})})]})]})]}),o.jsxs("div",{className:"border-t border-gray-700 mt-6 sm:mt-8 pt-6 sm:pt-8 flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[o.jsxs("div",{className:"text-gray-400 text-xs sm:text-sm text-center md:text-left",children:["© ",new Date().getFullYear()," TURFION. All rights reserved."]}),o.jsx("div",{className:"flex items-center space-x-4",children:o.jsx("div",{className:"text-gray-400 text-xs sm:text-sm text-center",children:"Made with ❤️ for sports enthusiasts"})})]})]})}),b6=[{id:"1",name:"Victory Sports Arena",rating:4.5,sports:["Football"],location:"Banjara Hills",area:"Hyderabad",image:"https://img.olympics.com/images/image/private/t_s_pog_staticContent_hero_sm_2x/f_auto/primary/hsz5zl0ur6fuza7gfpx8",pricePerHour:1200,distance:"3.2 km",openingTime:"Opens tomorrow at 6:00am"},{id:"2",name:"Champions Cricket Ground",rating:4.3,sports:["Cricket"],location:"Jubilee Hills",area:"Hyderabad",image:"https://images.pexels.com/photos/3657154/pexels-photo-3657154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2",pricePerHour:1500,distance:"5.1 km",openingTime:"Opens tomorrow at 5:30am"},{id:"3",name:"Elite Tennis Club",rating:4.8,sports:["Badminton"],location:"Gachibowli",area:"Hyderabad",image:"https://img.olympics.com/images/image/private/t_s_pog_staticContent_hero_sm_2x/f_auto/primary/hsz5zl0ur6fuza7gfpx8",pricePerHour:800,distance:"7.4 km",openingTime:"Opens tomorrow at 7:00am"}],_6=["/games","/profile","/dashboard","/book","/receipt","/mfa-settings"];function I6(){const{user:t,logout:e,userProfile:r,firebaseError:n}=xt(),[A,s]=k.useState(!1),[i,a]=k.useState(!1),[l,u]=k.useState(!1),[d,h]=k.useState(!1),f=rn(),w=Lp(),v=k.useRef(null),_=k.useRef(null),Q=_6.some(S=>w.pathname.startsWith(S));if(k.useEffect(()=>{const S=R=>{v.current&&!v.current.contains(R.target)&&u(!1),_.current&&!_.current.contains(R.target)&&h(!1)};return document.addEventListener("mousedown",S),()=>{document.removeEventListener("mousedown",S)}},[]),k.useEffect(()=>{Q&&!t&&!A&&!i&&s(!0)},[Q,t,A,i]),n)return o.jsx("div",{className:"min-h-screen bg-red-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"max-w-md w-full bg-white rounded-xl shadow-lg p-6",children:[o.jsxs("div",{className:"flex items-center mb-4",children:[o.jsx(OA,{className:"w-8 h-8 text-red-600 mr-3"}),o.jsx("h1",{className:"text-xl font-bold text-red-800",children:"Configuration Error"})]}),o.jsx("p",{className:"text-red-700 mb-4",children:n}),o.jsxs("div",{className:"bg-red-100 border border-red-300 rounded-lg p-4",children:[o.jsx("h3",{className:"font-semibold text-red-800 mb-2",children:"For Netlify Deployment:"}),o.jsx("p",{className:"text-sm text-red-700 mb-2",children:"Go to your Netlify dashboard → Site settings → Environment variables and add:"}),o.jsxs("ul",{className:"text-xs text-red-600 space-y-1 font-mono",children:[o.jsx("li",{children:"VITE_FIREBASE_API_KEY"}),o.jsx("li",{children:"VITE_FIREBASE_AUTH_DOMAIN"}),o.jsx("li",{children:"VITE_FIREBASE_PROJECT_ID"}),o.jsx("li",{children:"VITE_FIREBASE_STORAGE_BUCKET"}),o.jsx("li",{children:"VITE_FIREBASE_MESSAGING_SENDER_ID"}),o.jsx("li",{children:"VITE_FIREBASE_APP_ID"})]})]})]})});if(!WI)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Initializing application..."})]})});const B=async()=>{try{await e(),s(!1),a(!1),h(!1),u(!1),f("/")}catch{console.error("Failed to log out")}},m=()=>{h(!1),u(!1),f("/profile")},y=()=>{h(!1),u(!1),f("/dashboard")},C=()=>{h(!1),f("/games")},F=()=>{s(!1),a(!1)},T=()=>{u(!l)},E=S=>{const R={user:"bg-blue-100 text-blue-800",host:"bg-purple-100 text-purple-800",admin:"bg-red-100 text-red-800"};return o.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${R[S]||"bg-gray-100 text-gray-800"}`,children:S.charAt(0).toUpperCase()+S.slice(1)})},x=()=>o.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 bg-white rounded-xl shadow-xl border border-gray-200 p-6 z-50",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsxs("div",{className:"flex-shrink-0",children:[r!=null&&r.photoURL?o.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-16 h-16 rounded-full object-cover border-2 border-gray-200",onError:S=>{var N;const R=S.target;R.style.display="none",(N=R.nextElementSibling)==null||N.classList.remove("hidden")}}):null,o.jsx("div",{className:`w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center ${r!=null&&r.photoURL?"hidden":""}`,children:o.jsx(Ei,{className:"w-8 h-8 text-white"})})]}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:(r==null?void 0:r.displayName)||"User"}),o.jsx("p",{className:"text-sm text-gray-600 truncate mb-2",children:t==null?void 0:t.email}),o.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[(r==null?void 0:r.role)&&E(r.role),(r==null?void 0:r.mfaEnabled)&&o.jsxs("div",{className:"flex items-center space-x-1 text-xs text-green-600",children:[o.jsx(Dr,{className:"w-3 h-3"}),o.jsx("span",{children:"MFA"})]})]}),(r==null?void 0:r.phoneNumber)&&o.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["📞 ",r.phoneNumber]}),o.jsxs("div",{className:"flex flex-col space-y-2",children:[o.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white text-xs py-2 px-3 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"View Profile"}),o.jsx("button",{onClick:y,className:"w-full bg-gray-100 text-gray-700 text-xs py-2 px-3 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Dashboard"}),o.jsxs("button",{onClick:B,className:"w-full bg-red-600 text-white text-xs py-2 px-3 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center justify-center space-x-1",children:[o.jsx(Ov,{className:"w-3 h-3"}),o.jsx("span",{children:"Logout"})]})]})]})]})}),I=()=>o.jsx("div",{className:"lg:hidden",children:o.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50",onClick:()=>h(!1),children:o.jsxs("div",{ref:_,className:"fixed right-0 top-0 h-full w-64 bg-white shadow-xl transform transition-transform duration-300 ease-in-out",onClick:S=>S.stopPropagation(),children:[o.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[o.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Menu"}),o.jsx("button",{onClick:()=>h(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(et,{className:"w-5 h-5 text-gray-500"})})]}),o.jsxs("div",{className:"py-4",children:[o.jsx("button",{onClick:C,className:"w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors duration-200",children:"Join Games"}),t?o.jsxs(o.Fragment,{children:[o.jsxs("button",{onClick:y,className:"w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors duration-200 flex items-center space-x-2",children:[o.jsx(FD,{className:"w-4 h-4"}),o.jsx("span",{children:"Dashboard"})]}),o.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors duration-200 flex items-center space-x-2",children:[o.jsx(Ei,{className:"w-4 h-4"}),o.jsx("span",{children:"Profile"})]}),o.jsx("hr",{className:"my-2 border-gray-200"}),o.jsxs("button",{onClick:B,className:"w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors duration-200 flex items-center space-x-2",children:[o.jsx(Ov,{className:"w-4 h-4"}),o.jsx("span",{children:"Logout"})]})]}):o.jsx("button",{onClick:()=>{h(!1),s(!0),a(!1)},className:"w-full text-left px-4 py-3 text-gray-700 hover:bg-gray-100 transition-colors duration-200","data-login-trigger":!0,children:"Login"})]})]})})}),b=()=>o.jsx("div",{className:"min-h-[calc(100vh-4rem)] flex items-center justify-center bg-gray-50 py-12 px-4",children:o.jsxs("div",{className:"max-w-md w-full text-center bg-white p-6 sm:p-8 rounded-xl shadow-lg",children:[o.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Mo,{className:"w-8 h-8 text-blue-600"})}),o.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-4",children:"Authentication Required"}),o.jsx("p",{className:"text-gray-600 mb-6 text-sm sm:text-base",children:"You need to be signed in to access this page. Please log in to continue."}),o.jsxs("div",{className:"space-y-3",children:[o.jsx("button",{onClick:()=>s(!0),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:"Sign In"}),o.jsx("button",{onClick:()=>f("/"),className:"w-full bg-gray-100 text-gray-700 py-3 px-6 rounded-lg hover:bg-gray-200 transition-colors duration-200 font-medium",children:"Go Home"})]})]})});return o.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50",children:[o.jsx("nav",{className:"sticky top-4 z-40 px-4",children:o.jsx("div",{className:"container mx-auto max-w-4xl",children:o.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full shadow-xl px-4 sm:px-8 py-4 border border-white/20",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("a",{href:"/",onClick:S=>{S.preventDefault(),f("/"),s(!1),a(!1)},className:"text-xl sm:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent hover:from-purple-600 hover:to-blue-600 px-2 sm:px-4 py-2 rounded-full transition-all duration-200",children:"TURFION"}),o.jsxs("div",{className:"hidden lg:flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>f("/games"),className:"text-gray-700 hover:bg-gradient-to-r hover:from-blue-600 hover:to-purple-600 hover:text-white px-4 py-2 rounded-full transition-all duration-200",children:"Join Games"}),t?o.jsxs("div",{className:"relative",ref:v,children:[o.jsxs("button",{onClick:T,className:"flex items-center space-x-2 text-gray-700 hover:bg-gradient-to-r hover:from-blue-600 hover:to-purple-600 hover:text-white px-4 py-2 rounded-full transition-all duration-200",children:[o.jsxs("div",{className:"w-8 h-8 rounded-full flex items-center justify-center overflow-hidden",children:[r!=null&&r.photoURL?o.jsx("img",{src:r.photoURL,alt:"Profile",className:"w-full h-full object-cover",onError:S=>{var N;const R=S.target;R.style.display="none",(N=R.nextElementSibling)==null||N.classList.remove("hidden")}}):null,o.jsx("div",{className:`w-full h-full bg-gradient-to-r from-blue-500 to-purple-500 flex items-center justify-center ${r!=null&&r.photoURL?"hidden":""}`,children:o.jsx(Ei,{className:"w-4 h-4 text-white"})})]}),o.jsx(qI,{className:`w-4 h-4 transition-transform duration-200 ${l?"rotate-180":""}`})]}),l&&o.jsx(x,{})]}):o.jsx("button",{onClick:()=>{s(!0),a(!1)},className:"text-gray-700 hover:bg-gradient-to-r hover:from-blue-600 hover:to-purple-600 hover:text-white px-4 py-2 rounded-full transition-all duration-200","data-login-trigger":!0,children:"Login"})]}),o.jsx("div",{className:"lg:hidden",children:o.jsx("button",{onClick:()=>h(!0),className:"p-2 text-gray-700 hover:bg-gray-100 rounded-full transition-colors duration-200",children:o.jsx(kD,{className:"w-6 h-6"})})})]})})})}),d&&o.jsx(I,{}),o.jsx("div",{className:"pt-4",children:A&&!t?o.jsx(KD,{onSignUpClick:()=>{s(!1),a(!0)},onSuccess:F}):i&&!t?o.jsx(GD,{onLoginClick:()=>{a(!1),s(!0)},onSuccess:F}):Q&&!t?o.jsx(b,{}):o.jsxs(g2,{children:[o.jsx(on,{path:"/ground/:id",element:o.jsx(zD,{grounds:b6})}),o.jsx(on,{path:"/card/:id",element:o.jsx(WD,{})}),o.jsx(on,{path:"/book/:id",element:o.jsx($D,{})}),o.jsx(on,{path:"/receipt/:id",element:o.jsx(BV,{isModal:!1})}),o.jsx(on,{path:"/profile",element:o.jsx(vV,{})}),o.jsx(on,{path:"/mfa-settings",element:o.jsx(l6,{})}),o.jsx(on,{path:"/dashboard",element:o.jsx(y6,{})}),o.jsx(on,{path:"/games",element:o.jsx(x6,{})}),o.jsx(on,{path:"/",element:o.jsxs("div",{className:"container mx-auto px-4 py-8",children:[o.jsx(C6,{}),o.jsx("div",{id:"cards",children:o.jsx(v6,{})})]})})]})}),o.jsx(E6,{})]})}ib(document.getElementById("root")).render(o.jsx(k.StrictMode,{children:o.jsx(w2,{children:o.jsx(_D,{children:o.jsx(I6,{})})})}));
